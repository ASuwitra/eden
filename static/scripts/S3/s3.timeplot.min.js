/*
: 2013-14 (c) Sahana Software Foundation
 @license: MIT

 requires: jQuery 1.9.1+
 requires: jQuery UI 1.10 widget factory
 requires: D3.js 3.4.9+

*/
!function(){function ma(c,p){return c<p?-1:c>p?1:c>=p?0:NaN}function r(c){return null!=c&&!isNaN(c)}function a(c){return{left:function(p,a,g,h){3>arguments.length&&(g=0);4>arguments.length&&(h=p.length);for(;g<h;){var m=g+h>>>1;0>c(p[m],a)?g=m+1:h=m}return g},right:function(p,a,g,h){3>arguments.length&&(g=0);4>arguments.length&&(h=p.length);for(;g<h;){var m=g+h>>>1;0<c(p[m],a)?h=m:g=m+1}return g}}}function b(c){return c.length}function t(c,p){try{for(var a in p)Object.defineProperty(c.prototype,a,
{value:p[a],enumerable:!1})}catch(g){c.prototype=p}}function z(){}function u(c){return kb+c in this}function l(){var c=[];this.forEach(function(p){c.push(p)});return c}function f(){var c=0,p;for(p in this)p.charCodeAt(0)===Ub&&++c;return c}function w(){for(var c in this)if(c.charCodeAt(0)===Ub)return!1;return!0}function q(){}function G(c,p,a){return function(){var g=a.apply(p,arguments);return g===p?c:g}}function D(c,p){if(p in c)return p;p=p.charAt(0).toUpperCase()+p.substring(1);for(var a=0,g=Ud.length;a<
g;++a){var h=Ud[a]+p;if(h in c)return h}}function A(){}function H(){}function F(c){function p(){for(var p=a,g=-1,I=p.length,v;++g<I;)(v=p[g].on)&&v.apply(this,arguments);return c}var a=[],g=new z;p.on=function(p,m){var I=g.get(p),v;if(2>arguments.length)return I&&I.on;I&&(I.on=null,a=a.slice(0,v=a.indexOf(I)).concat(a.slice(v+1)),g.remove(p));m&&a.push(g.set(p,{on:m}));return c};return p}function L(){y.event.preventDefault()}function Q(){for(var c=y.event,p;p=c.sourceEvent;)c=p;return c}function N(c){for(var p=
new H,a=0,g=arguments.length;++a<g;)p[arguments[a]]=F(p);p.of=function(a,e){return function(g){try{var v=g.sourceEvent=y.event;g.target=c;y.event=g;p[g.type].apply(a,e)}finally{y.event=v}}};return p}function C(c){Vb(c,na);return c}function P(c){return"function"===typeof c?c:function(){return Qc(c,this)}}function J(c){return"function"===typeof c?c:function(){return Rc(c,this)}}function M(c,p){function a(){this.removeAttribute(c)}function g(){this.removeAttributeNS(c.space,c.local)}function h(){this.setAttribute(c,
p)}function m(){this.setAttributeNS(c.space,c.local,p)}function I(){var a=p.apply(this,arguments);null==a?this.removeAttribute(c):this.setAttribute(c,a)}function v(){var a=p.apply(this,arguments);null==a?this.removeAttributeNS(c.space,c.local):this.setAttributeNS(c.space,c.local,a)}c=y.ns.qualify(c);return null==p?c.local?g:a:"function"===typeof p?c.local?v:I:c.local?m:h}function T(c){return c.trim().replace(/\s+/g," ")}function O(c){return new RegExp("(?:^|\\s+)"+y.requote(c)+"(?:\\s+|$)","g")}function s(c,
p){function a(){for(var e=-1;++e<h;)c[e](this,p)}function g(){for(var a=-1,e=p.apply(this,arguments);++a<h;)c[a](this,e)}c=(c+"").trim().split(/^|\s+/).map(B);var h=c.length;return"function"===typeof p?g:a}function B(c){var p=O(c);return function(a,g){if(h=a.classList)return g?h.add(c):h.remove(c);var h=a.getAttribute("class")||"";g?(p.lastIndex=0,p.test(h)||a.setAttribute("class",T(h+" "+c))):a.setAttribute("class",T(h.replace(p," ")))}}function K(c,p,a){function g(){this.style.removeProperty(c)}
function h(){this.style.setProperty(c,p,a)}function m(){var g=p.apply(this,arguments);null==g?this.style.removeProperty(c):this.style.setProperty(c,g,a)}return null==p?g:"function"===typeof p?m:h}function x(c,p){function a(){delete this[c]}function g(){this[c]=p}function h(){var a=p.apply(this,arguments);null==a?delete this[c]:this[c]=a}return null==p?a:"function"===typeof p?h:g}function S(c){return"function"===typeof c?c:(c=y.ns.qualify(c)).local?function(){return this.ownerDocument.createElementNS(c.space,
c.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,c)}}function R(c){return function(){return Vd(this,c)}}function V(c){arguments.length||(c=ma);return function(p,a){return p&&a?c(p.__data__,a.__data__):!p-!a}}function n(c,p){for(var a=0,g=c.length;a<g;a++)for(var h=c[a],m=0,I=h.length,v;m<I;m++)(v=h[m])&&p(v,m,a);return c}function $(c){Vb(c,Va);return c}function W(c){var p,a;return function(g,h,m){g=c[m].update;var I=g.length;m!=a&&(a=m,p=0);for(h>=p&&(p=h+1);!(h=g[p])&&
++p<I;);return h}}function k(){var c=this.__transition__;c&&++c.active}function E(c,p,a){function g(){var p=this[I];p&&(this.removeEventListener(c,p,p.$),delete this[I])}function h(){var h=U(p,db(arguments));g.call(this);this.addEventListener(c,this[I]=h,h.$=a);h._=p}function m(){var p=new RegExp("^__on([^.]+)"+y.requote(c)+"$"),a,e;for(e in this)if(a=e.match(p)){var g=this[e];this.removeEventListener(a[1],g,g.$);delete this[e]}}var I="__on"+c,v=c.indexOf("."),U=X;0<v&&(c=c.substring(0,v));var b=
Sc.get(c);b&&(c=b,U=ia);return v?p?h:g:p?A:m}function X(c,p){return function(a){var g=y.event;y.event=a;p[0]=this.__data__;try{c.apply(this,p)}finally{y.event=g}}}function ia(c,p){var a=X(c,p);return function(c){var p=c.relatedTarget;p&&(p===this||p.compareDocumentPosition(this)&8)||a.call(this,c)}}function ja(){var c=".dragsuppress-"+ ++mg,p="click"+c,a=y.select(Ba).on("touchmove"+c,L).on("dragstart"+c,L).on("selectstart"+c,L);if(Gb){var g=Wa.style,h=g[Gb];g[Gb]="none"}return function(m){a.on(c,
null);Gb&&(g[Gb]=h);if(m){var I=function(){a.on(p,null)};a.on(p,function(){L();I()},!0);setTimeout(I,0)}}}function Y(c,p){p.changedTouches&&(p=p.changedTouches[0]);var a=c.ownerSVGElement||c;if(a.createSVGPoint){var g=a.createSVGPoint();if(0>Tc&&(Ba.scrollX||Ba.scrollY)){var a=y.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"),h=a[0][0].getScreenCTM();Tc=!(h.f||h.e);a.remove()}Tc?(g.x=p.pageX,g.y=p.pageY):(g.x=p.clientX,g.y=p.clientY);
g=g.matrixTransform(c.getScreenCTM().inverse());return[g.x,g.y]}a=c.getBoundingClientRect();return[p.clientX-a.left-c.clientLeft,p.clientY-a.top-c.clientTop]}function ea(){return y.event.changedTouches[0].identifier}function ka(){return y.event.target}function ba(){return Ba}function da(c,p,a){return(p[0]-c[0])*(a[1]-c[1])-(p[1]-c[1])*(a[0]-c[0])}function la(c){return 1<c?0:-1>c?ga:Math.acos(c)}function ca(c){return 1<c?ya:-1>c?-ya:Math.asin(c)}function pa(c){return((c=Math.exp(c))+1/c)/2}function Na(c){return(c=
Math.sin(c/2))*c}function ua(){}function oa(c,p,a){return this instanceof oa?void(this.h=+c,this.s=+p,this.l=+a):2>arguments.length?c instanceof oa?new oa(c.h,c.s,c.l):Wd(""+c,Xd,oa):new oa(c,p,a)}function Xa(c,p,a){function g(c){360<c?c-=360:0>c&&(c+=360);return 60>c?h+(m-h)*c/60:180>c?m:240>c?h+(m-h)*(240-c)/60:h}var h,m;c=isNaN(c)?0:0>(c%=360)?c+360:c;p=isNaN(p)?0:0>p?0:1<p?1:p;a=0>a?0:1<a?1:a;m=.5>=a?a*(1+p):a+p-a*p;h=2*a-m;return new Ca(Math.round(255*g(c+120)),Math.round(255*g(c)),Math.round(255*
g(c-120)))}function Ea(c,p,a){return this instanceof Ea?void(this.h=+c,this.c=+p,this.l=+a):2>arguments.length?c instanceof Ea?new Ea(c.h,c.c,c.l):c instanceof Oa?Yd(c.l,c.a,c.b):Yd((c=Zd((c=y.rgb(c)).r,c.g,c.b)).l,c.a,c.b):new Ea(c,p,a)}function Uc(c,p,a){isNaN(c)&&(c=0);isNaN(p)&&(p=0);return new Oa(a,Math.cos(c*=fa)*p,Math.sin(c)*p)}function Oa(c,p,a){return this instanceof Oa?void(this.l=+c,this.a=+p,this.b=+a):2>arguments.length?c instanceof Oa?new Oa(c.l,c.a,c.b):c instanceof Ea?Uc(c.l,c.c,
c.h):Zd((c=Ca(c)).r,c.g,c.b):new Oa(c,p,a)}function $d(c,p,a){c=(c+16)/116;a=c-a/200;p=Vc(c+p/500)*ae;c=Vc(c)*be;a=Vc(a)*ce;return new Ca(Wc(3.2404542*p-1.5371385*c-.4985314*a),Wc(-.969266*p+1.8760108*c+.041556*a),Wc(.0556434*p-.2040259*c+1.0572252*a))}function Yd(c,p,a){return 0<c?new Ea(Math.atan2(a,p)*ra,Math.sqrt(p*p+a*a),c):new Ea(NaN,NaN,c)}function Vc(c){return.206893034<c?c*c*c:(c-4/29)/7.787037}function Xc(c){return.008856<c?Math.pow(c,1/3):7.787037*c+4/29}function Wc(c){return Math.round(255*
(.00304>=c?12.92*c:1.055*Math.pow(c,1/2.4)-.055))}function Ca(c,p,a){return this instanceof Ca?void(this.r=~~c,this.g=~~p,this.b=~~a):2>arguments.length?c instanceof Ca?new Ca(c.r,c.g,c.b):Wd(""+c,Ca,Xa):new Ca(c,p,a)}function Wb(c){return new Ca(c>>16,c>>8&255,c&255)+""}function ub(c){return 16>c?"0"+Math.max(0,c).toString(16):Math.min(255,c).toString(16)}function Wd(c,p,a){var g=0,h=0,m=0,I,v;if(I=/([a-z]+)\((.*)\)/i.exec(c))switch(v=I[2].split(","),I[1]){case "hsl":return a(parseFloat(v[0]),parseFloat(v[1])/
100,parseFloat(v[2])/100);case "rgb":return p(Yc(v[0]),Yc(v[1]),Yc(v[2]))}if(a=Xb.get(c))return p(a.r,a.g,a.b);null==c||"#"!==c.charAt(0)||isNaN(a=parseInt(c.substring(1),16))||(4===c.length?(g=(a&3840)>>4,g|=g>>4,h=a&240,h|=h>>4,m=a&15,m|=m<<4):7===c.length&&(g=(a&16711680)>>16,h=(a&65280)>>8,m=a&255));return p(g,h,m)}function Xd(c,p,a){var g=Math.min(c/=255,p/=255,a/=255),h=Math.max(c,p,a),m=h-g,I=(h+g)/2;m?(g=.5>I?m/(h+g):m/(2-h-g),c=60*(c==h?(p-a)/m+(p<a?6:0):p==h?(a-c)/m+2:(c-p)/m+4)):(c=NaN,
g=0<I&&1>I?0:c);return new oa(c,g,I)}function Zd(c,p,a){c=Zc(c);p=Zc(p);a=Zc(a);var g=Xc((.4124564*c+.3575761*p+.1804375*a)/ae),h=Xc((.2126729*c+.7151522*p+.072175*a)/be);c=Xc((.0193339*c+.119192*p+.9503041*a)/ce);return Oa(116*h-16,500*(g-h),200*(h-c))}function Zc(c){return.04045>=(c/=255)?c/12.92:Math.pow((c+.055)/1.055,2.4)}function Yc(c){var p=parseFloat(c);return"%"===c.charAt(c.length-1)?Math.round(2.55*p):p}function qa(c){return"function"===typeof c?c:function(){return c}}function wa(c){return c}
function $c(c){return function(p,a,g){2===arguments.length&&"function"===typeof a&&(g=a,a=null);return Yb(p,a,c,g)}}function Yb(c,p,a,g){function h(){var c=U.status,p;if(!c&&U.responseText||200<=c&&300>c||304===c){try{p=a.call(m,U)}catch(g){I.error.call(m,g);return}I.load.call(m,p)}else I.error.call(m,U)}var m={},I=y.dispatch("beforesend","progress","load","error"),v={},U=new XMLHttpRequest,b=null;!Ba.XDomainRequest||"withCredentials"in U||!/^(http(s)?:)?\/\//.test(c)||(U=new XDomainRequest);"onload"in
U?U.onload=U.onerror=h:U.onreadystatechange=function(){3<U.readyState&&h()};U.onprogress=function(c){var p=y.event;y.event=c;try{I.progress.call(m,U)}finally{y.event=p}};m.header=function(c,p){c=(c+"").toLowerCase();if(2>arguments.length)return v[c];null==p?delete v[c]:v[c]=p+"";return m};m.mimeType=function(c){if(!arguments.length)return p;p=null==c?null:c+"";return m};m.responseType=function(c){if(!arguments.length)return b;b=c;return m};m.response=function(c){a=c;return m};["get","post"].forEach(function(c){m[c]=
function(){return m.send.apply(m,[c].concat(db(arguments)))}});m.send=function(a,e,g){2===arguments.length&&"function"===typeof e&&(g=e,e=null);U.open(a,c,!0);null==p||"accept"in v||(v.accept=p+",*/*");if(U.setRequestHeader)for(var h in v)U.setRequestHeader(h,v[h]);null!=p&&U.overrideMimeType&&U.overrideMimeType(p);null!=b&&(U.responseType=b);if(null!=g)m.on("error",g).on("load",function(c){g(null,c)});I.beforesend.call(m,U);U.send(null==e?null:e);return m};m.abort=function(){U.abort();return m};
y.rebind(m,I,"on");return null==g?m:m.get(ng(g))}function ng(c){return 1===c.length?function(p,a){c(null==p?a:null)}:c}function ad(){var c=de(),c=ee()-c;24<c?(isFinite(c)&&(clearTimeout(Zb),Zb=setTimeout(ad,c)),$b=0):($b=1,fe(ad))}function de(){var c=Date.now();for(Ya=ac;Ya;)c>=Ya.t&&(Ya.f=Ya.c(c-Ya.t)),Ya=Ya.n;return c}function ee(){for(var c,p=ac,a=Infinity;p;)p.f?p=c?c.n=p.n:ac=p.n:(p.t<a&&(a=p.t),p=(c=p).n);bc=c;return a}function bd(c,p){return p-(c?Math.ceil(Math.log(c)/Math.LN10):1)}function og(c){var p=
c.decimal,a=c.thousands,g=c.grouping,h=c.currency,m=g?function(c){for(var p=c.length,h=[],m=0,b=g[0];0<p&&0<b;)h.push(c.substring(p-=b,p+b)),b=g[m=(m+1)%g.length];return h.reverse().join(a)}:wa;return function(c){c=ge.exec(c);var a=c[1]||" ",e=c[2]||">",g=c[3]||"",b=c[4]||"",k=c[5],xa=+c[6],f=c[7],l=c[8],n=c[9],x=1,s="",t="",E=!1;l&&(l=+l.substring(1));if(k||"0"===a&&"="===e)k=a="0",e="=",f&&(xa-=Math.floor((xa-1)/4));switch(n){case "n":f=!0;n="g";break;case "%":x=100;t="%";n="f";break;case "p":x=
100;t="%";n="r";break;case "b":case "o":case "x":case "X":"#"===b&&(s="0"+n.toLowerCase());case "c":case "d":E=!0;l=0;break;case "s":x=-1,n="r"}"$"===b&&(s=h[0],t=h[1]);"r"!=n||l||(n="g");if(null!=l)if("g"==n)l=Math.max(1,Math.min(21,l));else if("e"==n||"f"==n)l=Math.max(0,Math.min(20,l));var n=pg.get(n)||qg,q=k&&f;return function(c){var h=t;if(E&&c%1)return"";var I=0>c||0===c&&0>1/c?(c=-c,"-"):g;0>x?(h=y.formatPrefix(c,l),c=h.scale(c),h=h.symbol+t):c*=x;c=n(c,l);var b=c.lastIndexOf("."),za=0>b?c:
c.substring(0,b);c=0>b?"":p+c.substring(b+1);!k&&f&&(za=m(za));var b=s.length+za.length+c.length+(q?0:I.length),B=b<xa?Array(b=xa-b+1).join(a):"";q&&(za=m(B+za));I+=s;c=za+c;return("<"===e?I+c+B:">"===e?B+I+c:"^"===e?B.substring(0,b>>=1)+I+c+B.substring(b):I+(q?c:B+c))+h}}}function qg(c){return c+""}function Za(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function lb(c,p,a){function g(p){var a=c(p),e=m(a,1);return p-a<e-p?a:e}function h(a){p(a=c(new Aa(a-1)),1);
return a}function m(c,a){p(c=new Aa(+c),a);return c}function I(c,g,m){c=h(c);var v=[];if(1<m)for(;c<g;)a(c)%m||v.push(new Date(+c)),p(c,1);else for(;c<g;)v.push(new Date(+c)),p(c,1);return v}c.floor=c;c.round=g;c.ceil=h;c.offset=m;c.range=I;var v=c.utc=cc(c);v.floor=v;v.round=cc(g);v.ceil=cc(h);v.offset=cc(m);v.range=function(c,p,a){try{Aa=Za;var e=new Za;e._=c;return I(e,p,a)}finally{Aa=Date}};return c}function cc(c){return function(a,e){try{Aa=Za;var g=new Za;g._=a;return c(g,e)._}finally{Aa=Date}}}
function rg(c){function a(c){function p(a){for(var e=[],h=-1,m=0,v,I;++h<g;)if(37===c.charCodeAt(h)){e.push(c.substring(m,h));null!=(v=he[m=c.charAt(++h)])&&(m=c.charAt(++h));if(I=E[m])m=I(a,null==v?"e"===m?" ":"0":v);e.push(m);m=h+1}e.push(c.substring(m,h));return e.join("")}var g=c.length;p.parse=function(a){var p={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(e(p,c,a,0)!=a.length)return null;"p"in p&&(p.H=p.H%12+12*p.p);a=null!=p.Z&&Aa!==Za;var g=new (a?Za:Aa);"j"in p?g.setFullYear(p.y,0,p.j):"w"in
p&&("W"in p||"U"in p)?(g.setFullYear(p.y,0,1),g.setFullYear(p.y,0,"W"in p?(p.w+6)%7+7*p.W-(g.getDay()+5)%7:p.w+7*p.U-(g.getDay()+6)%7)):g.setFullYear(p.y,p.m,p.d);g.setHours(p.H+Math.floor(p.Z/100),p.M+p.Z%100,p.S,p.L);return a?g._:g};p.toString=function(){return c};return p}function e(c,p,a,e){for(var g,h=0,m=p.length,v=a.length;h<m;){if(e>=v)return-1;g=p.charCodeAt(h++);if(37===g){if(g=p.charAt(h++),g=B[g in he?p.charAt(h++):g],!g||0>(e=g(c,a,e)))return-1}else if(g!=a.charCodeAt(e++))return-1}return e}
var g=c.dateTime,h=c.date,m=c.time,I=c.periods,v=c.days,U=c.shortDays,b=c.months,k=c.shortMonths;a.utc=function(c){function e(c){try{Aa=Za;var p=new Aa;p._=c;return g(p)}finally{Aa=Date}}var g=a(c);e.parse=function(c){try{Aa=Za;var p=g.parse(c);return p&&p._}finally{Aa=Date}};e.toString=g.toString;return e};a.multi=a.utc.multi=sg;var Ja=y.map(),xa=dc(v),l=ec(v),f=dc(U),n=ec(U),x=dc(b),s=ec(b),t=dc(k),q=ec(k);I.forEach(function(c,p){Ja.set(c.toLowerCase(),p)});var E={a:function(c){return U[c.getDay()]},
A:function(c){return v[c.getDay()]},b:function(c){return k[c.getMonth()]},B:function(c){return b[c.getMonth()]},c:a(g),d:function(c,p){return Da(c.getDate(),p,2)},e:function(c,p){return Da(c.getDate(),p,2)},H:function(c,p){return Da(c.getHours(),p,2)},I:function(c,p){return Da(c.getHours()%12||12,p,2)},j:function(c,p){return Da(1+aa.dayOfYear(c),p,3)},L:function(c,p){return Da(c.getMilliseconds(),p,3)},m:function(c,p){return Da(c.getMonth()+1,p,2)},M:function(c,p){return Da(c.getMinutes(),p,2)},p:function(c){return I[+(12<=
c.getHours())]},S:function(c,p){return Da(c.getSeconds(),p,2)},U:function(c,p){return Da(aa.sundayOfYear(c),p,2)},w:function(c){return c.getDay()},W:function(c,p){return Da(aa.mondayOfYear(c),p,2)},x:a(h),X:a(m),y:function(c,p){return Da(c.getFullYear()%100,p,2)},Y:function(c,p){return Da(c.getFullYear()%1E4,p,4)},Z:tg,"%":function(){return"%"}},B={a:function(c,p,a){f.lastIndex=0;return(p=f.exec(p.substring(a)))?(c.w=n.get(p[0].toLowerCase()),a+p[0].length):-1},A:function(c,p,a){xa.lastIndex=0;return(p=
xa.exec(p.substring(a)))?(c.w=l.get(p[0].toLowerCase()),a+p[0].length):-1},b:function(c,p,a){t.lastIndex=0;return(p=t.exec(p.substring(a)))?(c.m=q.get(p[0].toLowerCase()),a+p[0].length):-1},B:function(c,p,a){x.lastIndex=0;return(p=x.exec(p.substring(a)))?(c.m=s.get(p[0].toLowerCase()),a+p[0].length):-1},c:function(c,p,a){return e(c,E.c.toString(),p,a)},d:ie,e:ie,H:je,I:je,j:ug,L:vg,m:wg,M:xg,p:function(c,p,a){p=Ja.get(p.substring(a,a+=2).toLowerCase());return null==p?-1:(c.p=p,a)},S:yg,U:zg,w:Ag,
W:Bg,x:function(c,p,a){return e(c,E.x.toString(),p,a)},X:function(c,p,a){return e(c,E.X.toString(),p,a)},y:Cg,Y:Dg,Z:Eg,"%":Fg};return a}function Da(c,p,a){var g=0>c?"-":"";c=(g?-c:c)+"";var h=c.length;return g+(h<a?Array(a-h+1).join(p)+c:c)}function dc(c){return new RegExp("^(?:"+c.map(y.requote).join("|")+")","i")}function ec(c){for(var p=new z,a=-1,g=c.length;++a<g;)p.set(c[a].toLowerCase(),a);return p}function Ag(c,p,a){ta.lastIndex=0;return(p=ta.exec(p.substring(a,a+1)))?(c.w=+p[0],a+p[0].length):
-1}function zg(c,p,a){ta.lastIndex=0;return(p=ta.exec(p.substring(a)))?(c.U=+p[0],a+p[0].length):-1}function Bg(c,p,a){ta.lastIndex=0;return(p=ta.exec(p.substring(a)))?(c.W=+p[0],a+p[0].length):-1}function Dg(c,p,a){ta.lastIndex=0;return(p=ta.exec(p.substring(a,a+4)))?(c.y=+p[0],a+p[0].length):-1}function Cg(c,p,a){ta.lastIndex=0;if(p=ta.exec(p.substring(a,a+2))){var g=+p[0];c=(c.y=g+(68<g?1900:2E3),a+p[0].length)}else c=-1;return c}function Eg(c,p,a){return/^[+-]\d{4}$/.test(p=p.substring(a,a+5))?
(c.Z=-p,a+5):-1}function wg(c,p,a){ta.lastIndex=0;return(p=ta.exec(p.substring(a,a+2)))?(c.m=p[0]-1,a+p[0].length):-1}function ie(c,p,a){ta.lastIndex=0;return(p=ta.exec(p.substring(a,a+2)))?(c.d=+p[0],a+p[0].length):-1}function ug(c,p,a){ta.lastIndex=0;return(p=ta.exec(p.substring(a,a+3)))?(c.j=+p[0],a+p[0].length):-1}function je(c,p,a){ta.lastIndex=0;return(p=ta.exec(p.substring(a,a+2)))?(c.H=+p[0],a+p[0].length):-1}function xg(c,p,a){ta.lastIndex=0;return(p=ta.exec(p.substring(a,a+2)))?(c.M=+p[0],
a+p[0].length):-1}function yg(c,a,e){ta.lastIndex=0;return(a=ta.exec(a.substring(e,e+2)))?(c.S=+a[0],e+a[0].length):-1}function vg(c,a,e){ta.lastIndex=0;return(a=ta.exec(a.substring(e,e+3)))?(c.L=+a[0],e+a[0].length):-1}function tg(c){var a=c.getTimezoneOffset();c=0<a?"-":"+";var e=~~(ha(a)/60),a=ha(a)%60;return c+Da(e,"0",2)+Da(a,"0",2)}function Fg(c,a,e){ke.lastIndex=0;return(c=ke.exec(a.substring(e,e+1)))?e+c[0].length:-1}function sg(c){for(var a=c.length,e=-1;++e<a;)c[e][0]=this(c[e][0]);return function(a){for(var p=
0,e=c[p];!e[1](a);)e=c[++p];return e[0](a)}}function cd(){}function le(c,a,e){var g=e.s=c+a,h=g-c;e.t=c-(g-h)+(a-h)}function fc(c,a){if(c&&me.hasOwnProperty(c.type))me[c.type](c,a)}function dd(c,a,e){var g=-1;e=c.length-e;var h;for(a.lineStart();++g<e;)h=c[g],a.point(h[0],h[1],h[2]);a.lineEnd()}function ne(c,a){var e=-1,g=c.length;for(a.polygonStart();++e<g;)dd(c[e],a,1);a.polygonEnd()}function Gg(){function c(c,a){c*=fa;a=a*fa/2+ga/4;var p=c-g,e=0<=p?1:-1,b=e*p,p=Math.cos(a),k=Math.sin(a),l=m*k,
f=h*p+l*Math.cos(b),e=l*e*Math.sin(b);mb.add(Math.atan2(e,f));g=c;h=p;m=k}var a,e,g,h,m;Ga.point=function(I,v){Ga.point=c;g=(a=I)*fa;h=Math.cos(v=(e=v)*fa/2+ga/4);m=Math.sin(v)};Ga.lineEnd=function(){c(a,e)}}function nb(c){var a=c[0];c=c[1];var e=Math.cos(c);return[e*Math.cos(a),e*Math.sin(a),Math.sin(c)]}function gc(c,a){return c[0]*a[0]+c[1]*a[1]+c[2]*a[2]}function vb(c,a){return[c[1]*a[2]-c[2]*a[1],c[2]*a[0]-c[0]*a[2],c[0]*a[1]-c[1]*a[0]]}function ed(c,a){c[0]+=a[0];c[1]+=a[1];c[2]+=a[2]}function hc(c,
a){return[c[0]*a,c[1]*a,c[2]*a]}function ic(c){var a=Math.sqrt(c[0]*c[0]+c[1]*c[1]+c[2]*c[2]);c[0]/=a;c[1]/=a;c[2]/=a}function jc(c){return[Math.atan2(c[1],c[0]),ca(c[2])]}function kc(c,a){return ha(c[0]-a[0])<Z&&ha(c[1]-a[1])<Z}function fd(c,a){c*=fa;var e=Math.cos(a*=fa);Hb(e*Math.cos(c),e*Math.sin(c),Math.sin(a))}function Hb(c,a,e){++Ib;$a+=(c-$a)/Ib;ab+=(a-ab)/Ib;Sa+=(e-Sa)/Ib}function oe(){function c(c,m){c*=fa;var I=Math.cos(m*=fa),v=I*Math.cos(c),I=I*Math.sin(c),U=Math.sin(m),b=Math.atan2(Math.sqrt((b=
e*U-g*I)*b+(b=g*v-a*U)*b+(b=a*I-e*v)*b),a*v+e*I+g*U);wb+=b;Ka+=b*(a+(a=v));La+=b*(e+(e=I));Fa+=b*(g+(g=U));Hb(a,e,g)}var a,e,g;Pa.point=function(h,m){h*=fa;var I=Math.cos(m*=fa);a=I*Math.cos(h);e=I*Math.sin(h);g=Math.sin(m);Pa.point=c;Hb(a,e,g)}}function pe(){Pa.point=fd}function Hg(){function c(c,a){c*=fa;var p=Math.cos(a*=fa),e=p*Math.cos(c),p=p*Math.sin(c),b=Math.sin(a),k=h*b-m*p,l=m*e-g*b,f=g*p-h*e,n=Math.sqrt(k*k+l*l+f*f),x=g*e+h*p+m*b,s=n&&-la(x)/n,n=Math.atan2(n,x);eb+=s*k;fb+=s*l;Ta+=s*f;
wb+=n;Ka+=n*(g+(g=e));La+=n*(h+(h=p));Fa+=n*(m+(m=b));Hb(g,h,m)}var a,e,g,h,m;Pa.point=function(I,v){a=I;e=v;Pa.point=c;I*=fa;var U=Math.cos(v*=fa);g=U*Math.cos(I);h=U*Math.sin(I);m=Math.sin(v);Hb(g,h,m)};Pa.lineEnd=function(){c(a,e);Pa.lineEnd=pe;Pa.point=fd}}function xb(){return!0}function qe(c,a,e,g,h){var m=[],I=[];c.forEach(function(c){if(!(0>=(a=c.length-1))){var a,p=c[0],e=c[a];if(kc(p,e)){h.lineStart();for(e=0;e<a;++e)h.point((p=c[e])[0],p[1]);h.lineEnd()}else a=new lc(p,c,null,!0),p=new lc(p,
null,a,!1),a.o=p,m.push(a),I.push(p),a=new lc(e,c,null,!1),p=new lc(e,null,a,!0),a.o=p,m.push(a),I.push(p)}});I.sort(a);re(m);re(I);if(m.length){c=0;a=e;for(e=I.length;c<e;++c)I[c].e=a=!a;a=m[0];for(var v,U;;){for(var b=a,k=!0;b.v;)if((b=b.n)===a)return;v=b.z;h.lineStart();do{b.v=b.o.v=!0;if(b.e){if(k)for(c=0,e=v.length;c<e;++c)h.point((U=v[c])[0],U[1]);else g(b.x,b.n.x,1,h);b=b.n}else{if(k)for(v=b.p.z,c=v.length-1;0<=c;--c)h.point((U=v[c])[0],U[1]);else g(b.x,b.p.x,-1,h);b=b.p}b=b.o;v=b.z;k=!k}while(!b.v);
h.lineEnd()}}}function re(c){if(a=c.length){for(var a,e=0,g=c[0],h;++e<a;)g.n=h=c[e],h.p=g,g=h;g.n=h=c[0];h.p=g}}function lc(c,a,e,g){this.x=c;this.z=a;this.o=e;this.e=g;this.v=!1;this.n=this.p=null}function se(c,a,e,g){return function(h,m){function I(a,p){var e=h(a,p);c(a=e[0],p=e[1])&&m.point(a,p)}function v(c,a){var p=h(c,a);n.point(p[0],p[1])}function U(){s.point=v;n.lineStart()}function b(){s.point=I;n.lineEnd()}function k(c,a){C.push([c,a]);var p=h(c,a);q.point(p[0],p[1])}function l(){q.lineStart();
C=[]}function f(){k(C[0][0],C[0][1]);q.lineEnd();var c=q.clean(),a=E.buffer(),p=a.length;C.pop();u.push(C);C=null;if(p)if(c&1){var c=a[0],p=c.length-1,a=-1,e;if(0<p){B||(m.polygonStart(),B=!0);for(m.lineStart();++a<p;)m.point((e=c[a])[0],e[1]);m.lineEnd()}}else 1<p&&c&2&&a.push(a.pop().concat(a.shift())),t.push(a.filter(Ig))}var n=a(m),x=h.invert(g[0],g[1]),s={point:I,lineStart:U,lineEnd:b,polygonStart:function(){s.point=k;s.lineStart=l;s.lineEnd=f;t=[];u=[]},polygonEnd:function(){s.point=I;s.lineStart=
U;s.lineEnd=b;t=y.merge(t);var c,a=x;c=u;var p=a[0],g=a[1],h=[Math.sin(p),-Math.cos(p),0],v=0,k=0;mb.reset();for(var za=0,l=c.length;za<l;++za){var n=c[za],f=n.length;if(f)for(var Ja=n[0],xa=Ja[0],a=Ja[1]/2+ga/4,E=Math.sin(a),q=Math.cos(a),C=1;;){C===f&&(C=0);var a=n[C],r=a[0],K=a[1]/2+ga/4,w=Math.sin(K),K=Math.cos(K),S=r-xa,z=0<=S?1:-1,A=z*S,M=A>ga,E=E*w;mb.add(Math.atan2(E*z*Math.sin(A),q*K+E*Math.cos(A)));v+=M?S+z*Ha:S;M^xa>=p^r>=p&&(Ja=vb(nb(Ja),nb(a)),ic(Ja),xa=vb(h,Ja),ic(xa),xa=(M^0<=S?-1:
1)*ca(xa[2]),g>xa||g===xa&&(Ja[0]||Ja[1]))&&(k+=M^0<=S?1:-1);if(!C++)break;xa=r;E=w;q=K;Ja=a}}c=(v<-Z||v<Z&&0>mb)^k&1;t.length?(B||(m.polygonStart(),B=!0),qe(t,Jg,c,e,m)):c&&(B||(m.polygonStart(),B=!0),m.lineStart(),e(null,null,1,m),m.lineEnd());B&&(m.polygonEnd(),B=!1);t=u=null},sphere:function(){m.polygonStart();m.lineStart();e(null,null,1,m);m.lineEnd();m.polygonEnd()}},t,E=te(),q=a(E),B=!1,u,C;return s}}function Ig(c){return 1<c.length}function te(){var c=[],a;return{lineStart:function(){c.push(a=
[])},point:function(c,g){a.push([c,g])},lineEnd:A,buffer:function(){var e=c;c=[];a=null;return e},rejoin:function(){1<c.length&&c.push(c.pop().concat(c.shift()))}}}function Jg(c,a){return(0>(c=c.x)[0]?c[1]-ya-Z:ya-c[1])-(0>(a=a.x)[0]?a[1]-ya-Z:ya-a[1])}function Kg(c){function a(c,p){return Math.cos(c)*Math.cos(p)>h}function e(c,a,p){var e=nb(c),g=nb(a),m=[1,0,0],g=vb(e,g),v=gc(g,g),e=g[0],I=v-e*e;if(!I)return!p&&c;v=h*v/I;I=-h*e/I;e=vb(m,g);m=hc(m,v);g=hc(g,I);ed(m,g);g=gc(m,e);v=gc(e,e);I=g*g-v*
(gc(m,m)-1);if(!(0>I)){var b=Math.sqrt(I),I=hc(e,(-g-b)/v);ed(I,m);I=jc(I);if(!p)return I;p=c[0];var k=a[0];c=c[1];a=a[1];var n;k<p&&(n=p,p=k,k=n);var l=k-p,f=ha(l-ga)<Z,s=f||l<Z;!f&&a<c&&(n=c,c=a,a=n);if(s?f?0<c+a^I[1]<(ha(I[0]-p)<Z?c:a):c<=I[1]&&I[1]<=a:l>ga^(p<=I[0]&&I[0]<=k))return a=hc(e,(-g+b)/v),ed(a,m),[I,jc(a)]}}function g(a,p){var e=m?c:ga-c,g=0;a<-e?g|=1:a>e&&(g|=2);p<-e?g|=4:p>e&&(g|=8);return g}var h=Math.cos(c),m=0<h,I=ha(h)>Z,v=gd(c,6*fa);return se(a,function(c){var h,v,b,k,n;return{lineStart:function(){k=
b=!1;n=1},point:function(l,f){var s=[l,f],x,t=a(l,f),E=m?t?0:g(l,f):t?g(l+(0>l?ga:-ga),f):0;!h&&(k=b=t)&&c.lineStart();t!==b&&(x=e(h,s),kc(h,x)||kc(s,x))&&(s[0]+=Z,s[1]+=Z,t=a(s[0],s[1]));if(t!==b)n=0,t?(c.lineStart(),x=e(s,h),c.point(x[0],x[1])):(x=e(h,s),c.point(x[0],x[1]),c.lineEnd()),h=x;else if(I&&h&&m^t){var q;E&v||!(q=e(s,h,!0))||(n=0,m?(c.lineStart(),c.point(q[0][0],q[0][1]),c.point(q[1][0],q[1][1]),c.lineEnd()):(c.point(q[1][0],q[1][1]),c.lineEnd(),c.lineStart(),c.point(q[0][0],q[0][1])))}!t||
h&&kc(h,s)||c.point(s[0],s[1]);h=s;b=t;v=E},lineEnd:function(){b&&c.lineEnd();h=null},clean:function(){return n|(k&&b)<<1}}},v,m?[0,-c]:[-ga,c-ga])}function ue(c,a,e,g){return function(h){var m=h.a,I=h.b,v=m.x,m=m.y,b=0,sa=1,k=I.x-v,I=I.y-m,n;n=c-v;if(k||!(0<n)){n/=k;if(0>k){if(n<b)return;n<sa&&(sa=n)}else if(0<k){if(n>sa)return;n>b&&(b=n)}n=e-v;if(k||!(0>n)){n/=k;if(0>k){if(n>sa)return;n>b&&(b=n)}else if(0<k){if(n<b)return;n<sa&&(sa=n)}n=a-m;if(I||!(0<n)){n/=I;if(0>I){if(n<b)return;n<sa&&(sa=n)}else if(0<
I){if(n>sa)return;n>b&&(b=n)}n=g-m;if(I||!(0>n)){n/=I;if(0>I){if(n>sa)return;n>b&&(b=n)}else if(0<I){if(n<b)return;n<sa&&(sa=n)}0<b&&(h.a={x:v+b*k,y:m+b*I});1>sa&&(h.b={x:v+sa*k,y:m+sa*I});return h}}}}}}function ve(c,a,e,g){function h(g,h){return ha(g[0]-c)<Z?0<h?0:3:ha(g[0]-e)<Z?0<h?2:1:ha(g[1]-a)<Z?0<h?1:0:0<h?3:2}function m(c,a){return I(c.x,a.x)}function I(c,a){var p=h(c,1),e=h(a,1);return p!==e?p-e:0===p?a[1]-c[1]:1===p?c[0]-a[0]:2===p?c[1]-a[1]:a[0]-c[0]}return function(v){function b(m,v,U,
sa){var k=0,n=0;if(null==m||(k=h(m,U))!==(n=h(v,U))||0>I(m,v)^0<U){do sa.point(0===k||3===k?c:e,1<k?g:a);while((k=(k+U+4)%4)!==n)}else sa.point(v[0],v[1])}function sa(h,m){c<=h&&h<=e&&a<=m&&m<=g&&v.point(h,m)}function k(h,m){h=Math.max(-mc,Math.min(mc,h));m=Math.max(-mc,Math.min(mc,m));var I=c<=h&&h<=e&&a<=m&&m<=g;x&&t.push([h,m]);if(w)E=h,B=m,C=I,w=!1,I&&(v.lineStart(),v.point(h,m));else if(I&&r)v.point(h,m);else{var b={a:{x:u,y:K},b:{x:h,y:m}};f(b)?(r||(v.lineStart(),v.point(b.a.x,b.a.y)),v.point(b.b.x,
b.b.y),I||v.lineEnd(),S=!1):I&&(v.lineStart(),v.point(h,m),S=!1)}u=h;K=m;r=I}var n=v,l=te(),f=ue(c,a,e,g),s,x,t,q={point:sa,lineStart:function(){q.point=k;x&&x.push(t=[]);w=!0;r=!1;u=K=NaN},lineEnd:function(){s&&(k(E,B),C&&r&&l.rejoin(),s.push(l.buffer()));q.point=sa;r&&v.lineEnd()},polygonStart:function(){v=l;s=[];x=[];S=!0},polygonEnd:function(){v=n;s=y.merge(s);var a;a=[c,g];for(var p=0,e=x.length,h=a[1],I=0;I<e;++I)for(var sa=1,k=x[I],l=k.length,f=k[0],za;sa<l;++sa)za=k[sa],f[1]<=h?za[1]>h&&0<
da(f,za,a)&&++p:za[1]<=h&&0>da(f,za,a)&&--p,f=za;a=0!==p;p=S&&a;e=s.length;if(p||e)v.polygonStart(),p&&(v.lineStart(),b(null,null,1,v),v.lineEnd()),e&&qe(s,m,a,b,v),v.polygonEnd();s=x=t=null}},E,B,C,u,K,r,w,S;return q}}function we(c,a){function e(e,h){return e=c(e,h),a(e[0],e[1])}c.invert&&a.invert&&(e.invert=function(e,h){return e=a.invert(e,h),e&&c.invert(e[0],e[1])});return e}function hd(c){var a=0,e=ga/3,g=id(c);c=g(a,e);c.parallels=function(c){return arguments.length?g(a=c[0]*ga/180,e=c[1]*ga/
180):[a/ga*180,e/ga*180]};return c}function xe(c,a){function e(c,a){var p=Math.sqrt(m-2*h*Math.sin(a))/h;return[p*Math.sin(c*=h),I-p*Math.cos(c)]}var g=Math.sin(c),h=(g+Math.sin(a))/2,m=1+g*(2*h-g),I=Math.sqrt(m)/h;e.invert=function(c,a){var p=I-a;return[Math.atan2(c,p)/h,ca((m-(c*c+p*p)*h*h)/(2*h))]};return e}function Lg(){function c(c,a){nc+=h*c-g*a;g=c;h=a}var a,e,g,h;gb.point=function(m,I){gb.point=c;a=g=m;e=h=I};gb.lineEnd=function(){c(a,e)}}function Mg(){function c(c,a){I.push("M",c,",",a,m)}
function a(c,p){I.push("M",c,",",p);v.point=e}function e(c,a){I.push("L",c,",",a)}function g(){v.point=c}function h(){I.push("Z")}var m=ye(4.5),I=[],v={point:c,lineStart:function(){v.point=a},lineEnd:g,polygonStart:function(){v.lineEnd=h},polygonEnd:function(){v.lineEnd=g;v.point=c},pointRadius:function(c){m=ye(c);return v},result:function(){if(I.length){var c=I.join("");I=[];return c}}};return v}function ye(c){return"m0,"+c+"a"+c+","+c+" 0 1,1 0,"+-2*c+"a"+c+","+c+" 0 1,1 0,"+2*c+"z"}function ob(c,
a){$a+=c;ab+=a;++Sa}function ze(){function c(c,h){var m=c-a,I=h-e,m=Math.sqrt(m*m+I*I);Ka+=m*(a+c)/2;La+=m*(e+h)/2;Fa+=m;ob(a=c,e=h)}var a,e;Qa.point=function(g,h){Qa.point=c;ob(a=g,e=h)}}function Ae(){Qa.point=ob}function Ng(){function c(c,a){var p=c-g,e=a-h,p=Math.sqrt(p*p+e*e);Ka+=p*(g+c)/2;La+=p*(h+a)/2;Fa+=p;p=h*c-g*a;eb+=p*(g+c);fb+=p*(h+a);Ta+=3*p;ob(g=c,h=a)}var a,e,g,h;Qa.point=function(m,I){Qa.point=c;ob(a=g=m,e=h=I)};Qa.lineEnd=function(){c(a,e)}}function Og(c){function a(p,e){c.moveTo(p,
e);c.arc(p,e,I,0,Ha)}function e(a,p){c.moveTo(a,p);v.point=g}function g(a,p){c.lineTo(a,p)}function h(){v.point=a}function m(){c.closePath()}var I=4.5,v={point:a,lineStart:function(){v.point=e},lineEnd:h,polygonStart:function(){v.lineEnd=m},polygonEnd:function(){v.lineEnd=h;v.point=a},pointRadius:function(c){I=c;return v},result:A};return v}function Be(c){function a(c){return(v?g:e)(c)}function e(a){return Ce(a,function(p,e){p=c(p,e);a.point(p[0],p[1])})}function g(a){function p(e,g){e=c(e,g);a.point(e[0],
e[1])}function e(){E=NaN;r.point=g;a.lineStart()}function g(p,e){var m=nb([p,e]),I=c(p,e);h(E,B,q,y,C,u,E=I[0],B=I[1],q=p,y=m[0],C=m[1],u=m[2],v,a);a.point(E,B)}function m(){r.point=p;a.lineEnd()}function I(){e();r.point=b;r.lineEnd=k}function b(c,a){g(n=c,a);l=E;f=B;s=y;x=C;t=u;r.point=g}function k(){h(E,B,q,y,C,u,l,f,n,s,x,t,v,a);r.lineEnd=m;m()}var n,l,f,s,x,t,q,E,B,y,C,u,r={point:p,lineStart:e,lineEnd:m,polygonStart:function(){a.polygonStart();r.lineStart=I},polygonEnd:function(){a.polygonEnd();
r.lineStart=e}};return r}function h(a,p,e,g,v,b,k,n,l,f,s,x,t,q){var E=k-a,B=n-p,y=E*E+B*B;if(y>4*m&&t--){var C=g+f,r=v+s,u=b+x,K=Math.sqrt(C*C+r*r+u*u),w=Math.asin(u/=K),S=ha(ha(u)-1)<Z||ha(e-l)<Z?(e+l)/2:Math.atan2(r,C),z=c(S,w),w=z[0],z=z[1],A=w-a,M=z-p,R=B*A-E*M;if(R*R/y>m||.3<ha((E*A+B*M)/y-.5)||g*f+v*s+b*x<I)h(a,p,e,g,v,b,w,z,S,C/=K,r/=K,u,t,q),q.point(w,z),h(w,z,S,C,r,u,k,n,l,f,s,x,t,q)}}var m=.5,I=Math.cos(30*fa),v=16;a.precision=function(c){if(!arguments.length)return Math.sqrt(m);v=0<(m=
c*c)&&16;return a};return a}function Pg(c){var a=Be(function(a,p){return c([a*ra,p*ra])});return function(c){return De(a(c))}}function Ee(c){this.stream=c}function Ce(c,a){return{point:a,sphere:function(){c.sphere()},lineStart:function(){c.lineStart()},lineEnd:function(){c.lineEnd()},polygonStart:function(){c.polygonStart()},polygonEnd:function(){c.polygonEnd()}}}function hb(c){return id(function(){return c})()}function id(c){function a(c){c=v(c[0]*fa,c[1]*fa);return[c[0]*k+E,B-c[1]*k]}function e(c){return(c=
v.invert((c[0]-E)/k,(B-c[1])/k))&&[c[0]*ra,c[1]*ra]}function g(){v=we(I=jd(x,t,q),m);var c=m(f,s);E=n-c[0]*k;B=l+c[1]*k;return h()}function h(){w&&(w.valid=!1,w=null);return a}var m,I,v,b=Be(function(c,a){c=m(c,a);return[c[0]*k+E,B-c[1]*k]}),k=150,n=480,l=250,f=0,s=0,x=0,t=0,q=0,E,B,C=Fe,r=wa,u=null,K=null,w;a.stream=function(c){w&&(w.valid=!1);w=De(C(I,b(r(c))));w.valid=!0;return w};a.clipAngle=function(c){if(!arguments.length)return u;C=null==c?(u=c,Fe):Kg((u=+c)*fa);return h()};a.clipExtent=function(c){if(!arguments.length)return K;
r=(K=c)?ve(c[0][0],c[0][1],c[1][0],c[1][1]):wa;return h()};a.scale=function(c){if(!arguments.length)return k;k=+c;return g()};a.translate=function(c){if(!arguments.length)return[n,l];n=+c[0];l=+c[1];return g()};a.center=function(c){if(!arguments.length)return[f*ra,s*ra];f=c[0]%360*fa;s=c[1]%360*fa;return g()};a.rotate=function(c){if(!arguments.length)return[x*ra,t*ra,q*ra];x=c[0]%360*fa;t=c[1]%360*fa;q=2<c.length?c[2]%360*fa:0;return g()};y.rebind(a,b,"precision");return function(){m=c.apply(this,
arguments);a.invert=m.invert&&e;return g()}}function De(c){return Ce(c,function(a,e){c.point(a*fa,e*fa)})}function Jb(c,a){return[c,a]}function Ge(c,a){return[c>ga?c-Ha:c<-ga?c+Ha:c,a]}function jd(c,a,e){return c?a||e?we(He(c),Ie(a,e)):He(c):a||e?Ie(a,e):Ge}function Je(c){return function(a,e){return a+=c,[a>ga?a-Ha:a<-ga?a+Ha:a,e]}}function He(c){var a=Je(c);a.invert=Je(-c);return a}function Ie(c,a){function e(c,a){var p=Math.cos(a),e=Math.cos(c)*p,p=Math.sin(c)*p,b=Math.sin(a),k=b*g+e*h;return[Math.atan2(p*
m-k*I,e*g-b*h),ca(k*m+p*I)]}var g=Math.cos(c),h=Math.sin(c),m=Math.cos(a),I=Math.sin(a);e.invert=function(c,a){var p=Math.cos(a),e=Math.cos(c)*p,p=Math.sin(c)*p,b=Math.sin(a),k=b*m-p*I;return[Math.atan2(p*m+b*I,e*g+k*h),ca(k*g-e*h)]};return e}function gd(c,a){var e=Math.cos(c),g=Math.sin(c);return function(h,m,I,v){var b=I*a;if(null!=h){if(h=Ke(e,h),m=Ke(e,m),0<I?h<m:h>m)h+=I*Ha}else h=c+I*Ha,m=c-.5*b;for(var k;0<I?h>m:h<m;h-=b)v.point((k=jc([e,-g*Math.cos(h),-g*Math.sin(h)]))[0],k[1])}}function Ke(c,
a){var e=nb(a);e[0]-=c;ic(e);var g=la(-e[1]);return((0>-e[2]?-g:g)+2*Math.PI-Z)%(2*Math.PI)}function Le(c,a,e){var g=y.range(c,a-Z,e).concat(a);return function(c){return g.map(function(a){return[c,a]})}}function Me(c,a,e){var g=y.range(c,a-Z,e).concat(a);return function(c){return g.map(function(a){return[a,c]})}}function kd(c){return c.source}function ld(c){return c.target}function Qg(c,a,e,g){var h=Math.cos(a),m=Math.sin(a),I=Math.cos(g),v=Math.sin(g),b=h*Math.cos(c),k=h*Math.sin(c),n=I*Math.cos(e),
l=I*Math.sin(e),f=2*Math.asin(Math.sqrt(Na(g-a)+h*I*Na(e-c))),s=1/Math.sin(f);e=f?function(c){var a=Math.sin(c*=f)*s,p=Math.sin(f-c)*s;c=p*b+a*n;var e=p*k+a*l,a=p*m+a*v;return[Math.atan2(e,c)*ra,Math.atan2(a,Math.sqrt(c*c+e*e))*ra]}:function(){return[c*ra,a*ra]};e.distance=f;return e}function Kb(c,a){function e(a,p){var e=Math.cos(a),I=Math.cos(p),e=c(e*I);return[e*I*Math.sin(a),e*Math.sin(p)]}e.invert=function(c,e){var m=Math.sqrt(c*c+e*e),I=a(m),v=Math.sin(I),I=Math.cos(I);return[Math.atan2(c*v,
m*I),Math.asin(m&&e*v/m)]};return e}function Ne(c,a){function e(c,a){0<m?a<-ya+Z&&(a=-ya+Z):a>ya-Z&&(a=ya-Z);var p=m/Math.pow(Math.tan(ga/4+a/2),h);return[p*Math.sin(h*c),m-p*Math.cos(h*c)]}var g=Math.cos(c),h=c===a?Math.sin(c):Math.log(g/Math.cos(a))/Math.log(Math.tan(ga/4+a/2)/Math.tan(ga/4+c/2)),m=g*Math.pow(Math.tan(ga/4+c/2),h)/h;if(!h)return oc;e.invert=function(c,a){var p=m-a,e=(0<h?1:0>h?-1:0)*Math.sqrt(c*c+p*p);return[Math.atan2(c,p)/h,2*Math.atan(Math.pow(m/e,1/h))-ya]};return e}function Oe(c,
a){function e(c,a){var p=m-a;return[p*Math.sin(h*c),m-p*Math.cos(h*c)]}var g=Math.cos(c),h=c===a?Math.sin(c):(g-Math.cos(a))/(a-c),m=g/h+c;if(ha(h)<Z)return Jb;e.invert=function(c,a){var p=m-a;return[Math.atan2(c,p)/h,m-(0<h?1:0>h?-1:0)*Math.sqrt(c*c+p*p)]};return e}function oc(c,a){return[c,Math.log(Math.tan(ga/4+a/2))]}function Pe(c){var a=hb(c),e=a.scale,g=a.translate,h=a.clipExtent,m;a.scale=function(){var c=e.apply(a,arguments);return c===a?m?a.clipExtent(null):a:c};a.translate=function(){var c=
g.apply(a,arguments);return c===a?m?a.clipExtent(null):a:c};a.clipExtent=function(c){var v=h.apply(a,arguments);if(v===a){if(m=null==c){var b=ga*e(),k=g();h([[k[0]-b,k[1]-b],[k[0]+b,k[1]+b]])}}else m&&(v=null);return v};return a.clipExtent(null)}function md(c,a){return[Math.log(Math.tan(ga/4+a/2)),-c]}function yb(c){return c[0]}function Lb(c){return c[1]}function Qe(c){for(var a=c.length,e=[0,1],g=2,h=2;h<a;h++){for(;1<g&&0>=da(c[e[g-2]],c[e[g-1]],c[h]);)--g;e[g++]=h}return e.slice(0,g)}function Rg(c,
a){return c[0]-a[0]||c[1]-a[1]}function nd(c,a,e){return(e[0]-a[0])*(c[1]-a[1])<(e[1]-a[1])*(c[0]-a[0])}function Re(c,a,e,g){var h=c[0],m=e[0],b=a[0]-h,v=g[0]-m;c=c[1];e=e[1];a=a[1]-c;g=g[1]-e;m=(v*(c-e)-g*(h-m))/(g*b-v*a);return[h+m*b,c+m*a]}function Se(c){var a=c[0];c=c[c.length-1];return!(a[0]-c[0]||a[1]-c[1])}function Sg(){pc(this);this.edge=this.site=this.circle=null}function Te(c){var a=Ue.pop()||new Sg;a.site=c;return a}function od(c){zb(c);Ab.remove(c);Ue.push(c);pc(c)}function Ve(c,a){var e=
c.site,g=e.x,h=e.y,m=h-a;if(!m)return g;var b=c.P;if(!b)return-Infinity;var e=b.site,b=e.x,e=e.y,v=e-a;if(!v)return b;var U=b-g,k=1/m-1/v,n=U/v;return k?(-n+Math.sqrt(n*n-2*k*(U*U/(-2*v)-e+v/2+h-m/2)))/k+g:(g+b)/2}function We(c){this.site=c;this.edges=[]}function Xe(c,a){return a.angle-c.angle}function Tg(){pc(this);this.x=this.y=this.arc=this.site=this.cy=null}function Bb(c){var a=c.P,e=c.N;if(a&&e){var g=a.site,a=c.site,h=e.site;if(g!==h){var e=a.x,m=a.y,b=g.x-e,v=g.y-m,g=h.x-e,h=h.y-m,U=2*(b*h-
v*g);if(!(U>=-pd)){var k=b*b+v*v,n=g*g+h*h,v=(h*k-v*n)/U,b=(b*n-g*k)/U,h=b+m,m=Ye.pop()||new Tg;m.arc=c;m.site=a;m.x=v+e;m.y=h+Math.sqrt(v*v+b*b);m.cy=h;c.circle=m;c=null;for(a=Mb._;a;)if(m.y<a.y||m.y===a.y&&m.x<=a.x)if(a.L)a=a.L;else{c=a.P;break}else if(a.R)a=a.R;else{c=a;break}Mb.insert(c,m);c||(qd=m)}}}}function zb(c){var a=c.circle;a&&(a.P||(qd=a.N),Mb.remove(a),Ye.push(a),pc(a),c.circle=null)}function Ug(c,a){var e=c.b;if(e)return!0;var g=c.a,e=a[0][0],h=a[1][0],m=a[0][1],b=a[1][1],v=c.l,U=c.r,
k=v.x,v=v.y,n=U.x,U=U.y,f=(k+n)/2,l;if(U===v){if(f<e||f>=h)return;if(k>n){if(!g)g={x:f,y:m};else if(g.y>=b)return;e={x:f,y:b}}else{if(!g)g={x:f,y:b};else if(g.y<m)return;e={x:f,y:m}}}else if(l=(k-n)/(U-v),f=(v+U)/2-l*f,-1>l||1<l)if(k>n){if(!g)g={x:(m-f)/l,y:m};else if(g.y>=b)return;e={x:(b-f)/l,y:b}}else{if(!g)g={x:(b-f)/l,y:b};else if(g.y<m)return;e={x:(m-f)/l,y:m}}else if(v<U){if(!g)g={x:e,y:l*e+f};else if(g.x>=h)return;e={x:h,y:l*h+f}}else{if(!g)g={x:h,y:l*h+f};else if(g.x<e)return;e={x:e,y:l*
e+f}}c.a=g;c.b=e;return!0}function Ze(c,a){this.l=c;this.r=a;this.a=this.b=null}function Nb(c,a,e,g){var h=new Ze(c,a);Cb.push(h);e&&qc(h,c,a,e);g&&qc(h,a,c,g);pb[c.i].edges.push(new rc(h,c,a));pb[a.i].edges.push(new rc(h,a,c));return h}function Vg(c,a,e){c=new Ze(c,null);c.a=a;c.b=e;Cb.push(c);return c}function qc(c,a,e,g){c.a||c.b?c.l===e?c.b=g:c.a=g:(c.a=g,c.l=a,c.r=e)}function rc(c,a,e){var g=c.a,h=c.b;this.edge=c;this.site=a;this.angle=e?Math.atan2(e.y-a.y,e.x-a.x):c.l===a?Math.atan2(h.x-g.x,
g.y-h.y):Math.atan2(g.x-h.x,h.y-g.y)}function rd(){this._=null}function pc(c){c.U=c.C=c.L=c.R=c.P=c.N=null}function Ob(c,a){var e=a.R,g=a.U;g?g.L===a?g.L=e:g.R=e:c._=e;e.U=g;a.U=e;a.R=e.L;a.R&&(a.R.U=a);e.L=a}function Pb(c,a){var e=a.L,g=a.U;g?g.L===a?g.L=e:g.R=e:c._=e;e.U=g;a.U=e;a.L=e.R;a.L&&(a.L.U=a);e.R=a}function $e(c){for(;c.L;)c=c.L;return c}function sd(c,a){var e=c.sort(Wg).pop(),g,h,m;Cb=[];pb=Array(c.length);Ab=new rd;for(Mb=new rd;;)if(m=qd,e&&(!m||e.y<m.y||e.y===m.y&&e.x<m.x)){if(e.x!==
g||e.y!==h){pb[e.i]=new We(e);g=e;for(var b=g.x,v=g.y,U=m=h=void 0,k=void 0,n=Ab._;n;)if(U=Ve(n,v)-b,U>Z)n=n.L;else{var k=b,f;var l=n;f=v;var s=l.N;s?f=Ve(s,f):(l=l.site,f=l.y===f?l.x:Infinity);k-=f;if(k>Z){if(!n.R){h=n;break}n=n.R}else{U>-Z?(h=n.P,m=n):k>-Z?(h=n,m=n.N):h=m=n;break}}b=Te(g);Ab.insert(h,b);if(h||m)if(h===m)zb(h),m=Te(h.site),Ab.insert(b,m),b.edge=m.edge=Nb(h.site,b.site),Bb(h),Bb(m);else if(m){zb(h);zb(m);v=h.site;n=v.x;k=v.y;f=g.x-n;var l=g.y-k,U=m.site,s=U.x-n,x=U.y-k,t=2*(f*x-l*
s),E=f*f+l*l,q=s*s+x*x,n={x:(x*E-l*q)/t+n,y:(f*q-s*E)/t+k};qc(m.edge,v,U,n);b.edge=Nb(v,g,null,n);m.edge=Nb(g,U,null,n);Bb(h);Bb(m)}else b.edge=Nb(h.site,b.site);g=e.x;h=e.y}e=c.pop()}else if(m){U=m.arc;m=U.circle;v=m.x;n=m.cy;m={x:v,y:n};f=U.P;k=U.N;b=[U];od(U);for(U=f;U.circle&&ha(v-U.circle.x)<Z&&ha(n-U.circle.cy)<Z;)f=U.P,b.unshift(U),od(U),U=f;b.unshift(U);zb(U);for(f=k;f.circle&&ha(v-f.circle.x)<Z&&ha(n-f.circle.cy)<Z;)k=f.N,b.push(f),od(f),f=k;b.push(f);zb(f);v=b.length;n=void 0;for(n=1;n<
v;++n)f=b[n],U=b[n-1],qc(f.edge,U.site,f.site,m);U=b[0];f=b[v-1];f.edge=Nb(U.site,f.site,null,m);Bb(U);Bb(f)}else break;if(a){e=Cb;g=ue(a[0][0],a[0][1],a[1][0],a[1][1]);for(h=e.length;h--;)if(m=e[h],!Ug(m,a)||!g(m)||ha(m.a.x-m.b.x)<Z&&ha(m.a.y-m.b.y)<Z)m.a=m.b=null,e.splice(h,1);e=a[0][0];g=a[1][0];h=a[0][1];m=a[1][1];n=pb;for(k=n.length;k--;)if((f=n[k])&&f.prepare())for(s=f.edges,x=s.length,l=0;l<x;)if(t=s[l].end(),v=t.x,U=t.y,E=s[++l%x].start(),b=E.x,E=E.y,ha(v-b)>Z||ha(U-E)>Z)s.splice(l,0,new rc(Vg(f.site,
t,ha(v-e)<Z&&m-U>Z?{x:e,y:ha(b-e)<Z?E:m}:ha(U-m)<Z&&g-v>Z?{x:ha(E-m)<Z?b:g,y:m}:ha(v-g)<Z&&U-h>Z?{x:g,y:ha(b-g)<Z?E:h}:ha(U-h)<Z&&v-e>Z?{x:ha(E-h)<Z?b:e,y:h}:null),f.site,null)),++x}e={cells:pb,edges:Cb};Ab=Mb=Cb=pb=null;return e}function Wg(c,a){return a.y-c.y||a.x-c.x}function Xg(c){return c.x}function Yg(c){return c.y}function af(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Qb(c,a,e,g,h,m){if(!c(a,e,g,h,m)){var b=.5*(e+h),v=.5*(g+m);a=a.nodes;a[0]&&Qb(c,a[0],e,g,b,v);a[1]&&Qb(c,
a[1],b,g,h,v);a[2]&&Qb(c,a[2],e,v,b,m);a[3]&&Qb(c,a[3],b,v,h,m)}}function td(c,a){c=y.rgb(c);a=y.rgb(a);var e=c.r,g=c.g,h=c.b,m=a.r-e,b=a.g-g,v=a.b-h;return function(c){return"#"+ub(Math.round(e+m*c))+ub(Math.round(g+b*c))+ub(Math.round(h+v*c))}}function bf(c,a){var e={},g={},h;for(h in c)h in a?e[h]=qb(c[h],a[h]):g[h]=c[h];for(h in a)h in c||(g[h]=a[h]);return function(c){for(h in e)g[h]=e[h](c);return g}}function bb(c,a){a-=c=+c;return function(e){return c+a*e}}function cf(c,a){var e=ud.lastIndex=
vd.lastIndex=0,g,h,m,b=-1,v=[],k=[];c+="";for(a+="";(g=ud.exec(c))&&(h=vd.exec(a));)(m=h.index)>e&&(m=a.substring(e,m),v[b]?v[b]+=m:v[++b]=m),(g=g[0])===(h=h[0])?v[b]?v[b]+=h:v[++b]=h:(v[++b]=null,k.push({i:b,x:bb(g,h)})),e=vd.lastIndex;e<a.length&&(m=a.substring(e),v[b]?v[b]+=m:v[++b]=m);return 2>v.length?k[0]?(a=k[0].x,function(c){return a(c)+""}):function(){return a}:(a=k.length,function(c){for(var e=0,g;e<a;++e)v[(g=k[e]).i]=g.x(c);return v.join("")})}function qb(c,a){for(var e=y.interpolators.length,
g;0<=--e&&!(g=y.interpolators[e](c,a)););return g}function sc(c,a){var e=[],g=[],h=c.length,m=a.length,b=Math.min(c.length,a.length),v;for(v=0;v<b;++v)e.push(qb(c[v],a[v]));for(;v<h;++v)g[v]=c[v];for(;v<m;++v)g[v]=a[v];return function(c){for(v=0;v<b;++v)g[v]=e[v](c);return g}}function Zg(c){return function(a){return 0>=a?0:1<=a?1:c(a)}}function df(c){return function(a){return 1-c(1-a)}}function ef(c){return function(a){return.5*(.5>a?c(2*a):2-c(2-2*a))}}function $g(c){return c*c}function ah(c){return c*
c*c}function bh(c){if(0>=c)return 0;if(1<=c)return 1;var a=c*c,e=a*c;return 4*(.5>c?e:3*(c-a)+e-.75)}function ch(c){return 1-Math.cos(c*ya)}function dh(c){return Math.pow(2,10*(c-1))}function eh(c){return 1-Math.sqrt(1-c*c)}function fh(c){return c<1/2.75?7.5625*c*c:c<2/2.75?7.5625*(c-=1.5/2.75)*c+.75:c<2.5/2.75?7.5625*(c-=2.25/2.75)*c+.9375:7.5625*(c-=2.625/2.75)*c+.984375}function ff(c,a){a-=c;return function(e){return Math.round(c+a*e)}}function gf(c){var a=[c.a,c.b],e=[c.c,c.d],g=hf(a),h=a[0]*
e[0]+a[1]*e[1],m=-h;e[0]+=m*a[0];e[1]+=m*a[1];m=hf(e)||0;a[0]*e[1]<e[0]*a[1]&&(a[0]*=-1,a[1]*=-1,g*=-1,h*=-1);this.rotate=(g?Math.atan2(a[1],a[0]):Math.atan2(-e[0],e[1]))*ra;this.translate=[c.e,c.f];this.scale=[g,m];this.skew=m?Math.atan2(h,m)*ra:0}function hf(c){var a=Math.sqrt(c[0]*c[0]+c[1]*c[1]);a&&(c[0]/=a,c[1]/=a);return a}function jf(c,a){var e=[],g=[],h,m=y.transform(c),b=y.transform(a),v=m.translate,k=b.translate,n=m.rotate,f=b.rotate,l=m.skew,s=b.skew,m=m.scale,b=b.scale;v[0]!=k[0]||v[1]!=
k[1]?(e.push("translate(",null,",",null,")"),g.push({i:1,x:bb(v[0],k[0])},{i:3,x:bb(v[1],k[1])})):k[0]||k[1]?e.push("translate("+k+")"):e.push("");n!=f?(180<n-f?f+=360:180<f-n&&(n+=360),g.push({i:e.push(e.pop()+"rotate(",null,")")-2,x:bb(n,f)})):f&&e.push(e.pop()+"rotate("+f+")");l!=s?g.push({i:e.push(e.pop()+"skewX(",null,")")-2,x:bb(l,s)}):s&&e.push(e.pop()+"skewX("+s+")");m[0]!=b[0]||m[1]!=b[1]?(h=e.push(e.pop()+"scale(",null,",",null,")"),g.push({i:h-4,x:bb(m[0],b[0])},{i:h-2,x:bb(m[1],b[1])})):
1==b[0]&&1==b[1]||e.push(e.pop()+"scale("+b+")");h=g.length;return function(c){for(var a=-1,p;++a<h;)e[(p=g[a]).i]=p.x(c);return e.join("")}}function gh(c,a){a=a-(c=+c)?1/(a-c):0;return function(e){return(e-c)*a}}function hh(c,a){a=a-(c=+c)?1/(a-c):0;return function(e){return Math.max(0,Math.min(1,(e-c)*a))}}function ih(c){var a=c.source;c=c.target;var e;var g=c;if(a===g)e=a;else{e=kf(a);for(var g=kf(g),h=e.pop(),m=g.pop(),b=null;h===m;)b=h,h=e.pop(),m=g.pop();e=b}for(g=[a];a!==e;)a=a.parent,g.push(a);
for(a=g.length;c!==e;)g.splice(a,0,c),c=c.parent;return g}function kf(c){for(var a=[],e=c.parent;null!=e;)a.push(c),c=e,e=e.parent;a.push(c);return a}function jh(c){c.fixed|=2}function kh(c){c.fixed&=-7}function lh(c){c.fixed|=4;c.px=c.x;c.py=c.y}function mh(c){c.fixed&=-5}function lf(c,a,e){var g=0,h=0;c.charge=0;if(!c.leaf)for(var m=c.nodes,b=m.length,v=-1,k;++v<b;)k=m[v],null!=k&&(lf(k,a,e),c.charge+=k.charge,g+=k.charge*k.cx,h+=k.charge*k.cy);c.point&&(c.leaf||(c.point.x+=Math.random()-.5,c.point.y+=
Math.random()-.5),a*=e[c.point.index],c.charge+=c.pointCharge=a,g+=a*c.point.x,h+=a*c.point.y);c.cx=g/c.charge;c.cy=h/c.charge}function Rb(c,a){y.rebind(c,a,"sort","children","value");c.nodes=c;c.links=nh;return c}function Sb(c,a){for(var e=[c];null!=(c=e.pop());)if(a(c),(h=c.children)&&(g=h.length))for(var g,h;0<=--g;)e.push(h[g])}function Ua(c,a){for(var e=[c],g=[];null!=(c=e.pop());)if(g.push(c),(b=c.children)&&(m=b.length))for(var h=-1,m,b;++h<m;)e.push(b[h]);for(;null!=(c=g.pop());)a(c)}function oh(c){return c.children}
function ph(c){return c.value}function qh(c,a){return a.value-c.value}function nh(c){return y.merge(c.map(function(c){return(c.children||[]).map(function(a){return{source:c,target:a}})}))}function rh(c){return c.x}function sh(c){return c.y}function th(c,a,e){c.y0=a;c.y=e}function wd(c){return y.range(c.length)}function xd(c){var a=-1;c=c[0].length;for(var e=[];++a<c;)e[a]=0;return e}function uh(c){for(var a=1,e=0,g=c[0][1],h,m=c.length;a<m;++a)(h=c[a][1])>g&&(e=a,g=h);return e}function vh(c){return c.reduce(wh,
0)}function wh(c,a){return c+a[1]}function xh(c,a){return mf(c,Math.ceil(Math.log(a.length)/Math.LN2+1))}function mf(c,a){for(var e=-1,g=+c[0],h=(c[1]-g)/a,m=[];++e<=a;)m[e]=h*e+g;return m}function yh(c){return[y.min(c),y.max(c)]}function zh(c,a){return c.value-a.value}function yd(c,a){var e=c._pack_next;c._pack_next=a;a._pack_prev=c;a._pack_next=e;e._pack_prev=a}function nf(c,a){c._pack_next=a;a._pack_prev=c}function of(c,a){var e=a.x-c.x,g=a.y-c.y,h=c.r+a.r;return.999*h*h>e*e+g*g}function pf(c){function a(c){g=
Math.min(c.x-c.r,g);h=Math.max(c.x+c.r,h);m=Math.min(c.y-c.r,m);b=Math.max(c.y+c.r,b)}if((e=c.children)&&(x=e.length)){var e,g=Infinity,h=-Infinity,m=Infinity,b=-Infinity,v,k,n,f,l,s,x;e.forEach(Ah);v=e[0];v.x=-v.r;v.y=0;a(v);if(1<x&&(k=e[1],k.x=k.r,k.y=0,a(k),2<x))for(n=e[2],qf(v,k,n),a(n),yd(v,n),v._pack_prev=n,yd(n,k),k=v._pack_next,f=3;f<x;f++){qf(v,k,n=e[f]);var t=0,E=1,q=1;for(l=k._pack_next;l!==k;l=l._pack_next,E++)if(of(l,n)){t=1;break}if(1==t)for(s=v._pack_prev;s!==l._pack_prev&&!of(s,n);s=
s._pack_prev,q++);t?(E<q||E==q&&k.r<v.r?nf(v,k=l):nf(v=s,k),f--):(yd(v,n),k=n,a(n))}v=(g+h)/2;k=(m+b)/2;for(f=l=0;f<x;f++)n=e[f],n.x-=v,n.y-=k,l=Math.max(l,n.r+Math.sqrt(n.x*n.x+n.y*n.y));c.r=l;e.forEach(Bh)}}function Ah(c){c._pack_next=c._pack_prev=c}function Bh(c){delete c._pack_next;delete c._pack_prev}function rf(c,a,e,g){var h=c.children;c.x=a+=g*c.x;c.y=e+=g*c.y;c.r*=g;if(h){c=-1;for(var m=h.length;++c<m;)rf(h[c],a,e,g)}}function qf(c,a,e){var g=c.r+e.r,h=a.x-c.x,m=a.y-c.y;if(g&&(h||m)){var b=
a.r+e.r,v=h*h+m*m,b=b*b,g=g*g;a=.5+(g-b)/(2*v);b=Math.sqrt(Math.max(0,2*b*(g+v)-(g-=v)*g-b*b))/(2*v);e.x=c.x+a*h+b*m;e.y=c.y+a*m-b*h}else e.x=c.x+g,e.y=c.y}function sf(c,a){return c.parent==a.parent?1:2}function zd(c){var a=c.children;return a.length?a[0]:c.t}function Ad(c){var a=c.children,e;return(e=a.length)?a[e-1]:c.t}function Ch(c){return 1+y.max(c,function(c){return c.y})}function Dh(c){return c.reduce(function(c,a){return c+a.x},0)/c.length}function tf(c){var a=c.children;return a&&a.length?
tf(a[0]):c}function uf(c){var a=c.children,e;return a&&(e=a.length)?uf(a[e-1]):c}function Bd(c){return{x:c.x,y:c.y,dx:c.dx,dy:c.dy}}function vf(c,a){var e=c.x+a[3],g=c.y+a[0],h=c.dx-a[1]-a[3],m=c.dy-a[0]-a[2];0>h&&(e+=h/2,h=0);0>m&&(g+=m/2,m=0);return{x:e,y:g,dx:h,dy:m}}function Db(c){var a=c[0];c=c[c.length-1];return a<c?[a,c]:[c,a]}function tc(c){return c.rangeExtent?c.rangeExtent():Db(c.range())}function Eh(c,a,e,g){var h=e(c[0],c[1]),m=g(a[0],a[1]);return function(c){return m(h(c))}}function uc(c,
a){var e=0,g=c.length-1,h=c[e],m=c[g],b;m<h&&(b=e,e=g,g=b,b=h,h=m,m=b);c[e]=a.floor(h);c[g]=a.ceil(m);return c}function wf(c){return c?{floor:function(a){return Math.floor(a/c)*c},ceil:function(a){return Math.ceil(a/c)*c}}:Fh}function Gh(c,a,e,g){var h=[],m=[],b=0,v=Math.min(c.length,a.length)-1;c[v]<c[0]&&(c=c.slice().reverse(),a=a.slice().reverse());for(;++b<=v;)h.push(e(c[b-1],c[b])),m.push(g(a[b-1],a[b]));return function(a){var p=y.bisect(c,a,1,v)-1;return m[p](h[p](a))}}function xf(c,a,e,g){function h(){var h=
2<Math.min(c.length,a.length)?Gh:Eh,k=g?hh:gh;b=h(c,a,k,e);v=h(a,c,k,qb);return m}function m(c){return b(c)}var b,v;m.invert=function(c){return v(c)};m.domain=function(a){if(!arguments.length)return c;c=a.map(Number);return h()};m.range=function(c){if(!arguments.length)return a;a=c;return h()};m.rangeRound=function(c){return m.range(c).interpolate(ff)};m.clamp=function(c){if(!arguments.length)return g;g=c;return h()};m.interpolate=function(c){if(!arguments.length)return e;e=c;return h()};m.ticks=
function(a){return y.range.apply(y,ib(c,a))};m.tickFormat=function(a,p){return Cd(c,a,p)};m.nice=function(a){uc(c,wf(ib(c,a)[2]));return h()};m.copy=function(){return xf(c,a,e,g)};return h()}function Dd(c,a){return y.rebind(c,a,"range","rangeRound","interpolate","clamp")}function ib(c,a){null==a&&(a=10);var e=Db(c),g=e[1]-e[0],h=Math.pow(10,Math.floor(Math.log(g/a)/Math.LN10)),g=a/g*h;.15>=g?h*=10:.35>=g?h*=5:.75>=g&&(h*=2);e[0]=Math.ceil(e[0]/h)*h;e[1]=Math.floor(e[1]/h)*h+.5*h;e[2]=h;return e}function Cd(c,
a,e){c=ib(c,a);if(e){a=ge.exec(e);a.shift();if("s"===a[8]){var g=y.formatPrefix(Math.max(ha(c[0]),ha(c[1])));a[7]||(a[7]="."+vc(g.scale(c[2])));a[8]="f";e=y.format(a.join(""));return function(c){return e(g.scale(c))+g.symbol}}a[7]||(a[7]="."+Hh(a[8],c));e=a.join("")}else e=",."+vc(c[2])+"f";return y.format(e)}function vc(c){return-Math.floor(Math.log(c)/Math.LN10+.01)}function Hh(c,a){var e=vc(a[2]);return c in Ih?Math.abs(e-vc(Math.max(ha(a[0]),ha(a[1]))))+ +("e"!==c):e-2*("%"===c)}function yf(c,
a,e,g){function h(c){return(e?Math.log(0>c?0:c):-Math.log(0<c?0:-c))/Math.log(a)}function m(c){return e?Math.pow(a,c):-Math.pow(a,-c)}function b(a){return c(h(a))}b.invert=function(a){return m(c.invert(a))};b.domain=function(a){if(!arguments.length)return g;e=0<=a[0];c.domain((g=a.map(Number)).map(h));return b};b.base=function(e){if(!arguments.length)return a;a=+e;c.domain(g.map(h));return b};b.nice=function(){var a=uc(g.map(h),e?Math:Jh);c.domain(a);g=a.map(m);return b};b.ticks=function(){var c=
Db(g),b=[],k=c[0],c=c[1],I=Math.floor(h(k)),n=Math.ceil(h(c)),f=a%1?2:a;if(isFinite(n-I)){if(e){for(;I<n;I++)for(var l=1;l<f;l++)b.push(m(I)*l);b.push(m(I))}else for(b.push(m(I));I++<n;)for(l=f-1;0<l;l--)b.push(m(I)*l);for(I=0;b[I]<k;I++);for(n=b.length;b[n-1]>c;n--);b=b.slice(I,n)}return b};b.tickFormat=function(c,a){if(!arguments.length)return zf;2>arguments.length?a=zf:"function"!==typeof a&&(a=y.format(a));var p=Math.max(.1,c/b.ticks().length),g=e?(k=1E-12,Math.ceil):(k=-1E-12,Math.floor),k;return function(c){return c/
m(g(h(c)+k))<=p?a(c):""}};b.copy=function(){return yf(c.copy(),a,e,g)};return Dd(b,c)}function Af(c,a,e){function g(a){return c(h(a))}var h=wc(a),m=wc(1/a);g.invert=function(a){return m(c.invert(a))};g.domain=function(a){if(!arguments.length)return e;c.domain((e=a.map(Number)).map(h));return g};g.ticks=function(c){return y.range.apply(y,ib(e,c))};g.tickFormat=function(c,a){return Cd(e,c,a)};g.nice=function(c){return g.domain(uc(e,wf(ib(e,c)[2])))};g.exponent=function(b){if(!arguments.length)return a;
h=wc(a=b);m=wc(1/a);c.domain(e.map(h));return g};g.copy=function(){return Af(c.copy(),a,e)};return Dd(g,c)}function wc(c){return function(a){return 0>a?-Math.pow(-a,c):Math.pow(a,c)}}function Bf(c,a){function e(e){return m[((h.get(e)||("range"===a.t?h.set(e,c.push(e)):NaN))-1)%m.length]}function g(a,p){return y.range(c.length).map(function(c){return a+p*c})}var h,m,b;e.domain=function(g){if(!arguments.length)return c;c=[];h=new z;for(var m=-1,b=g.length,k;++m<b;)h.has(k=g[m])||h.set(k,c.push(k));
return e[a.t].apply(e,a.a)};e.range=function(c){if(!arguments.length)return m;m=c;b=0;a={t:"range",a:arguments};return e};e.rangePoints=function(h,k){2>arguments.length&&(k=0);var n=h[0],f=h[1],l=(f-n)/(Math.max(1,c.length-1)+k);m=g(2>c.length?(n+f)/2:n+l*k/2,l);b=0;a={t:"rangePoints",a:arguments};return e};e.rangeBands=function(h,k,n){2>arguments.length&&(k=0);3>arguments.length&&(n=k);var f=h[1]<h[0],l=h[f-0],s=(h[1-f]-l)/(c.length-k+2*n);m=g(l+s*n,s);f&&m.reverse();b=s*(1-k);a={t:"rangeBands",
a:arguments};return e};e.rangeRoundBands=function(h,k,n){2>arguments.length&&(k=0);3>arguments.length&&(n=k);var f=h[1]<h[0],l=h[f-0],s=h[1-f],x=Math.floor((s-l)/(c.length-k+2*n));m=g(l+Math.round((s-l-(c.length-k)*x)/2),x);f&&m.reverse();b=Math.round(x*(1-k));a={t:"rangeRoundBands",a:arguments};return e};e.rangeBand=function(){return b};e.rangeExtent=function(){return Db(a.a[0])};e.copy=function(){return Bf(c,a)};return e.domain(c)}function Cf(c,a){function e(){var e=0,b=a.length;for(h=[];++e<b;)h[e-
1]=y.quantile(c,e/b);return g}function g(c){if(!isNaN(c=+c))return a[y.bisect(h,c)]}var h;g.domain=function(a){if(!arguments.length)return c;c=a.filter(r).sort(ma);return e()};g.range=function(c){if(!arguments.length)return a;a=c;return e()};g.quantiles=function(){return h};g.invertExtent=function(e){e=a.indexOf(e);return 0>e?[NaN,NaN]:[0<e?h[e-1]:c[0],e<h.length?h[e]:c[c.length-1]]};g.copy=function(){return Cf(c,a)};return e()}function Df(c,a,e){function g(a){return e[Math.max(0,Math.min(b,Math.floor(m*
(a-c))))]}function h(){m=e.length/(a-c);b=e.length-1;return g}var m,b;g.domain=function(e){if(!arguments.length)return[c,a];c=+e[0];a=+e[e.length-1];return h()};g.range=function(c){if(!arguments.length)return e;e=c;return h()};g.invertExtent=function(a){a=e.indexOf(a);a=0>a?NaN:a/m+c;return[a,a+1/m]};g.copy=function(){return Df(c,a,e)};return h()}function Ef(c,a){function e(e){if(e<=e)return a[y.bisect(c,e)]}e.domain=function(a){if(!arguments.length)return c;c=a;return e};e.range=function(c){if(!arguments.length)return a;
a=c;return e};e.invertExtent=function(e){e=a.indexOf(e);return[c[e-1],c[e]]};e.copy=function(){return Ef(c,a)};return e}function Ff(c){function a(c){return+c}a.invert=a;a.domain=a.range=function(e){if(!arguments.length)return c;c=e.map(a);return a};a.ticks=function(a){return y.range.apply(y,ib(c,a))};a.tickFormat=function(a,p){return Cd(c,a,p)};a.copy=function(){return Ff(c)};return a}function Kh(c){return c.innerRadius}function Lh(c){return c.outerRadius}function Gf(c){return c.startAngle}function Hf(c){return c.endAngle}
function If(c){function a(p){function b(){k.push("M",m(c(I),v))}for(var k=[],I=[],n=-1,f=p.length,l,s=qa(e),x=qa(g);++n<f;)h.call(this,l=p[n],n)?I.push([+s.call(this,l,n),+x.call(this,l,n)]):I.length&&(b(),I=[]);I.length&&b();return k.length?k.join(""):null}var e=yb,g=Lb,h=xb,m=Ia,b=m.key,v=.7;a.x=function(c){if(!arguments.length)return e;e=c;return a};a.y=function(c){if(!arguments.length)return g;g=c;return a};a.defined=function(c){if(!arguments.length)return h;h=c;return a};a.interpolate=function(c){if(!arguments.length)return b;
b="function"===typeof c?m=c:(m=Ed.get(c)||Ia).key;return a};a.tension=function(c){if(!arguments.length)return v;v=c;return a};return a}function Ia(c){return c.join("L")}function Fd(c){for(var a=0,e=c.length,g=c[0],h=[g[0],",",g[1]];++a<e;)h.push("V",(g=c[a])[1],"H",g[0]);return h.join("")}function Gd(c){for(var a=0,e=c.length,g=c[0],h=[g[0],",",g[1]];++a<e;)h.push("H",(g=c[a])[0],"V",g[1]);return h.join("")}function xc(c,a){if(1>a.length||c.length!=a.length&&c.length!=a.length+2)return Ia(c);var e=
c.length!=a.length,g="",h=c[0],m=c[1],b=a[0],v=b,k=1;e&&(g+="Q"+(m[0]-2*b[0]/3)+","+(m[1]-2*b[1]/3)+","+m[0]+","+m[1],h=c[1],k=2);if(1<a.length)for(v=a[1],m=c[k],k++,g+="C"+(h[0]+b[0])+","+(h[1]+b[1])+","+(m[0]-v[0])+","+(m[1]-v[1])+","+m[0]+","+m[1],h=2;h<a.length;h++,k++)m=c[k],v=a[h],g+="S"+(m[0]-v[0])+","+(m[1]-v[1])+","+m[0]+","+m[1];e&&(e=c[k],g+="Q"+(m[0]+2*v[0]/3)+","+(m[1]+2*v[1]/3)+","+e[0]+","+e[1]);return g}function Hd(c,a){for(var e=[],g=(1-a)/2,h,m=c[0],b=c[1],v=1,k=c.length;++v<k;)h=
m,m=b,b=c[v],e.push([g*(b[0]-h[0]),g*(b[1]-h[1])]);return e}function Jf(c){if(3>c.length)return Ia(c);var a=1,e=c.length,g=c[0],h=g[0],m=g[1],b=[h,h,h,(g=c[1])[0]],v=[m,m,m,g[1]],h=[h,",",m,"L",Ma(jb,b),",",Ma(jb,v)];for(c.push(c[e-1]);++a<=e;)g=c[a],b.shift(),b.push(g[0]),v.shift(),v.push(g[1]),Id(h,b,v);c.pop();h.push("L",g);return h.join("")}function Ma(c,a){return c[0]*a[0]+c[1]*a[1]+c[2]*a[2]+c[3]*a[3]}function Id(c,a,e){c.push("C",Ma(Kf,a),",",Ma(Kf,e),",",Ma(Lf,a),",",Ma(Lf,e),",",Ma(jb,a),
",",Ma(jb,e))}function Jd(c,a){return(a[1]-c[1])/(a[0]-c[0])}function Mf(c){for(var a,e=-1,g=c.length,h,m;++e<g;)a=c[e],h=a[0],m=a[1]+rb,a[0]=h*Math.cos(m),a[1]=h*Math.sin(m);return c}function Nf(c){function a(p){function k(){U.push("M",v(c(x),l),f,n(c(s.reverse()),l),"Z")}for(var U=[],s=[],x=[],t=-1,E=p.length,q,B=qa(e),y=qa(h),C=e===g?function(){return u}:qa(g),r=h===m?function(){return w}:qa(m),u,w;++t<E;)b.call(this,q=p[t],t)?(s.push([u=+B.call(this,q,t),w=+y.call(this,q,t)]),x.push([+C.call(this,
q,t),+r.call(this,q,t)])):s.length&&(k(),s=[],x=[]);s.length&&k();return U.length?U.join(""):null}var e=yb,g=yb,h=0,m=Lb,b=xb,v=Ia,k=v.key,n=v,f="L",l=.7;a.x=function(c){if(!arguments.length)return g;e=g=c;return a};a.x0=function(c){if(!arguments.length)return e;e=c;return a};a.x1=function(c){if(!arguments.length)return g;g=c;return a};a.y=function(c){if(!arguments.length)return m;h=m=c;return a};a.y0=function(c){if(!arguments.length)return h;h=c;return a};a.y1=function(c){if(!arguments.length)return m;
m=c;return a};a.defined=function(c){if(!arguments.length)return b;b=c;return a};a.interpolate=function(c){if(!arguments.length)return k;k="function"===typeof c?v=c:(v=Ed.get(c)||Ia).key;n=v.reverse||v;f=v.closed?"M":"L";return a};a.tension=function(c){if(!arguments.length)return l;l=c;return a};return a}function Mh(c){return c.radius}function Of(c){return[c.x,c.y]}function Nh(c){return function(){var a=c.apply(this,arguments),e=a[0],a=a[1]+rb;return[e*Math.cos(a),e*Math.sin(a)]}}function Oh(){return 64}
function Ph(){return"circle"}function Pf(c){c=Math.sqrt(c/ga);return"M0,"+c+"A"+c+","+c+" 0 1,1 0,"+-c+"A"+c+","+c+" 0 1,1 0,"+c+"Z"}function Tb(c,a){Vb(c,va);c.id=a;return c}function Kd(c,a,e,g){var h=c.id;return n(c,"function"===typeof e?function(c,b,v){c.__transition__[h].tween.set(a,g(e.call(c,c.__data__,b,v)))}:(e=g(e),function(c){c.__transition__[h].tween.set(a,e)}))}function Qh(c){null==c&&(c="");return function(){this.textContent=c}}function yc(c,a,e,g){var h=c.__transition__||(c.__transition__=
{active:0,count:0}),m=h[e];if(!m){var b=g.time,m=h[e]={tween:new z,time:b,ease:g.ease,delay:g.delay,duration:g.duration};++h.count;y.timer(function(g){function k(g){if(h.active>e)return f();h.active=e;m.event&&m.event.start.call(c,l,a);m.tween.forEach(function(e,g){(g=g.call(c,l,a))&&q.push(g)});y.timer(function(){E.c=n(g||1)?xb:n;return 1},0,b)}function n(g){if(h.active!==e)return f();g/=t;for(var b=s(g),v=q.length;0<v;)q[--v].call(c,b);if(1<=g)return m.event&&m.event.end.call(c,l,a),f()}function f(){--h.count?
delete h[e]:delete c.__transition__;return 1}var l=c.__data__,s=m.ease,x=m.delay,t=m.duration,E=Ya,q=[];E.t=x+b;if(x<=g)return k(g-x);E.c=k},0,b)}}function Qf(c,a){c.attr("transform",function(c){return"translate("+a(c)+",0)"})}function Rf(c,a){c.attr("transform",function(c){return"translate(0,"+a(c)+")"})}function Ld(c){return c.toISOString()}function Md(c,a,e){function g(a){return c(a)}function h(c,e){var g=(c[1]-c[0])/e,h=y.bisect(zc,g);return h==zc.length?[a.year,ib(c.map(function(c){return c/
31536E6}),e)[2]]:h?a[g/zc[h-1]<zc[h]/g?h-1:h]:[Rh,ib(c,e)[2]]}g.invert=function(a){return sb(c.invert(a))};g.domain=function(a){if(!arguments.length)return c.domain().map(sb);c.domain(a);return g};g.nice=function(c,a){function e(p){return!isNaN(p)&&!c.range(p,sb(+p+1),a).length}var p=g.domain(),b=Db(p);if(b=null==c?h(b,10):"number"===typeof c&&h(b,c))c=b[0],a=b[1];return g.domain(uc(p,1<a?{floor:function(a){for(;e(a=c.floor(a));)a=sb(a-1);return a},ceil:function(a){for(;e(a=c.ceil(a));)a=sb(+a+1);
return a}}:c))};g.ticks=function(c,a){var e=Db(g.domain()),p=null==c?h(e,10):"number"===typeof c?h(e,c):!c.range&&[{range:c},a];p&&(c=p[0],a=p[1]);return c.range(e[0],sb(+e[1]+1),1>a?1:a)};g.tickFormat=function(){return e};g.copy=function(){return Md(c.copy(),a,e)};return Dd(g,c)}function sb(c){return new Date(c)}function Sh(c){return JSON.parse(c.responseText)}function Th(c){var a=Ra.createRange();a.selectNode(Ra.body);return a.createContextualFragment(c.responseText)}var y={version:"3.4.9"};Date.now||
(Date.now=function(){return+new Date});var Sf=[].slice,db=function(c){return Sf.call(c)},Ra=document,Wa=Ra.documentElement,Ba=window;try{db(Wa.childNodes)[0].nodeType}catch(si){db=function(c){for(var a=c.length,e=Array(a);a--;)e[a]=c[a];return e}}try{Ra.createElement("div").style.setProperty("opacity",0,"")}catch(ti){var Ac=Ba.Element.prototype,Uh=Ac.setAttribute,Vh=Ac.setAttributeNS,Tf=Ba.CSSStyleDeclaration.prototype,Wh=Tf.setProperty;Ac.setAttribute=function(c,a){Uh.call(this,c,a+"")};Ac.setAttributeNS=
function(c,a,e){Vh.call(this,c,a,e+"")};Tf.setProperty=function(c,a,e){Wh.call(this,c,a+"",e)}}y.ascending=ma;y.descending=function(c,a){return a<c?-1:a>c?1:a>=c?0:NaN};y.min=function(c,a){var e=-1,g=c.length,h,b;if(1===arguments.length){for(;++e<g&&!(null!=(h=c[e])&&h<=h);)h=void 0;for(;++e<g;)null!=(b=c[e])&&h>b&&(h=b)}else{for(;++e<g&&!(null!=(h=a.call(c,c[e],e))&&h<=h);)h=void 0;for(;++e<g;)null!=(b=a.call(c,c[e],e))&&h>b&&(h=b)}return h};y.max=function(c,a){var e=-1,g=c.length,h,b;if(1===arguments.length){for(;++e<
g&&!(null!=(h=c[e])&&h<=h);)h=void 0;for(;++e<g;)null!=(b=c[e])&&b>h&&(h=b)}else{for(;++e<g&&!(null!=(h=a.call(c,c[e],e))&&h<=h);)h=void 0;for(;++e<g;)null!=(b=a.call(c,c[e],e))&&b>h&&(h=b)}return h};y.extent=function(c,a){var e=-1,g=c.length,h,b,k;if(1===arguments.length){for(;++e<g&&!(null!=(h=k=c[e])&&h<=h);)h=k=void 0;for(;++e<g;)null!=(b=c[e])&&(h>b&&(h=b),k<b&&(k=b))}else{for(;++e<g&&!(null!=(h=k=a.call(c,c[e],e))&&h<=h);)h=void 0;for(;++e<g;)null!=(b=a.call(c,c[e],e))&&(h>b&&(h=b),k<b&&(k=
b))}return[h,k]};y.sum=function(c,a){var e=0,g=c.length,h,b=-1;if(1===arguments.length)for(;++b<g;)isNaN(h=+c[b])||(e+=h);else for(;++b<g;)isNaN(h=+a.call(c,c[b],b))||(e+=h);return e};y.mean=function(c,a){var e=0,g=c.length,h,b=-1,k=g;if(1===arguments.length)for(;++b<g;)r(h=c[b])?e+=h:--k;else for(;++b<g;)r(h=a.call(c,c[b],b))?e+=h:--k;return k?e/k:void 0};y.quantile=function(c,a){var e=(c.length-1)*a+1,g=Math.floor(e),h=+c[g-1];return(e-=g)?h+e*(c[g]-h):h};y.median=function(c,a){1<arguments.length&&
(c=c.map(a));c=c.filter(r);return c.length?y.quantile(c.sort(ma),.5):void 0};var Uf=a(ma);y.bisectLeft=Uf.left;y.bisect=y.bisectRight=Uf.right;y.bisector=function(c){return a(1===c.length?function(a,e){return ma(c(a),e)}:c)};y.shuffle=function(c){for(var a=c.length,e,g;a;)g=Math.random()*a--|0,e=c[a],c[a]=c[g],c[g]=e;return c};y.permute=function(c,a){for(var e=a.length,g=Array(e);e--;)g[e]=c[a[e]];return g};y.pairs=function(c){for(var a=0,e=c.length-1,g=c[0],h=Array(0>e?0:e);a<e;)h[a]=[g,g=c[++a]];
return h};y.zip=function(){if(!(h=arguments.length))return[];for(var c=-1,a=y.min(arguments,b),e=Array(a);++c<a;)for(var g=-1,h,m=e[c]=Array(h);++g<h;)m[g]=arguments[g][c];return e};y.transpose=function(c){return y.zip.apply(y,c)};y.keys=function(c){var a=[],e;for(e in c)a.push(e);return a};y.values=function(c){var a=[],e;for(e in c)a.push(c[e]);return a};y.entries=function(c){var a=[],e;for(e in c)a.push({key:e,value:c[e]});return a};y.merge=function(c){var a=c.length,e;e=-1;for(var g=0,h,b;++e<
a;)g+=c[e].length;for(h=Array(g);0<=--a;)for(b=c[a],e=b.length;0<=--e;)h[--g]=b[e];return h};var ha=Math.abs;y.range=function(c,a,e){3>arguments.length&&(e=1,2>arguments.length&&(a=c,c=0));if(Infinity===(a-c)/e)throw Error("infinite range");var g=[],h;h=ha(e);for(var b=1;h*b%1;)b*=10;h=b;var b=-1,k;c*=h;a*=h;e*=h;if(0>e)for(;(k=c+e*++b)>a;)g.push(k/h);else for(;(k=c+e*++b)<a;)g.push(k/h);return g};y.map=function(c){var a=new z;if(c instanceof z)c.forEach(function(c,e){a.set(c,e)});else for(var e in c)a.set(e,
c[e]);return a};t(z,{has:u,get:function(c){return this[kb+c]},set:function(c,a){return this[kb+c]=a},remove:function(c){c=kb+c;return c in this&&delete this[c]},keys:l,values:function(){var c=[];this.forEach(function(a,e){c.push(e)});return c},entries:function(){var c=[];this.forEach(function(a,e){c.push({key:a,value:e})});return c},size:f,empty:w,forEach:function(c){for(var a in this)a.charCodeAt(0)===Ub&&c.call(this,a.substring(1),this[a])}});var kb="\x00",Ub=kb.charCodeAt(0);y.nest=function(){function c(a,
p,h){if(h>=g.length)return k?k.call(e,p):b?p.sort(b):p;for(var n=-1,f=p.length,l=g[h++],s,x,t=new z,E;++n<f;)(E=t.get(s=l(x=p[n])))?E.push(x):t.set(s,[x]);a?(x=a(),p=function(e,p){x.set(e,c(a,p,h))}):(x={},p=function(e,p){x[e]=c(a,p,h)});t.forEach(p);return x}function a(c,e){if(e>=g.length)return c;var b=[],m=h[e++];c.forEach(function(c,g){b.push({key:c,values:a(g,e)})});return m?b.sort(function(c,a){return m(c.key,a.key)}):b}var e={},g=[],h=[],b,k;e.map=function(a,e){return c(e,a,0)};e.entries=function(e){return a(c(y.map,
e,0),0)};e.key=function(c){g.push(c);return e};e.sortKeys=function(c){h[g.length-1]=c;return e};e.sortValues=function(c){b=c;return e};e.rollup=function(c){k=c;return e};return e};y.set=function(c){var a=new q;if(c)for(var e=0,g=c.length;e<g;++e)a.add(c[e]);return a};t(q,{has:u,add:function(c){this[kb+c]=!0;return c},remove:function(c){c=kb+c;return c in this&&delete this[c]},values:l,size:f,empty:w,forEach:function(c){for(var a in this)a.charCodeAt(0)===Ub&&c.call(this,a.substring(1))}});y.behavior=
{};y.rebind=function(c,a){for(var e=1,g=arguments.length,h;++e<g;)c[h=arguments[e]]=G(c,a,a[h]);return c};var Ud="webkit ms moz Moz o O".split(" ");y.dispatch=function(){for(var c=new H,a=-1,e=arguments.length;++a<e;)c[arguments[a]]=F(c);return c};H.prototype.on=function(c,a){var e=c.indexOf("."),g="";0<=e&&(g=c.substring(e+1),c=c.substring(0,e));if(c)return 2>arguments.length?this[c].on(g):this[c].on(g,a);if(2===arguments.length){if(null==a)for(c in this)if(this.hasOwnProperty(c))this[c].on(g,null);
return this}};y.event=null;y.requote=function(c){return c.replace(Xh,"\\$&")};var Xh=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Vb={}.__proto__?function(c,a){c.__proto__=a}:function(c,a){for(var e in a)c[e]=a[e]},Qc=function(c,a){return a.querySelector(c)},Rc=function(c,a){return a.querySelectorAll(c)},Yh=Wa.matches||Wa[D(Wa,"matchesSelector")],Vd=function(c,a){return Yh.call(c,a)};"function"===typeof Sizzle&&(Qc=function(c,a){return Sizzle(c,a)[0]||null},Rc=Sizzle,Vd=Sizzle.matchesSelector);y.selection=function(){return Vf};
var na=y.selection.prototype=[];na.select=function(c){var a=[],e,g,h,b;c=P(c);for(var k=-1,v=this.length;++k<v;){a.push(e=[]);e.parentNode=(h=this[k]).parentNode;for(var n=-1,f=h.length;++n<f;)(b=h[n])?(e.push(g=c.call(b,b.__data__,n,k)),g&&"__data__"in b&&(g.__data__=b.__data__)):e.push(null)}return C(a)};na.selectAll=function(c){var a=[],e,g;c=J(c);for(var h=-1,b=this.length;++h<b;)for(var k=this[h],v=-1,n=k.length;++v<n;)if(g=k[v])a.push(e=db(c.call(g,g.__data__,v,h))),e.parentNode=g;return C(a)};
var Nd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};y.ns={prefix:Nd,qualify:function(c){var a=c.indexOf(":"),e=c;0<=a&&(e=c.substring(0,a),c=c.substring(a+1));return Nd.hasOwnProperty(e)?{space:Nd[e],local:c}:c}};na.attr=function(c,a){if(2>arguments.length){if("string"===typeof c){var e=this.node();c=y.ns.qualify(c);return c.local?e.getAttributeNS(c.space,
c.local):e.getAttribute(c)}for(a in c)this.each(M(a,c[a]));return this}return this.each(M(c,a))};na.classed=function(c,a){if(2>arguments.length){if("string"===typeof c){var e=this.node(),g=(c=(c+"").trim().split(/^|\s+/)).length,h=-1;if(a=e.classList)for(;++h<g;){if(!a.contains(c[h]))return!1}else for(a=e.getAttribute("class");++h<g;)if(!O(c[h]).test(a))return!1;return!0}for(a in c)this.each(s(a,c[a]));return this}return this.each(s(c,a))};na.style=function(c,a,e){var g=arguments.length;if(3>g){if("string"!==
typeof c){2>g&&(a="");for(e in c)this.each(K(e,c[e],a));return this}if(2>g)return Ba.getComputedStyle(this.node(),null).getPropertyValue(c);e=""}return this.each(K(c,a,e))};na.property=function(c,a){if(2>arguments.length){if("string"===typeof c)return this.node()[c];for(a in c)this.each(x(a,c[a]));return this}return this.each(x(c,a))};na.text=function(c){return arguments.length?this.each("function"===typeof c?function(){var a=c.apply(this,arguments);this.textContent=null==a?"":a}:null==c?function(){this.textContent=
""}:function(){this.textContent=c}):this.node().textContent};na.html=function(c){return arguments.length?this.each("function"===typeof c?function(){var a=c.apply(this,arguments);this.innerHTML=null==a?"":a}:null==c?function(){this.innerHTML=""}:function(){this.innerHTML=c}):this.node().innerHTML};na.append=function(c){c=S(c);return this.select(function(){return this.appendChild(c.apply(this,arguments))})};na.insert=function(c,a){c=S(c);a=P(a);return this.select(function(){return this.insertBefore(c.apply(this,
arguments),a.apply(this,arguments)||null)})};na.remove=function(){return this.each(function(){var c=this.parentNode;c&&c.removeChild(this)})};na.data=function(c,a){function e(c,e){var g,h=c.length,b=e.length,m=Math.min(h,b),k=Array(b),I=Array(b),l=Array(h),s,x;if(a){var m=new z,t=new z,E=[],q;for(g=-1;++g<h;)q=a.call(s=c[g],s.__data__,g),m.has(q)?l[g]=s:m.set(q,s),E.push(q);for(g=-1;++g<b;)q=a.call(e,x=e[g],g),(s=m.get(q))?(k[g]=s,s.__data__=x):t.has(q)||(I[g]={__data__:x}),t.set(q,x),m.remove(q);
for(g=-1;++g<h;)m.has(E[g])&&(l[g]=c[g])}else{for(g=-1;++g<m;)s=c[g],x=e[g],s?(s.__data__=x,k[g]=s):I[g]={__data__:x};for(;g<b;++g)I[g]={__data__:e[g]};for(;g<h;++g)l[g]=c[g]}I.update=k;I.parentNode=k.parentNode=l.parentNode=c.parentNode;v.push(I);n.push(k);f.push(l)}var g=-1,h=this.length,b,k;if(!arguments.length){for(c=Array(h=(b=this[0]).length);++g<h;)if(k=b[g])c[g]=k.__data__;return c}var v=$([]),n=C([]),f=C([]);if("function"===typeof c)for(;++g<h;)e(b=this[g],c.call(b,b.parentNode.__data__,
g));else for(;++g<h;)e(b=this[g],c);n.enter=function(){return v};n.exit=function(){return f};return n};na.datum=function(c){return arguments.length?this.property("__data__",c):this.property("__data__")};na.filter=function(c){var a=[],e,g,h;"function"!==typeof c&&(c=R(c));for(var b=0,k=this.length;b<k;b++){a.push(e=[]);e.parentNode=(g=this[b]).parentNode;for(var v=0,n=g.length;v<n;v++)(h=g[v])&&c.call(h,h.__data__,v,b)&&e.push(h)}return C(a)};na.order=function(){for(var c=-1,a=this.length;++c<a;)for(var e=
this[c],g=e.length-1,h=e[g],b;0<=--g;)if(b=e[g])h&&h!==b.nextSibling&&h.parentNode.insertBefore(b,h),h=b;return this};na.sort=function(c){c=V.apply(this,arguments);for(var a=-1,e=this.length;++a<e;)this[a].sort(c);return this.order()};na.each=function(c){return n(this,function(a,e,g){c.call(a,a.__data__,e,g)})};na.call=function(c){var a=db(arguments);c.apply(a[0]=this,a);return this};na.empty=function(){return!this.node()};na.node=function(){for(var c=0,a=this.length;c<a;c++)for(var e=this[c],g=0,
h=e.length;g<h;g++){var b=e[g];if(b)return b}return null};na.size=function(){var c=0;this.each(function(){++c});return c};var Va=[];y.selection.enter=$;y.selection.enter.prototype=Va;Va.append=na.append;Va.empty=na.empty;Va.node=na.node;Va.call=na.call;Va.size=na.size;Va.select=function(c){for(var a=[],e,g,h,b,k,v=-1,n=this.length;++v<n;){h=(b=this[v]).update;a.push(e=[]);e.parentNode=b.parentNode;for(var f=-1,l=b.length;++f<l;)(k=b[f])?(e.push(h[f]=g=c.call(b.parentNode,k.__data__,f,v)),g.__data__=
k.__data__):e.push(null)}return C(a)};Va.insert=function(c,a){2>arguments.length&&(a=W(this));return na.insert.call(this,c,a)};na.transition=function(){for(var c=tb||++Wf,a=[],e,g,h=Bc||{time:Date.now(),ease:bh,delay:0,duration:250},b=-1,k=this.length;++b<k;){a.push(e=[]);for(var v=this[b],n=-1,f=v.length;++n<f;)(g=v[n])&&yc(g,n,c,h),e.push(g)}return Tb(a,c)};na.interrupt=function(){return this.each(k)};y.select=function(c){c=["string"===typeof c?Qc(c,Ra):c];c.parentNode=Wa;return C([c])};y.selectAll=
function(c){c=db("string"===typeof c?Rc(c,Ra):c);c.parentNode=Wa;return C([c])};var Vf=y.select(Wa);na.on=function(c,a,e){var g=arguments.length;if(3>g){if("string"!==typeof c){2>g&&(a=!1);for(e in c)this.each(E(e,c[e],a));return this}if(2>g)return(g=this.node()["__on"+c])&&g._;e=!1}return this.each(E(c,a,e))};var Sc=y.map({mouseenter:"mouseover",mouseleave:"mouseout"});Sc.forEach(function(c){"on"+c in Ra&&Sc.remove(c)});var Gb="onselectstart"in Ra?null:D(Wa.style,"userSelect"),mg=0;y.mouse=function(c){return Y(c,
Q())};var Tc=/WebKit/.test(Ba.navigator.userAgent)?-1:0;y.touches=function(c,a){2>arguments.length&&(a=Q().touches);return a?db(a).map(function(a){var g=Y(c,a);g.identifier=a.identifier;return g}):[]};y.behavior.drag=function(){function c(){this.on("mousedown.drag",h).on("touchstart.drag",b)}function a(c,h,b,p,m){return function(){var a=y.event.target,k=this.parentNode,n=e.of(this,arguments),f=0,l=c(),s=".drag"+(null==l?"":"-"+l),x,t=y.select(b()).on(p+s,function(){var c=h(k,l),a,e;c&&(a=c[0]-q[0],
e=c[1]-q[1],f=f|a|e,q=c,n({type:"drag",x:c[0]+x[0],y:c[1]+x[1],dx:a,dy:e}))}).on(m+s,function(){h(k,l)&&(t.on(p+s,null).on(m+s,null),E(f&&y.event.target===a),n({type:"dragend"}))}),E=ja(),q=h(k,l);g?(x=g.apply(this,arguments),x=[x.x-q[0],x.y-q[1]]):x=[0,0];n({type:"dragstart"})}}var e=N(c,"drag","dragstart","dragend"),g=null,h=a(A,y.mouse,ba,"mousemove","mouseup"),b=a(ea,y.touch,ka,"touchmove","touchend");c.origin=function(a){if(!arguments.length)return g;g=a;return c};return y.rebind(c,e,"on")};
var ga=Math.PI,Ha=2*ga,ya=ga/2,Z=1E-6,pd=Z*Z,fa=ga/180,ra=180/ga,Cc=Math.SQRT2;y.interpolateZoom=function(c,a){function e(c){var a=c*q;if(t){c=pa(x);var e=b/(2*l),p,k=Cc*a+x;p=((k=Math.exp(2*k))-1)/(k+1);p*=c;var f=x,k=((f=Math.exp(f))-1/f)/2,e=e*(p-k);return[g+e*v,h+e*n,b*c/pa(Cc*a+x)]}return[g+c*v,h+c*n,b*Math.exp(Cc*a)]}var g=c[0],h=c[1],b=c[2],k=a[2],v=a[0]-g,n=a[1]-h,f=v*v+n*n,l=Math.sqrt(f),s=(k*k-b*b+4*f)/(4*b*l),f=(k*k-b*b-4*f)/(4*k*l),x=Math.log(Math.sqrt(s*s+1)-s),t=Math.log(Math.sqrt(f*
f+1)-f)-x,q=(t||Math.log(k/b))/Cc;e.duration=1E3*q;return e};y.behavior.zoom=function(){function c(c){c.on(r,f).on(Zh+".zoom",s).on(w,x).on("dblclick.zoom",t).on(z,l)}function a(c){return[(c[0]-q.x)/q.k,(c[1]-q.y)/q.k]}function e(c){q.k=Math.max(u[0],Math.min(u[1],c))}function g(c,a){a=[a[0]*q.k+q.x,a[1]*q.k+q.y];q.x+=c[0]-a[0];q.y+=c[1]-a[1]}function b(){F&&F.domain(R.range().map(function(c){return(c-q.x)/q.k}).map(R.invert));O&&O.domain(J.range().map(function(c){return(c-q.y)/q.k}).map(J.invert))}
function m(c){c({type:"zoomstart"})}function n(c){b();c({type:"zoom",scale:q.k,translate:[q.x,q.y]})}function v(c){c({type:"zoomend"})}function f(){var c=this,e=y.event.target,b=M.of(c,arguments),h=0,l=y.select(Ba).on(w,function(){h=1;g(y.mouse(c),s);n(b)}).on(K,function(){l.on(w,Ba===c?x:null).on(K,null);q(h&&y.event.target===e);v(b)}),s=a(y.mouse(c)),q=ja();k.call(c);m(b)}function l(){function c(){var e=y.touches(x);C=q.k;e.forEach(function(c){c.identifier in E&&(E[c.identifier]=a(c))});return e}
function b(){var a=y.event.target;y.select(a).on(w,h).on(K,s);S.push(a);for(var a=y.event.changedTouches,p=0,m=a.length;p<m;++p)E[a[p].identifier]=null;m=c();p=Date.now();1===m.length?(500>p-A&&(a=m[0],m=E[a.identifier],e(2*q.k),g(a,m),L(),n(t)),A=p):1<m.length&&(a=m[0],m=m[1],p=a[0]-m[0],a=a[1]-m[1],B=p*p+a*a)}function h(){for(var c=y.touches(x),a,b,p,m,k=0,v=c.length;k<v;++k,m=null)if(p=c[k],m=E[p.identifier]){if(b)break;a=p;b=m}if(m){var f=(f=p[0]-a[0])*f+(f=p[1]-a[1])*f,c=B&&Math.sqrt(f/B);a=
[(a[0]+p[0])/2,(a[1]+p[1])/2];b=[(b[0]+m[0])/2,(b[1]+m[1])/2];e(c*C)}A=null;g(a,b);n(t)}function s(){if(y.event.touches.length){for(var a=y.event.changedTouches,e=0,g=a.length;e<g;++e)delete E[a[e].identifier];for(var b in E)return void c()}y.selectAll(S).on(u,null);R.on(r,f).on(z,l);F();v(t)}var x=this,t=M.of(x,arguments),E={},B=0,C,u=".zoom-"+y.event.changedTouches[0].identifier,w="touchmove"+u,K="touchend"+u,S=[],R=y.select(x).on(r,null).on(z,b),F=ja();k.call(x);b();m(t)}function s(){var c=M.of(this,
arguments);S?clearTimeout(S):(k.call(this),m(c));S=setTimeout(function(){S=null;v(c)},50);L();var b=B||y.mouse(this);E||(E=a(b));e(Math.pow(2,.002*Dc())*q.k);g(b,E);n(c)}function x(){E=null}function t(){var c=M.of(this,arguments),b=y.mouse(this),h=a(b),k=Math.log(q.k)/Math.LN2;m(c);e(Math.pow(2,y.event.shiftKey?Math.ceil(k)-1:Math.floor(k)+1));g(b,h);n(c);v(c)}var q={x:0,y:0,k:1},E,B,C=[960,500],u=Xf,r="mousedown.zoom",w="mousemove.zoom",K="mouseup.zoom",S,z="touchstart.zoom",A,M=N(c,"zoomstart",
"zoom","zoomend"),R,F,J,O;c.event=function(c){c.each(function(){var c=M.of(this,arguments),a=q;tb?y.select(this).transition().each("start.zoom",function(){q=this.__chart__||{x:0,y:0,k:1};m(c)}).tween("zoom:zoom",function(){var e=C[0],g=e/2,b=C[1]/2,h=y.interpolateZoom([(g-q.x)/q.k,(b-q.y)/q.k,e/q.k],[(g-a.x)/a.k,(b-a.y)/a.k,e/a.k]);return function(a){a=h(a);var p=e/a[2];this.__chart__=q={x:g-a[0]*p,y:b-a[1]*p,k:p};n(c)}}).each("end.zoom",function(){v(c)}):(this.__chart__=q,m(c),n(c),v(c))})};c.translate=
function(a){if(!arguments.length)return[q.x,q.y];q={x:+a[0],y:+a[1],k:q.k};b();return c};c.scale=function(a){if(!arguments.length)return q.k;q={x:q.x,y:q.y,k:+a};b();return c};c.scaleExtent=function(a){if(!arguments.length)return u;u=null==a?Xf:[+a[0],+a[1]];return c};c.center=function(a){if(!arguments.length)return B;B=a&&[+a[0],+a[1]];return c};c.size=function(a){if(!arguments.length)return C;C=a&&[+a[0],+a[1]];return c};c.x=function(a){if(!arguments.length)return F;F=a;R=a.copy();q={x:0,y:0,k:1};
return c};c.y=function(a){if(!arguments.length)return O;O=a;J=a.copy();q={x:0,y:0,k:1};return c};return y.rebind(c,M,"on")};var Xf=[0,Infinity],Dc,Zh="onwheel"in Ra?(Dc=function(){return-y.event.deltaY*(y.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Ra?(Dc=function(){return y.event.wheelDelta},"mousewheel"):(Dc=function(){return-y.event.detail},"MozMousePixelScroll");y.color=ua;ua.prototype.toString=function(){return this.rgb()+""};y.hsl=oa;var Od=oa.prototype=new ua;Od.brighter=function(c){c=
Math.pow(.7,arguments.length?c:1);return new oa(this.h,this.s,this.l/c)};Od.darker=function(c){c=Math.pow(.7,arguments.length?c:1);return new oa(this.h,this.s,c*this.l)};Od.rgb=function(){return Xa(this.h,this.s,this.l)};y.hcl=Ea;var Pd=Ea.prototype=new ua;Pd.brighter=function(c){return new Ea(this.h,this.c,Math.min(100,this.l+Ec*(arguments.length?c:1)))};Pd.darker=function(c){return new Ea(this.h,this.c,Math.max(0,this.l-Ec*(arguments.length?c:1)))};Pd.rgb=function(){return Uc(this.h,this.c,this.l).rgb()};
y.lab=Oa;var Ec=18,ae=.95047,be=1,ce=1.08883,Qd=Oa.prototype=new ua;Qd.brighter=function(c){return new Oa(Math.min(100,this.l+Ec*(arguments.length?c:1)),this.a,this.b)};Qd.darker=function(c){return new Oa(Math.max(0,this.l-Ec*(arguments.length?c:1)),this.a,this.b)};Qd.rgb=function(){return $d(this.l,this.a,this.b)};y.rgb=Ca;var Fc=Ca.prototype=new ua;Fc.brighter=function(c){c=Math.pow(.7,arguments.length?c:1);var a=this.r,e=this.g,g=this.b;if(!a&&!e&&!g)return new Ca(30,30,30);a&&30>a&&(a=30);e&&
30>e&&(e=30);g&&30>g&&(g=30);return new Ca(Math.min(255,a/c),Math.min(255,e/c),Math.min(255,g/c))};Fc.darker=function(c){c=Math.pow(.7,arguments.length?c:1);return new Ca(c*this.r,c*this.g,c*this.b)};Fc.hsl=function(){return Xd(this.r,this.g,this.b)};Fc.toString=function(){return"#"+ub(this.r)+ub(this.g)+ub(this.b)};var Xb=y.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,
brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,
darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,
lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,
mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,
red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Xb.forEach(function(c,a){Xb.set(c,
new Ca(a>>16,a>>8&255,a&255))});y.functor=qa;y.xhr=$c(wa);y.dsv=function(c,a){function e(c,e,m){3>arguments.length&&(m=e,e=null);var k=Yb(c,a,null==e?g:b(e),m);k.row=function(c){return arguments.length?k.response(null==(e=c)?g:b(c)):e};return k}function g(c){return e.parse(c.responseText)}function b(c){return function(a){return e.parse(a.responseText,c)}}function m(a){return a.map(k).join(c)}function k(c){return v.test(c)?'"'+c.replace(/\"/g,'""')+'"':c}var v=new RegExp('["'+c+"\n]"),n=c.charCodeAt(0);
e.parse=function(c,a){var g;return e.parseRows(c,function(c,e){if(g)return g(c,e-1);var b=new Function("d","return {"+c.map(function(c,a){return JSON.stringify(c)+": d["+a+"]"}).join(",")+"}");g=a?function(c,e){return a(b(c),e)}:b})};e.parseRows=function(c,a){function e(){if(m>=p)return b;if(f)return f=!1,g;var a=m;if(34===c.charCodeAt(a)){for(var h=a;h++<p;)if(34===c.charCodeAt(h)){if(34!==c.charCodeAt(h+1))break;++h}m=h+2;var k=c.charCodeAt(h+1);13===k?(f=!0,10===c.charCodeAt(h+2)&&++m):10===k&&
(f=!0);return c.substring(a+1,h).replace(/""/g,'"')}for(;m<p;){k=c.charCodeAt(m++);h=1;if(10===k)f=!0;else if(13===k)f=!0,10===c.charCodeAt(m)&&(++m,++h);else if(k!==n)continue;return c.substring(a,m-h)}return c.substring(a)}for(var g={},b={},h=[],p=c.length,m=0,k=0,v,f;(v=e())!==b;){for(var l=[];v!==g&&v!==b;)l.push(v),v=e();a&&!(l=a(l,k++))||h.push(l)}return h};e.format=function(a){if(Array.isArray(a[0]))return e.formatRows(a);var g=new q,b=[];a.forEach(function(c){for(var a in c)g.has(a)||b.push(g.add(a))});
return[b.map(k).join(c)].concat(a.map(function(a){return b.map(function(c){return k(a[c])}).join(c)})).join("\n")};e.formatRows=function(c){return c.map(m).join("\n")};return e};y.csv=y.dsv(",","text/csv");y.tsv=y.dsv("\t","text/tab-separated-values");y.touch=function(c,a,e){3>arguments.length&&(e=a,a=Q().changedTouches);if(a)for(var g=0,b=a.length,m;g<b;++g)if((m=a[g]).identifier===e)return Y(c,m)};var ac,bc,$b,Zb,Ya,fe=Ba[D(Ba,"requestAnimationFrame")]||function(c){setTimeout(c,17)};y.timer=function(c,
a,e){var g=arguments.length;2>g&&(a=0);3>g&&(e=Date.now());g={c:c,t:e+a,f:!1,n:null};bc?bc.n=g:ac=g;bc=g;$b||(Zb=clearTimeout(Zb),$b=1,fe(ad))};y.timer.flush=function(){de();ee()};y.round=function(c,a){return a?Math.round(c*(a=Math.pow(10,a)))/a:Math.round(c)};var $h="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(c,a){var e=Math.pow(10,3*ha(8-a));return{scale:8<a?function(c){return c/e}:function(c){return c*e},symbol:c}});y.formatPrefix=function(c,a){var e=0;c&&(0>c&&(c*=-1),a&&(c=
y.round(c,bd(c,a))),e=1+Math.floor(1E-12+Math.log(c)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3))));return $h[8+e/3]};var ge=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,pg=y.map({b:function(c){return c.toString(2)},c:function(c){return String.fromCharCode(c)},o:function(c){return c.toString(8)},x:function(c){return c.toString(16)},X:function(c){return c.toString(16).toUpperCase()},g:function(c,a){return c.toPrecision(a)},e:function(c,a){return c.toExponential(a)},
f:function(c,a){return c.toFixed(a)},r:function(c,a){return(c=y.round(c,bd(c,a))).toFixed(Math.max(0,Math.min(20,bd(c*(1+1E-15),a))))}}),aa=y.time={},Aa=Date;Za.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},
getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){cb.setUTCDate.apply(this._,arguments)},setDay:function(){cb.setUTCDay.apply(this._,arguments)},setFullYear:function(){cb.setUTCFullYear.apply(this._,arguments)},setHours:function(){cb.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){cb.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){cb.setUTCMinutes.apply(this._,
arguments)},setMonth:function(){cb.setUTCMonth.apply(this._,arguments)},setSeconds:function(){cb.setUTCSeconds.apply(this._,arguments)},setTime:function(){cb.setTime.apply(this._,arguments)}};var cb=Date.prototype;aa.year=lb(function(c){c=aa.day(c);c.setMonth(0,1);return c},function(c,a){c.setFullYear(c.getFullYear()+a)},function(c){return c.getFullYear()});aa.years=aa.year.range;aa.years.utc=aa.year.utc.range;aa.day=lb(function(c){var a=new Aa(2E3,0);a.setFullYear(c.getFullYear(),c.getMonth(),c.getDate());
return a},function(c,a){c.setDate(c.getDate()+a)},function(c){return c.getDate()-1});aa.days=aa.day.range;aa.days.utc=aa.day.utc.range;aa.dayOfYear=function(c){var a=aa.year(c);return Math.floor((c-a-6E4*(c.getTimezoneOffset()-a.getTimezoneOffset()))/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(c,a){a=7-a;var e=aa[c]=lb(function(c){(c=aa.day(c)).setDate(c.getDate()-(c.getDay()+a)%7);return c},function(c,a){c.setDate(c.getDate()+7*Math.floor(a))},function(c){var e=
aa.year(c).getDay();return Math.floor((aa.dayOfYear(c)+(e+a)%7)/7)-(e!==a)});aa[c+"s"]=e.range;aa[c+"s"].utc=e.utc.range;aa[c+"OfYear"]=function(c){var e=aa.year(c).getDay();return Math.floor((aa.dayOfYear(c)+(e+a)%7)/7)}});aa.week=aa.sunday;aa.weeks=aa.sunday.range;aa.weeks.utc=aa.sunday.utc.range;aa.weekOfYear=aa.sundayOfYear;var he={"-":"",_:" ",0:"0"},ta=/^\s*\d+/,ke=/^%/;y.locale=function(c){return{numberFormat:og(c),timeFormat:rg(c)}};var Yf=y.locale({decimal:".",thousands:",",grouping:[3],
currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});y.format=Yf.numberFormat;y.geo={};cd.prototype={s:0,t:0,add:function(c){le(c,this.t,Gc);le(Gc.s,this.s,
this);this.s?this.t+=Gc.t:this.s=Gc.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Gc=new cd;y.geo.stream=function(c,a){if(c&&Zf.hasOwnProperty(c.type))Zf[c.type](c,a);else fc(c,a)};var Zf={Feature:function(c,a){fc(c.geometry,a)},FeatureCollection:function(c,a){for(var e=c.features,g=-1,b=e.length;++g<b;)fc(e[g].geometry,a)}},me={Sphere:function(c,a){a.sphere()},Point:function(c,a){c=c.coordinates;a.point(c[0],c[1],c[2])},MultiPoint:function(c,a){for(var e=c.coordinates,
g=-1,b=e.length;++g<b;)c=e[g],a.point(c[0],c[1],c[2])},LineString:function(c,a){dd(c.coordinates,a,0)},MultiLineString:function(c,a){for(var e=c.coordinates,g=-1,b=e.length;++g<b;)dd(e[g],a,0)},Polygon:function(c,a){ne(c.coordinates,a)},MultiPolygon:function(c,a){for(var e=c.coordinates,g=-1,b=e.length;++g<b;)ne(e[g],a)},GeometryCollection:function(c,a){for(var e=c.geometries,g=-1,b=e.length;++g<b;)fc(e[g],a)}};y.geo.area=function(c){Eb=0;y.geo.stream(c,Ga);return Eb};var Eb,mb=new cd,Ga={sphere:function(){Eb+=
4*ga},point:A,lineStart:A,lineEnd:A,polygonStart:function(){mb.reset();Ga.lineStart=Gg},polygonEnd:function(){var c=2*mb;Eb+=0>c?4*ga+c:c;Ga.lineStart=Ga.lineEnd=Ga.point=A}};y.geo.bounds=function(){function c(c,a){r.push(w=[l=c,x=c]);a<s&&(s=a);a>q&&(q=a)}function a(e,g){var b=nb([e*fa,g*fa]);if(u){var h=vb(u,b),h=vb([h[1],-h[0],0],h);ic(h);var h=jc(h),p=e-t,m=0<p?1:-1,k=h[0]*ra*m,p=180<ha(p);p^(m*t<k&&k<m*e)?(h=h[1]*ra,h>q&&(q=h)):(k=(k+360)%360-180,p^(m*t<k&&k<m*e))?(h=-h[1]*ra,h<s&&(s=h)):(g<
s&&(s=g),g>q&&(q=g));p?e<t?v(l,e)>v(l,x)&&(x=e):v(e,x)>v(l,x)&&(l=e):x>=l?(e<l&&(l=e),e>x&&(x=e)):e>t?v(l,e)>v(l,x)&&(x=e):v(e,x)>v(l,x)&&(l=e)}else c(e,g);u=b;t=e}function e(){K.point=a}function g(){w[0]=l;w[1]=x;K.point=c;u=null}function b(c,e){if(u){var g=c-t;C+=180<ha(g)?g+(0<g?360:-360):g}else E=c,B=e;Ga.point(c,e);a(c,e)}function m(){Ga.lineStart()}function k(){b(E,B);Ga.lineEnd();ha(C)>Z&&(l=-(x=180));w[0]=l;w[1]=x;u=null}function v(c,a){return 0>(a-=c)?a+360:a}function n(c,a){return c[0]-
a[0]}function f(c,a){return a[0]<=a[1]?a[0]<=c&&c<=a[1]:c<a[0]||a[1]<c}var l,s,x,q,t,E,B,u,C,r,w,K={point:c,lineStart:e,lineEnd:g,polygonStart:function(){K.point=b;K.lineStart=m;K.lineEnd=k;C=0;Ga.polygonStart()},polygonEnd:function(){Ga.polygonEnd();K.point=c;K.lineStart=e;K.lineEnd=g;0>mb?(l=-(x=180),s=-(q=90)):C>Z?q=90:C<-Z&&(s=-90);w[0]=l;w[1]=x}};return function(c){q=x=-(l=s=Infinity);r=[];y.geo.stream(c,K);if(c=r.length){r.sort(n);for(var a=1,e=r[0],g,b=[e];a<c;++a)g=r[a],f(g[0],e)||f(g[1],
e)?(v(e[0],g[1])>v(e[0],e[1])&&(e[1]=g[1]),v(g[0],e[1])>v(e[0],e[1])&&(e[0]=g[0])):b.push(e=g);var h=-Infinity,p;c=b.length-1;a=0;for(e=b[c];a<=c;e=g,++a)g=b[a],(p=v(e[1],g[0]))>h&&(h=p,l=g[0],x=e[1])}r=w=null;return Infinity===l||Infinity===s?[[NaN,NaN],[NaN,NaN]]:[[l,s],[x,q]]}}();y.geo.centroid=function(c){Ib=wb=$a=ab=Sa=Ka=La=Fa=eb=fb=Ta=0;y.geo.stream(c,Pa);c=eb;var a=fb,e=Ta,g=c*c+a*a+e*e;return g<pd&&(c=Ka,a=La,e=Fa,wb<Z&&(c=$a,a=ab,e=Sa),g=c*c+a*a+e*e,g<pd)?[NaN,NaN]:[Math.atan2(a,c)*ra,ca(e/
Math.sqrt(g))*ra]};var Ib,wb,$a,ab,Sa,Ka,La,Fa,eb,fb,Ta,Pa={sphere:A,point:fd,lineStart:oe,lineEnd:pe,polygonStart:function(){Pa.lineStart=Hg},polygonEnd:function(){Pa.lineStart=oe}},Fe=se(xb,function(c){var a=NaN,e=NaN,g=NaN,b;return{lineStart:function(){c.lineStart();b=1},point:function(m,k){var v=0<m?ga:-ga,n=ha(m-a);if(ha(n-ga)<Z)c.point(a,e=0<(e+k)/2?ya:-ya),c.point(g,e),c.lineEnd(),c.lineStart(),c.point(v,e),c.point(m,e),b=0;else if(g!==v&&n>=ga){ha(a-g)<Z&&(a-=g*Z);ha(m-v)<Z&&(m-=v*Z);var n=
a,f=e,l=m,s,x,q=Math.sin(n-l);e=ha(q)>Z?Math.atan((Math.sin(f)*(x=Math.cos(k))*Math.sin(l)-Math.sin(k)*(s=Math.cos(f))*Math.sin(n))/(s*x*q)):(f+k)/2;c.point(g,e);c.lineEnd();c.lineStart();c.point(v,e);b=0}c.point(a=m,e=k);g=v},lineEnd:function(){c.lineEnd();a=e=NaN},clean:function(){return 2-b}}},function(c,a,e,g){null==c?(e*=ya,g.point(-ga,e),g.point(0,e),g.point(ga,e),g.point(ga,0),g.point(ga,-e),g.point(0,-e),g.point(-ga,-e),g.point(-ga,0),g.point(-ga,e)):ha(c[0]-a[0])>Z?(c=c[0]<a[0]?ga:-ga,e=
e*c/2,g.point(-c,e),g.point(0,e),g.point(c,e)):g.point(a[0],a[1])},[-ga,-ga/2]),mc=1E9;y.geo.clipExtent=function(){var c,a,e,g,b,m,k={stream:function(c){b&&(b.valid=!1);b=m(c);b.valid=!0;return b},extent:function(v){if(!arguments.length)return[[c,a],[e,g]];m=ve(c=+v[0][0],a=+v[0][1],e=+v[1][0],g=+v[1][1]);b&&(b.valid=!1,b=null);return k}};return k.extent([[0,0],[960,500]])};(y.geo.conicEqualArea=function(){return hd(xe)}).raw=xe;y.geo.albers=function(){return y.geo.conicEqualArea().rotate([96,0]).center([-.6,
38.7]).parallels([29.5,45.5]).scale(1070)};y.geo.albersUsa=function(){function c(c){var a=c[0];c=c[1];b=null;(k(a,c),b)||(v(a,c),b)||n(a,c);return b}var a=y.geo.albers(),e=y.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),g=y.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),b,m={point:function(c,a){b=[c,a]}},k,v,n;c.invert=function(c){var b=a.scale(),h=a.translate(),m=(c[0]-h[0])/b,b=(c[1]-h[1])/b;return(.12<=b&&.234>b&&-.425<=m&&-.214>m?e:.166<=b&&
.234>b&&-.214<=m&&-.115>m?g:a).invert(c)};c.stream=function(c){var b=a.stream(c),h=e.stream(c),m=g.stream(c);return{point:function(c,a){b.point(c,a);h.point(c,a);m.point(c,a)},sphere:function(){b.sphere();h.sphere();m.sphere()},lineStart:function(){b.lineStart();h.lineStart();m.lineStart()},lineEnd:function(){b.lineEnd();h.lineEnd();m.lineEnd()},polygonStart:function(){b.polygonStart();h.polygonStart();m.polygonStart()},polygonEnd:function(){b.polygonEnd();h.polygonEnd();m.polygonEnd()}}};c.precision=
function(b){if(!arguments.length)return a.precision();a.precision(b);e.precision(b);g.precision(b);return c};c.scale=function(b){if(!arguments.length)return a.scale();a.scale(b);e.scale(.35*b);g.scale(b);return c.translate(a.translate())};c.translate=function(b){if(!arguments.length)return a.translate();var h=a.scale(),f=+b[0],l=+b[1];k=a.translate(b).clipExtent([[f-.455*h,l-.238*h],[f+.455*h,l+.238*h]]).stream(m).point;v=e.translate([f-.307*h,l+.201*h]).clipExtent([[f-.425*h+Z,l+.12*h+Z],[f-.214*
h-Z,l+.234*h-Z]]).stream(m).point;n=g.translate([f-.205*h,l+.212*h]).clipExtent([[f-.214*h+Z,l+.166*h+Z],[f-.115*h-Z,l+.234*h-Z]]).stream(m).point;return c};return c.scale(1070)};var Hc,nc,gb={point:A,lineStart:A,lineEnd:A,polygonStart:function(){nc=0;gb.lineStart=Lg},polygonEnd:function(){gb.lineStart=gb.lineEnd=gb.point=A;Hc+=ha(nc/2)}},Ic,Jc,Kc,Lc,ai={point:function(c,a){c<Ic&&(Ic=c);c>Kc&&(Kc=c);a<Jc&&(Jc=a);a>Lc&&(Lc=a)},lineStart:A,lineEnd:A,polygonStart:A,polygonEnd:A},Qa={point:ob,lineStart:ze,
lineEnd:Ae,polygonStart:function(){Qa.lineStart=Ng},polygonEnd:function(){Qa.point=ob;Qa.lineStart=ze;Qa.lineEnd=Ae}};y.geo.path=function(){function c(c){c&&("function"===typeof e&&k.pointRadius(+e.apply(this,arguments)),v&&v.valid||(v=m(k)),y.geo.stream(c,v));return k.result()}function a(){v=null;return c}var e=4.5,g,b,m,k,v;c.area=function(c){Hc=0;y.geo.stream(c,m(gb));return Hc};c.centroid=function(c){$a=ab=Sa=Ka=La=Fa=eb=fb=Ta=0;y.geo.stream(c,m(Qa));return Ta?[eb/Ta,fb/Ta]:Fa?[Ka/Fa,La/Fa]:Sa?
[$a/Sa,ab/Sa]:[NaN,NaN]};c.bounds=function(c){Kc=Lc=-(Ic=Jc=Infinity);y.geo.stream(c,m(ai));return[[Ic,Jc],[Kc,Lc]]};c.projection=function(c){if(!arguments.length)return g;m=(g=c)?c.stream||Pg(c):wa;return a()};c.context=function(c){if(!arguments.length)return b;k=null==(b=c)?new Mg:new Og(c);"function"!==typeof e&&k.pointRadius(e);return a()};c.pointRadius=function(a){if(!arguments.length)return e;e="function"===typeof a?a:(k.pointRadius(+a),+a);return c};return c.projection(y.geo.albersUsa()).context(null)};
y.geo.transform=function(c){return{stream:function(a){a=new Ee(a);for(var e in c)a[e]=c[e];return a}}};Ee.prototype={point:function(c,a){this.stream.point(c,a)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};y.geo.projection=hb;y.geo.projectionMutator=id;(y.geo.equirectangular=function(){return hb(Jb)}).raw=Jb.invert=
Jb;y.geo.rotation=function(c){function a(e){e=c(e[0]*fa,e[1]*fa);return e[0]*=ra,e[1]*=ra,e}c=jd(c[0]%360*fa,c[1]*fa,2<c.length?c[2]*fa:0);a.invert=function(a){a=c.invert(a[0]*fa,a[1]*fa);return a[0]*=ra,a[1]*=ra,a};return a};Ge.invert=Jb;y.geo.circle=function(){function c(){var c="function"===typeof a?a.apply(this,arguments):a,e=jd(-c[0]*fa,-c[1]*fa,0).invert,g=[];b(null,null,1,{point:function(c,a){g.push(c=e(c,a));c[0]*=ra;c[1]*=ra}});return{type:"Polygon",coordinates:[g]}}var a=[0,0],e,g=6,b;c.origin=
function(e){if(!arguments.length)return a;a=e;return c};c.angle=function(a){if(!arguments.length)return e;b=gd((e=+a)*fa,g*fa);return c};c.precision=function(a){if(!arguments.length)return g;b=gd(e*fa,(g=+a)*fa);return c};return c.angle(90)};y.geo.distance=function(c,a){var e=(a[0]-c[0])*fa,g=c[1]*fa,b=a[1]*fa,m=Math.sin(e),e=Math.cos(e),k=Math.sin(g),g=Math.cos(g),v=Math.sin(b),b=Math.cos(b),n;return Math.atan2(Math.sqrt((n=b*m)*n+(n=g*v-k*b*e)*n),k*v+g*b*e)};y.geo.graticule=function(){function c(){return{type:"MultiLineString",
coordinates:a()}}function a(){return y.range(Math.ceil(m/x)*x,h,x).map(B).concat(y.range(Math.ceil(f/q)*q,n,q).map(u)).concat(y.range(Math.ceil(b/l)*l,e,l).filter(function(c){return ha(c%x)>Z}).map(t)).concat(y.range(Math.ceil(v/s)*s,k,s).filter(function(c){return ha(c%q)>Z}).map(E))}var e,b,h,m,k,v,n,f,l=10,s=l,x=90,q=360,t,E,B,u,C=2.5;c.lines=function(){return a().map(function(c){return{type:"LineString",coordinates:c}})};c.outline=function(){return{type:"Polygon",coordinates:[B(m).concat(u(n).slice(1),
B(h).reverse().slice(1),u(f).reverse().slice(1))]}};c.extent=function(a){return arguments.length?c.majorExtent(a).minorExtent(a):c.minorExtent()};c.majorExtent=function(a){if(!arguments.length)return[[m,f],[h,n]];m=+a[0][0];h=+a[1][0];f=+a[0][1];n=+a[1][1];m>h&&(a=m,m=h,h=a);f>n&&(a=f,f=n,n=a);return c.precision(C)};c.minorExtent=function(a){if(!arguments.length)return[[b,v],[e,k]];b=+a[0][0];e=+a[1][0];v=+a[0][1];k=+a[1][1];b>e&&(a=b,b=e,e=a);v>k&&(a=v,v=k,k=a);return c.precision(C)};c.step=function(a){return arguments.length?
c.majorStep(a).minorStep(a):c.minorStep()};c.majorStep=function(a){if(!arguments.length)return[x,q];x=+a[0];q=+a[1];return c};c.minorStep=function(a){if(!arguments.length)return[l,s];l=+a[0];s=+a[1];return c};c.precision=function(a){if(!arguments.length)return C;C=+a;t=Le(v,k,90);E=Me(b,e,C);B=Le(f,n,90);u=Me(m,h,C);return c};return c.majorExtent([[-180,-90+Z],[180,90-Z]]).minorExtent([[-180,-80-Z],[180,80+Z]])};y.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[e||b.apply(this,
arguments),h||g.apply(this,arguments)]}}var b=kd,e,g=ld,h;a.distance=function(){return y.geo.distance(e||b.apply(this,arguments),h||g.apply(this,arguments))};a.source=function(g){if(!arguments.length)return b;b=g;e="function"===typeof g?null:g;return a};a.target=function(e){if(!arguments.length)return g;g=e;h="function"===typeof e?null:e;return a};a.precision=function(){return arguments.length?a:0};return a};y.geo.interpolate=function(a,b){return Qg(a[0]*fa,a[1]*fa,b[0]*fa,b[1]*fa)};y.geo.length=
function(a){Mc=0;y.geo.stream(a,Fb);return Mc};var Mc,Fb={sphere:A,point:A,lineStart:function(){function a(c,m){var k=Math.sin(m*=fa),v=Math.cos(m),n=ha((c*=fa)-b),f=Math.cos(n);Mc+=Math.atan2(Math.sqrt((n=v*Math.sin(n))*n+(n=g*k-e*v*f)*n),e*k+g*v*f);b=c;e=k;g=v}var b,e,g;Fb.point=function(h,m){b=h*fa;e=Math.sin(m*=fa);g=Math.cos(m);Fb.point=a};Fb.lineEnd=function(){Fb.point=Fb.lineEnd=A}},lineEnd:A,polygonStart:A,polygonEnd:A},$f=Kb(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/
2)});(y.geo.azimuthalEqualArea=function(){return hb($f)}).raw=$f;var ag=Kb(function(a){return(a=Math.acos(a))&&a/Math.sin(a)},wa);(y.geo.azimuthalEquidistant=function(){return hb(ag)}).raw=ag;(y.geo.conicConformal=function(){return hd(Ne)}).raw=Ne;(y.geo.conicEquidistant=function(){return hd(Oe)}).raw=Oe;var bg=Kb(function(a){return 1/a},Math.atan);(y.geo.gnomonic=function(){return hb(bg)}).raw=bg;oc.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-ya]};(y.geo.mercator=function(){return Pe(oc)}).raw=
oc;var cg=Kb(function(){return 1},Math.asin);(y.geo.orthographic=function(){return hb(cg)}).raw=cg;var dg=Kb(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(y.geo.stereographic=function(){return hb(dg)}).raw=dg;md.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-ya]};(y.geo.transverseMercator=function(){var a=Pe(md),b=a.center,e=a.rotate;a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[-a[1],a[0]])};a.rotate=function(a){return a?e([a[0],a[1],2<a.length?a[2]+90:90]):(a=
e(),[a[0],a[1],a[2]-90])};return a.rotate([0,0])}).raw=md;y.geom={};y.geom.hull=function(a){function b(a){if(3>a.length)return[];var c=qa(e),p=qa(g),k,n=a.length,f=[],l=[];for(k=0;k<n;k++)f.push([+c.call(this,a[k],k),+p.call(this,a[k],k),k]);f.sort(Rg);for(k=0;k<n;k++)l.push([f[k][0],-f[k][1]]);var c=Qe(f),l=Qe(l),p=l[0]===c[0],n=l[l.length-1]===c[c.length-1],s=[];for(k=c.length-1;0<=k;--k)s.push(a[f[c[k]][2]]);for(k=+p;k<l.length-n;++k)s.push(a[f[l[k]][2]]);return s}var e=yb,g=Lb;if(arguments.length)return b(a);
b.x=function(a){return arguments.length?(e=a,b):e};b.y=function(a){return arguments.length?(g=a,b):g};return b};y.geom.polygon=function(a){Vb(a,Nc);return a};var Nc=y.geom.polygon.prototype=[];Nc.area=function(){for(var a=-1,b=this.length,e,g=this[b-1],h=0;++a<b;)e=g,g=this[a],h+=e[1]*g[0]-e[0]*g[1];return.5*h};Nc.centroid=function(a){var b=-1,e=this.length,g=0,h=0,m,k=this[e-1],n;for(arguments.length||(a=-1/(6*this.area()));++b<e;)m=k,k=this[b],n=m[0]*k[1]-k[0]*m[1],g+=(m[0]+k[0])*n,h+=(m[1]+k[1])*
n;return[g*a,h*a]};Nc.clip=function(a){for(var b,e=Se(a),g=-1,h=this.length-Se(this),m,k,n=this[h-1],f,l,s;++g<h;){b=a.slice();a.length=0;f=this[g];l=b[(k=b.length-e)-1];for(m=-1;++m<k;)s=b[m],nd(s,n,f)?(nd(l,n,f)||a.push(Re(l,s,n,f)),a.push(s)):nd(l,n,f)&&a.push(Re(l,s,n,f)),l=s;e&&a.push(a[0]);n=f}return a};var Cb,pb,Ab,Ue=[],qd,Mb,Ye=[];We.prototype.prepare=function(){for(var a=this.edges,b=a.length,e;b--;)e=a[b].edge,e.b&&e.a||a.splice(b,1);a.sort(Xe);return a.length};rc.prototype={start:function(){return this.edge.l===
this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};rd.prototype={insert:function(a,b){var e,g,h;if(a){b.P=a;if(b.N=a.N)a.N.P=b;a.N=b;if(a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;e=a}else this._?(a=$e(this._),b.P=null,b.N=a,a.P=a.L=b,e=a):(b.P=b.N=null,this._=b,e=null);b.L=b.R=null;b.U=e;b.C=!0;for(a=b;e&&e.C;)g=e.U,e===g.L?(h=g.R)&&h.C?(e.C=h.C=!1,g.C=!0,a=g):(a===e.R&&(Ob(this,e),a=e,e=a.U),e.C=!1,g.C=!0,Pb(this,g)):(h=g.L)&&h.C?(e.C=h.C=!1,
g.C=!0,a=g):(a===e.L&&(Pb(this,e),a=e,e=a.U),e.C=!1,g.C=!0,Ob(this,g)),e=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P);a.P&&(a.P.N=a.N);a.N=a.P=null;var b=a.U,e=a.L,g=a.R,h,m;h=e?g?$e(g):e:g;b?b.L===a?b.L=h:b.R=h:this._=h;e&&g?(m=h.C,h.C=a.C,h.L=e,e.U=h,h!==g?(b=h.U,h.U=a.U,a=h.R,b.L=a,h.R=g,g.U=h):(h.U=b,b=h,a=h.R)):(m=a.C,a=h);a&&(a.U=b);if(!m)if(a&&a.C)a.C=!1;else{do{if(a===this._)break;if(a===b.L){if(a=b.R,a.C&&(a.C=!1,b.C=!0,Ob(this,b),a=b.R),a.L&&a.L.C||a.R&&a.R.C){a.R&&a.R.C||(a.L.C=
!1,a.C=!0,Pb(this,a),a=b.R);a.C=b.C;b.C=a.R.C=!1;Ob(this,b);a=this._;break}}else if(a=b.L,a.C&&(a.C=!1,b.C=!0,Pb(this,b),a=b.L),a.L&&a.L.C||a.R&&a.R.C){a.L&&a.L.C||(a.R.C=!1,a.C=!0,Ob(this,a),a=b.L);a.C=b.C;b.C=a.L.C=!1;Pb(this,b);a=this._;break}a.C=!0;a=b;b=b.U}while(!a.C);a&&(a.C=!1)}}};y.geom.voronoi=function(a){function b(a){var c=Array(a.length),g=n[0][0],h=n[0][1],m=n[1][0],p=n[1][1];sd(e(a),n).cells.forEach(function(e,b){var k=e.edges,n=e.site;(c[b]=k.length?k.map(function(a){a=a.start();return[a.x,
a.y]}):n.x>=g&&n.x<=m&&n.y>=h&&n.y<=p?[[g,p],[m,p],[m,h],[g,h]]:[]).point=a[b]});return c}function e(a){return a.map(function(a,c){return{x:Math.round(m(a,c)/Z)*Z,y:Math.round(k(a,c)/Z)*Z,i:c}})}var g=yb,h=Lb,m=g,k=h,n=Oc;if(a)return b(a);b.links=function(a){return sd(e(a)).edges.filter(function(a){return a.l&&a.r}).map(function(c){return{source:a[c.l.i],target:a[c.r.i]}})};b.triangles=function(a){var c=[];sd(e(a)).cells.forEach(function(e,b){for(var g=e.site,h=e.edges.sort(Xe),m=-1,p=h.length,k,
n=h[p-1].edge,n=n.l===g?n.r:n.l;++m<p;)k=n,n=h[m].edge,n=n.l===g?n.r:n.l,b<k.i&&b<n.i&&0>(g.x-n.x)*(k.y-g.y)-(g.x-k.x)*(n.y-g.y)&&c.push([a[b],a[k.i],a[n.i]])});return c};b.x=function(a){return arguments.length?(m=qa(g=a),b):g};b.y=function(a){return arguments.length?(k=qa(h=a),b):h};b.clipExtent=function(a){if(!arguments.length)return n===Oc?null:n;n=null==a?Oc:a;return b};b.size=function(a){return arguments.length?b.clipExtent(a&&[[0,0],a]):n===Oc?null:n&&n[1]};return b};var Oc=[[-1E6,-1E6],[1E6,
1E6]];y.geom.delaunay=function(a){return y.geom.voronoi().triangles(a)};y.geom.quadtree=function(a,b,e,g,h){function m(a){function c(a,e,b,g,h,p,k,n){if(!isNaN(b)&&!isNaN(g))if(a.leaf){var f=a.x,l=a.y;if(null!=f){if(!(.01>ha(f-b)+ha(l-g))){var v=a.point;a.x=a.y=a.point=null;m(a,v,f,l,h,p,k,n)}m(a,e,b,g,h,p,k,n)}else a.x=b,a.y=g,a.point=e}else m(a,e,b,g,h,p,k,n)}function m(a,e,b,g,h,p,k,n){var f=.5*(h+k),l=.5*(p+n),v=b>=f,s=g>=l,x=(s<<1)+v;a.leaf=!1;a=a.nodes[x]||(a.nodes[x]=af());v?h=f:k=f;s?p=l:
n=l;c(a,e,b,g,h,p,k,n)}var l,s=qa(k),x=qa(n),q,t,E,B,C,u,r,w;if(null!=b)C=b,u=e,r=g,w=h;else if(r=w=-(C=u=Infinity),q=[],t=[],B=a.length,f)for(E=0;E<B;++E)l=a[E],l.x<C&&(C=l.x),l.y<u&&(u=l.y),l.x>r&&(r=l.x),l.y>w&&(w=l.y),q.push(l.x),t.push(l.y);else for(E=0;E<B;++E){var y=+s(l=a[E],E);l=+x(l,E);y<C&&(C=y);l<u&&(u=l);y>r&&(r=y);l>w&&(w=l);q.push(y);t.push(l)}y=r-C;l=w-u;y>l?w=u+y:r=C+l;var K=af();K.add=function(a){c(K,a,+s(a,++E),+x(a,E),C,u,r,w)};K.visit=function(a){Qb(a,K,C,u,r,w)};E=-1;if(null==
b){for(;++E<B;)c(K,a[E],q[E],t[E],C,u,r,w);--E}else a.forEach(K.add);q=t=a=l=null;return K}var k=yb,n=Lb,f;if(f=arguments.length)return k=Xg,n=Yg,3===f&&(h=e,g=b,e=b=0),m(a);m.x=function(a){return arguments.length?(k=a,m):k};m.y=function(a){return arguments.length?(n=a,m):n};m.extent=function(a){if(!arguments.length)return null==b?null:[[b,e],[g,h]];null==a?b=e=g=h=null:(b=+a[0][0],e=+a[0][1],g=+a[1][0],h=+a[1][1]);return m};m.size=function(a){if(!arguments.length)return null==b?null:[g-b,h-e];null==
a?b=e=g=h=null:(b=e=0,g=+a[0],h=+a[1]);return m};return m};y.interpolateRgb=td;y.interpolateObject=bf;y.interpolateNumber=bb;y.interpolateString=cf;var ud=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vd=new RegExp(ud.source,"g");y.interpolate=qb;y.interpolators=[function(a,b){var e=typeof b;return("string"===e?Xb.has(b)||/^(#|rgb\(|hsl\()/.test(b)?td:cf:b instanceof ua?td:Array.isArray(b)?sc:"object"===e&&isNaN(b)?bf:bb)(a,b)}];y.interpolateArray=sc;var eg=function(){return wa},bi=y.map({linear:eg,
poly:function(a){return function(b){return Math.pow(b,a)}},quad:function(){return $g},cubic:function(){return ah},sin:function(){return ch},exp:function(){return dh},circle:function(){return eh},elastic:function(a,b){var e;2>arguments.length&&(b=.45);arguments.length?e=b/Ha*Math.asin(1/a):(a=1,e=b/4);return function(g){return 1+a*Math.pow(2,-10*g)*Math.sin((g-e)*Ha/b)}},back:function(a){a||(a=1.70158);return function(b){return b*b*((a+1)*b-a)}},bounce:function(){return fh}}),ci=y.map({"in":wa,out:df,
"in-out":ef,"out-in":function(a){return ef(df(a))}});y.ease=function(a){var b=a.indexOf("-"),e=0<=b?a.substring(0,b):a,b=0<=b?a.substring(b+1):"in",e=bi.get(e)||eg,b=ci.get(b)||wa;return Zg(b(e.apply(null,Sf.call(arguments,1))))};y.interpolateHcl=function(a,b){a=y.hcl(a);b=y.hcl(b);var e=a.h,g=a.c,h=a.l,m=b.h-e,k=b.c-g,n=b.l-h;isNaN(k)&&(k=0,g=isNaN(g)?b.c:g);isNaN(m)?(m=0,e=isNaN(e)?b.h:e):180<m?m-=360:-180>m&&(m+=360);return function(a){return Uc(e+m*a,g+k*a,h+n*a)+""}};y.interpolateHsl=function(a,
b){a=y.hsl(a);b=y.hsl(b);var e=a.h,g=a.s,h=a.l,m=b.h-e,k=b.s-g,n=b.l-h;isNaN(k)&&(k=0,g=isNaN(g)?b.s:g);isNaN(m)?(m=0,e=isNaN(e)?b.h:e):180<m?m-=360:-180>m&&(m+=360);return function(a){return Xa(e+m*a,g+k*a,h+n*a)+""}};y.interpolateLab=function(a,b){a=y.lab(a);b=y.lab(b);var e=a.l,g=a.a,h=a.b,m=b.l-e,k=b.a-g,n=b.b-h;return function(a){return $d(e+m*a,g+k*a,h+n*a)+""}};y.interpolateRound=ff;y.transform=function(a){var b=Ra.createElementNS(y.ns.prefix.svg,"g");return(y.transform=function(a){if(null!=
a){b.setAttribute("transform",a);var c=b.transform.baseVal.consolidate()}return new gf(c?c.matrix:di)})(a)};gf.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var di={a:1,b:0,c:0,d:1,e:0,f:0};y.interpolateTransform=jf;y.layout={};y.layout.bundle=function(){return function(a){for(var b=[],e=-1,g=a.length;++e<g;)b.push(ih(a[e]));return b}};y.layout.chord=function(){function a(){var c={},e=[],x=y.range(k),q=[],E,t,C,
u,B;g=[];h=[];E=0;for(u=-1;++u<k;){t=0;for(B=-1;++B<k;)t+=m[u][B];e.push(t);q.push(y.range(k));E+=t}f&&x.sort(function(a,c){return f(e[a],e[c])});l&&q.forEach(function(a,c){a.sort(function(a,e){return l(m[c][a],m[c][e])})});E=(Ha-n*k)/E;t=0;for(u=-1;++u<k;){C=t;for(B=-1;++B<k;){var r=x[u],w=q[r][B],K=m[r][w],S=t,z=t+=K*E;c[r+"-"+w]={index:r,subindex:w,startAngle:S,endAngle:z,value:K}}h[r]={index:r,startAngle:C,endAngle:t,value:(t-C)/E};t+=n}for(u=-1;++u<k;)for(B=u-1;++B<k;)x=c[u+"-"+B],q=c[B+"-"+
u],(x.value||q.value)&&g.push(x.value<q.value?{source:q,target:x}:{source:x,target:q});s&&b()}function b(){g.sort(function(a,c){return s((a.source.value+a.target.value)/2,(c.source.value+c.target.value)/2)})}var e={},g,h,m,k,n=0,f,l,s;e.matrix=function(a){if(!arguments.length)return m;k=(m=a)&&m.length;g=h=null;return e};e.padding=function(a){if(!arguments.length)return n;n=a;g=h=null;return e};e.sortGroups=function(a){if(!arguments.length)return f;f=a;g=h=null;return e};e.sortSubgroups=function(a){if(!arguments.length)return l;
l=a;g=null;return e};e.sortChords=function(a){if(!arguments.length)return s;s=a;g&&b();return e};e.chords=function(){g||a();return g};e.groups=function(){h||a();return h};return e};y.layout.force=function(){function a(c){return function(a,e,b,g){if(a.point!==c){b=a.cx-c.x;var h=a.cy-c.y;e=g-e;g=b*b+h*h;if(e*e/t<g)return g<x&&(e=a.charge/g,c.px-=b*e,c.py-=h*e),!0;a.point&&g&&g<x&&(e=a.pointCharge/g,c.px-=b*e,c.py-=h*e)}return!a.charge}}function b(a){a.px=y.event.x;a.py=y.event.y;e.resume()}var e={},
g=y.dispatch("start","tick","end"),h=[1,1],m,k,n=.9,f=ei,l=fi,s=-30,x=gi,q=.1,t=.64,E=[],u=[],B,C,r;e.tick=function(){if(.005>(k*=.99))return g.end({type:"end",alpha:k=0}),!0;var e=E.length,b=u.length,m,p,f,l,x,t,w;for(m=0;m<b;++m)if(p=u[m],f=p.source,l=p.target,t=l.x-f.x,w=l.y-f.y,x=t*t+w*w)x=k*C[m]*((x=Math.sqrt(x))-B[m])/x,t*=x,w*=x,l.x-=t*(x=f.weight/(l.weight+f.weight)),l.y-=w*x,f.x+=t*(x=1-x),f.y+=w*x;if(x=k*q)if(t=h[0]/2,w=h[1]/2,m=-1,x)for(;++m<e;)p=E[m],p.x+=(t-p.x)*x,p.y+=(w-p.y)*x;if(s)for(lf(b=
y.geom.quadtree(E),k,r),m=-1;++m<e;)(p=E[m]).fixed||b.visit(a(p));for(m=-1;++m<e;)p=E[m],p.fixed?(p.x=p.px,p.y=p.py):(p.x-=(p.px-(p.px=p.x))*n,p.y-=(p.py-(p.py=p.y))*n);g.tick({type:"tick",alpha:k})};e.nodes=function(a){if(!arguments.length)return E;E=a;return e};e.links=function(a){if(!arguments.length)return u;u=a;return e};e.size=function(a){if(!arguments.length)return h;h=a;return e};e.linkDistance=function(a){if(!arguments.length)return f;f="function"===typeof a?a:+a;return e};e.distance=e.linkDistance;
e.linkStrength=function(a){if(!arguments.length)return l;l="function"===typeof a?a:+a;return e};e.friction=function(a){if(!arguments.length)return n;n=+a;return e};e.charge=function(a){if(!arguments.length)return s;s="function"===typeof a?a:+a;return e};e.chargeDistance=function(a){if(!arguments.length)return Math.sqrt(x);x=a*a;return e};e.gravity=function(a){if(!arguments.length)return q;q=+a;return e};e.theta=function(a){if(!arguments.length)return Math.sqrt(t);t=a*a;return e};e.alpha=function(a){if(!arguments.length)return k;
a=+a;k?k=0<a?a:0:0<a&&(g.start({type:"start",alpha:k=a}),y.timer(e.tick));return e};e.start=function(){function a(e,g){if(!p){p=Array(b);for(m=0;m<b;++m)p[m]=[];for(m=0;m<k;++m){var h=u[m];p[h.source.index].push(h.target);p[h.target.index].push(h.source)}}for(var h=p[c],m=-1,k=h.length,n;++m<k;)if(!isNaN(n=h[m][e]))return n;return Math.random()*g}var c,b=E.length,g=u.length,m=h[0],k=h[1],p,n;for(c=0;c<b;++c)(n=E[c]).index=c,n.weight=0;for(c=0;c<g;++c)n=u[c],"number"==typeof n.source&&(n.source=E[n.source]),
"number"==typeof n.target&&(n.target=E[n.target]),++n.source.weight,++n.target.weight;for(c=0;c<b;++c)n=E[c],isNaN(n.x)&&(n.x=a("x",m)),isNaN(n.y)&&(n.y=a("y",k)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);B=[];if("function"===typeof f)for(c=0;c<g;++c)B[c]=+f.call(this,u[c],c);else for(c=0;c<g;++c)B[c]=f;C=[];if("function"===typeof l)for(c=0;c<g;++c)C[c]=+l.call(this,u[c],c);else for(c=0;c<g;++c)C[c]=l;r=[];if("function"===typeof s)for(c=0;c<b;++c)r[c]=+s.call(this,E[c],c);else for(c=0;c<b;++c)r[c]=
s;return e.resume()};e.resume=function(){return e.alpha(.1)};e.stop=function(){return e.alpha(0)};e.drag=function(){m||(m=y.behavior.drag().origin(wa).on("dragstart.force",jh).on("drag.force",b).on("dragend.force",kh));if(!arguments.length)return m;this.on("mouseover.force",lh).on("mouseout.force",mh).call(m)};return y.rebind(e,g,"on")};var ei=20,fi=1,gi=Infinity;y.layout.hierarchy=function(){function a(h){var m=[h],k=[],n;for(h.depth=0;null!=(n=m.pop());)if(k.push(n),(l=e.call(a,n,n.depth))&&(f=
l.length)){for(var f,l,s;0<=--f;)m.push(s=l[f]),s.parent=n,s.depth=n.depth+1;g&&(n.value=0);n.children=l}else g&&(n.value=+g.call(a,n,n.depth)||0),delete n.children;Ua(h,function(a){var c,e;b&&(c=a.children)&&c.sort(b);g&&(e=a.parent)&&(e.value+=a.value)});return k}var b=qh,e=oh,g=ph;a.sort=function(e){if(!arguments.length)return b;b=e;return a};a.children=function(b){if(!arguments.length)return e;e=b;return a};a.value=function(e){if(!arguments.length)return g;g=e;return a};a.revalue=function(e){g&&
(Sb(e,function(a){a.children&&(a.value=0)}),Ua(e,function(e){var b;e.children||(e.value=+g.call(a,e,e.depth)||0);if(b=e.parent)b.value+=e.value}));return e};return a};y.layout.partition=function(){function a(e,b,g,h){var k=e.children;e.x=b;e.y=e.depth*h;e.dx=g;e.dy=h;if(k&&(n=k.length)){var p=-1,n,f;for(g=e.value?g/e.value:0;++p<n;)a(f=k[p],b,e=f.value*g,h),b+=e}}function b(a){a=a.children;var c=0;if(a&&(g=a.length))for(var e=-1,g;++e<g;)c=Math.max(c,b(a[e]));return 1+c}function e(e,k){var n=g.call(this,
e,k);a(n[0],0,h[0],h[1]/b(n[0]));return n}var g=y.layout.hierarchy(),h=[1,1];e.size=function(a){if(!arguments.length)return h;h=a;return e};return Rb(e,g)};y.layout.pie=function(){function a(m){var k=m.map(function(e,g){return+b.call(a,e,g)}),n=+("function"===typeof g?g.apply(this,arguments):g),f=(("function"===typeof h?h.apply(this,arguments):h)-n)/y.sum(k),l=y.range(m.length);null!=e&&l.sort(e===fg?function(a,c){return k[c]-k[a]}:function(a,c){return e(m[a],m[c])});var s=[];l.forEach(function(a){var c;
s[a]={data:m[a],value:c=k[a],startAngle:n,endAngle:n+=c*f}});return s}var b=Number,e=fg,g=0,h=Ha;a.value=function(e){if(!arguments.length)return b;b=e;return a};a.sort=function(b){if(!arguments.length)return e;e=b;return a};a.startAngle=function(e){if(!arguments.length)return g;g=e;return a};a.endAngle=function(e){if(!arguments.length)return h;h=e;return a};return a};var fg={};y.layout.stack=function(){function a(n,f){var l=n.map(function(e,g){return b.call(a,e,g)}),s=l.map(function(e){return e.map(function(e,
b){return[m.call(a,e,b),k.call(a,e,b)]})}),x=e.call(a,s,f),l=y.permute(l,x),s=y.permute(s,x),x=g.call(a,s,f),q=l.length,t=l[0].length,E,u,B;for(u=0;u<t;++u)for(h.call(a,l[0][u],B=x[u],s[0][u][1]),E=1;E<q;++E)h.call(a,l[E][u],B+=s[E-1][u][1],s[E][u][1]);return n}var b=wa,e=wd,g=xd,h=th,m=rh,k=sh;a.values=function(e){if(!arguments.length)return b;b=e;return a};a.order=function(b){if(!arguments.length)return e;e="function"===typeof b?b:hi.get(b)||wd;return a};a.offset=function(e){if(!arguments.length)return g;
g="function"===typeof e?e:ii.get(e)||xd;return a};a.x=function(e){if(!arguments.length)return m;m=e;return a};a.y=function(e){if(!arguments.length)return k;k=e;return a};a.out=function(e){if(!arguments.length)return h;h=e;return a};return a};var hi=y.map({"inside-out":function(a){var b=a.length,e,g=a.map(uh),h=a.map(vh),m=y.range(b).sort(function(a,c){return g[a]-g[c]}),k=0,n=0,f=[],l=[];for(a=0;a<b;++a)e=m[a],k<n?(k+=h[e],f.push(e)):(n+=h[e],l.push(e));return l.reverse().concat(f)},reverse:function(a){return y.range(a.length).reverse()},
"default":wd}),ii=y.map({silhouette:function(a){var b=a.length,e=a[0].length,g=[],h=0,m,k,n,f=[];for(k=0;k<e;++k){for(n=m=0;m<b;m++)n+=a[m][k][1];n>h&&(h=n);g.push(n)}for(k=0;k<e;++k)f[k]=(h-g[k])/2;return f},wiggle:function(a){var b=a.length,e=a[0],g=e.length,h,k,n,f,l,s,x,q,E,t=[];t[0]=q=E=0;for(k=1;k<g;++k){for(f=h=0;h<b;++h)f+=a[h][k][1];l=h=0;for(x=e[k][0]-e[k-1][0];h<b;++h){n=0;for(s=(a[h][k][1]-a[h][k-1][1])/(2*x);n<h;++n)s+=(a[n][k][1]-a[n][k-1][1])/x;l+=s*a[h][k][1]}t[k]=q-=f?l/f*x:0;q<E&&
(E=q)}for(k=0;k<g;++k)t[k]-=E;return t},expand:function(a){var b=a.length,e=a[0].length,g=1/b,h,k,n,f=[];for(k=0;k<e;++k){for(n=h=0;h<b;h++)n+=a[h][k][1];if(n)for(h=0;h<b;h++)a[h][k][1]/=n;else for(h=0;h<b;h++)a[h][k][1]=g}for(k=0;k<e;++k)f[k]=0;return f},zero:xd});y.layout.histogram=function(){function a(c,k){var n=[],f=c.map(e,this),l=g.call(this,f,k),s=h.call(this,l,f,k),x;k=-1;for(var q=f.length,E=s.length-1,t=b?1:1/q;++k<E;)x=n[k]=[],x.dx=s[k+1]-(x.x=s[k]),x.y=0;if(0<E)for(k=-1;++k<q;)x=f[k],
x>=l[0]&&x<=l[1]&&(x=n[y.bisect(s,x,1,E)-1],x.y+=t,x.push(c[k]));return n}var b=!0,e=Number,g=yh,h=xh;a.value=function(b){if(!arguments.length)return e;e=b;return a};a.range=function(e){if(!arguments.length)return g;g=qa(e);return a};a.bins=function(e){if(!arguments.length)return h;h="number"===typeof e?function(a){return mf(a,e)}:qa(e);return a};a.frequency=function(e){if(!arguments.length)return b;b=!!e;return a};return a};y.layout.pack=function(){function a(c,k){var n=b.call(this,c,k),f=n[0],l=
g[0],s=g[1],x=null==h?Math.sqrt:"function"===typeof h?h:function(){return h};f.x=f.y=0;Ua(f,function(a){a.r=+x(a.value)});Ua(f,pf);if(e){var q=e*(h?1:Math.max(2*f.r/l,2*f.r/s))/2;Ua(f,function(a){a.r+=q});Ua(f,pf);Ua(f,function(a){a.r-=q})}rf(f,l/2,s/2,h?1:1/Math.max(2*f.r/l,2*f.r/s));return n}var b=y.layout.hierarchy().sort(zh),e=0,g=[1,1],h;a.size=function(e){if(!arguments.length)return g;g=e;return a};a.radius=function(e){if(!arguments.length)return h;h=null==e||"function"===typeof e?e:+e;return a};
a.padding=function(b){if(!arguments.length)return e;e=+b;return a};return Rb(a,b)};y.layout.tree=function(){function a(c,s){var x=k.call(this,c,s),q=x[0],E=b(q);Ua(E,e);E.parent.m=-E.z;Sb(E,g);if(l)Sb(q,h);else{var t=q,u=q,B=q;Sb(q,function(a){a.x<t.x&&(t=a);a.x>u.x&&(u=a);a.depth>B.depth&&(B=a)});var C=n(t,u)/2-t.x,r=f[0]/(u.x+n(u,t)/2+C),w=f[1]/(B.depth||1);Sb(q,function(a){a.x=(a.x+C)*r;a.y=a.depth*w})}return x}function b(a){a={A:null,children:[a]};for(var c=[a],e;null!=(e=c.pop());)for(var g=
e.children,h,k=0,m=g.length;k<m;++k)c.push((g[k]=h={_:g[k],parent:e,children:(h=g[k].children)&&h.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:k}).a=h);return a.children[0]}function e(a){var c=a.children,e=a.parent.children,b=a.i?e[a.i-1]:null;if(c.length){for(var g=0,h=0,k=a.children,m=k.length,p;0<=--m;)p=k[m],p.z+=g,p.m+=g,g+=p.s+(h+=p.c);c=(c[0].z+c[c.length-1].z)/2;b?(a.z=b.z+n(a._,b._),a.m=a.z-c):a.z=c}else b&&(a.z=b.z+n(a._,b._));c=a.parent;e=a.parent.A||e[0];if(b){h=g=a;k=g.parent.children[0];
m=g.m;p=h.m;for(var f=b.m,l=k.m,s;b=Ad(b),g=zd(g),b&&g;){k=zd(k);h=Ad(h);h.a=a;s=b.z+f-g.z-m+n(b._,g._);if(0<s){var x=b.a.parent===a.parent?b.a:e,v=a,q=s,E=q/(v.i-x.i);v.c-=E;v.s+=q;x.c+=E;v.z+=q;v.m+=q;m+=s;p+=s}f+=b.m;m+=g.m;l+=k.m;p+=h.m}b&&!Ad(h)&&(h.t=b,h.m+=f-p);g&&!zd(k)&&(k.t=g,k.m+=m-l,e=a)}c.A=e}function g(a){a._.x=a.z+a.parent.m;a.m+=a.parent.m}function h(a){a.x*=f[0];a.y=a.depth*f[1]}var k=y.layout.hierarchy().sort(null).value(null),n=sf,f=[1,1],l=null;a.separation=function(e){if(!arguments.length)return n;
n=e;return a};a.size=function(e){if(!arguments.length)return l?null:f;l=null==(f=e)?h:null;return a};a.nodeSize=function(e){if(!arguments.length)return l?f:null;l=null==(f=e)?null:h;return a};return Rb(a,k)};y.layout.cluster=function(){function a(c,k){var n=b.call(this,c,k),f=n[0],l,s=0;Ua(f,function(a){var c=a.children;c&&c.length?(a.x=Dh(c),a.y=Ch(c)):(a.x=l?s+=e(a,l):0,a.y=0,l=a)});var x=tf(f),q=uf(f),E=x.x-e(x,q)/2,t=q.x+e(q,x)/2;Ua(f,h?function(a){a.x=(a.x-f.x)*g[0];a.y=(f.y-a.y)*g[1]}:function(a){a.x=
(a.x-E)/(t-E)*g[0];a.y=(1-(f.y?a.y/f.y:1))*g[1]});return n}var b=y.layout.hierarchy().sort(null).value(null),e=sf,g=[1,1],h=!1;a.separation=function(b){if(!arguments.length)return e;e=b;return a};a.size=function(e){if(!arguments.length)return h?null:g;h=null==(g=e);return a};a.nodeSize=function(e){if(!arguments.length)return h?g:null;h=null!=(g=e);return a};return Rb(a,b)};y.layout.treemap=function(){function a(c,e){for(var b=-1,g=c.length,h,k;++b<g;)k=(h=c[b]).value*(0>e?0:e),h.area=isNaN(k)||0>=
k?0:k}function b(e){var h=e.children;if(h&&h.length){var k=s(e),m=[],n=h.slice(),f=Infinity,l,x="slice"===E?k.dx:"dice"===E?k.dy:"slice-dice"===E?e.depth&1?k.dy:k.dx:Math.min(k.dx,k.dy);a(n,k.dx*k.dy/e.value);for(m.area=0;0<(e=n.length);){m.push(e=n[e-1]);m.area+=e.area;if(!(e="squarify"!==E)){l=x;e=m.area;for(var q=void 0,v=0,u=Infinity,B=-1,C=m.length;++B<C;)if(q=m[B].area)q<u&&(u=q),q>v&&(v=q);e*=e;l*=l;e=(l=e?Math.max(l*v*t/e,e/(l*u*t)):Infinity)<=f}e?(n.pop(),f=l):(m.area-=m.pop().area,g(m,x,
k,!1),x=Math.min(k.dx,k.dy),m.length=m.area=0,f=Infinity)}m.length&&(g(m,x,k,!0),m.length=m.area=0);h.forEach(b)}}function e(b){var h=b.children;if(h&&h.length){var k=s(b),m=h.slice(),n=[];a(m,k.dx*k.dy/b.value);for(n.area=0;b=m.pop();)n.push(b),n.area+=b.area,null!=b.z&&(g(n,b.z?k.dx:k.dy,k,!m.length),n.length=n.area=0);h.forEach(e)}}function g(a,c,e,b){var g=-1,h=a.length,k=e.x,m=e.y,p=c?n(a.area/c):0,f;if(c==e.dx){if(b||p>e.dy)p=e.dy;for(;++g<h;)f=a[g],f.x=k,f.y=m,f.dy=p,k+=f.dx=Math.min(e.x+e.dx-
k,p?n(f.area/p):0);f.z=!0;f.dx+=e.x+e.dx-k;e.y+=p;e.dy-=p}else{if(b||p>e.dx)p=e.dx;for(;++g<h;)f=a[g],f.x=k,f.y=m,f.dx=p,m+=f.dy=Math.min(e.y+e.dy-m,p?n(f.area/p):0);f.z=!1;f.dy+=e.y+e.dy-m;e.x+=p;e.dx-=p}}function h(g){g=q||k(g);var h=g[0];h.x=0;h.y=0;h.dx=f[0];h.dy=f[1];q&&k.revalue(h);a([h],h.dx*h.dy/h.value);(q?e:b)(h);x&&(q=g);return g}var k=y.layout.hierarchy(),n=Math.round,f=[1,1],l=null,s=Bd,x=!1,q,E="squarify",t=.5*(1+Math.sqrt(5));h.size=function(a){if(!arguments.length)return f;f=a;return h};
h.padding=function(a){function c(e){var b=a.call(h,e,e.depth);return null==b?Bd(e):vf(e,"number"===typeof b?[b,b,b,b]:b)}function e(c){return vf(c,a)}if(!arguments.length)return l;var b;s=null==(l=a)?Bd:"function"===(b=typeof a)?c:"number"===b?(a=[a,a,a,a],e):e;return h};h.round=function(a){if(!arguments.length)return n!=Number;n=a?Math.round:Number;return h};h.sticky=function(a){if(!arguments.length)return x;x=a;q=null;return h};h.ratio=function(a){if(!arguments.length)return t;t=a;return h};h.mode=
function(a){if(!arguments.length)return E;E=a+"";return h};return Rb(h,k)};y.random={normal:function(a,b){var e=arguments.length;2>e&&(b=1);1>e&&(a=0);return function(){var e,h;do e=2*Math.random()-1,h=2*Math.random()-1,h=e*e+h*h;while(!h||1<h);return a+b*e*Math.sqrt(-2*Math.log(h)/h)}},logNormal:function(){var a=y.random.normal.apply(y,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=y.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=
0,e=0;e<a;e++)b+=Math.random();return b}}};y.scale={};var Fh={floor:wa,ceil:wa};y.scale.linear=function(){return xf([0,1],[0,1],qb,!1)};var Ih={s:1,g:1,p:1,r:1,e:1};y.scale.log=function(){return yf(y.scale.linear().domain([0,1]),10,!0,[1,10])};var zf=y.format(".0e"),Jh={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};y.scale.pow=function(){return Af(y.scale.linear(),1,[0,1])};y.scale.sqrt=function(){return y.scale.pow().exponent(.5)};y.scale.ordinal=function(){return Bf([],
{t:"range",a:[[]]})};y.scale.category10=function(){return y.scale.ordinal().range(ji)};y.scale.category20=function(){return y.scale.ordinal().range(ki)};y.scale.category20b=function(){return y.scale.ordinal().range(li)};y.scale.category20c=function(){return y.scale.ordinal().range(mi)};var ji=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Wb),ki=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,
16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Wb),li=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Wb),mi=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Wb);y.scale.quantile=function(){return Cf([],[])};y.scale.quantize=
function(){return Df(0,1,[0,1])};y.scale.threshold=function(){return Ef([.5],[0,1])};y.scale.identity=function(){return Ff([0,1])};y.svg={};y.svg.arc=function(){function a(){var c=b.apply(this,arguments),k=e.apply(this,arguments),n=g.apply(this,arguments)+rb,f=h.apply(this,arguments)+rb,l=(f<n&&(l=n,n=f,f=l),f-n),x=l<ga?"0":"1",s=Math.cos(n),n=Math.sin(n),q=Math.cos(f),f=Math.sin(f);return l>=ni?c?"M0,"+k+"A"+k+","+k+" 0 1,1 0,"+-k+"A"+k+","+k+" 0 1,1 0,"+k+"M0,"+c+"A"+c+","+c+" 0 1,0 0,"+-c+"A"+
c+","+c+" 0 1,0 0,"+c+"Z":"M0,"+k+"A"+k+","+k+" 0 1,1 0,"+-k+"A"+k+","+k+" 0 1,1 0,"+k+"Z":c?"M"+k*s+","+k*n+"A"+k+","+k+" 0 "+x+",1 "+k*q+","+k*f+"L"+c*q+","+c*f+"A"+c+","+c+" 0 "+x+",0 "+c*s+","+c*n+"Z":"M"+k*s+","+k*n+"A"+k+","+k+" 0 "+x+",1 "+k*q+","+k*f+"L0,0Z"}var b=Kh,e=Lh,g=Gf,h=Hf;a.innerRadius=function(e){if(!arguments.length)return b;b=qa(e);return a};a.outerRadius=function(b){if(!arguments.length)return e;e=qa(b);return a};a.startAngle=function(e){if(!arguments.length)return g;g=qa(e);
return a};a.endAngle=function(e){if(!arguments.length)return h;h=qa(e);return a};a.centroid=function(){var a=(b.apply(this,arguments)+e.apply(this,arguments))/2,c=(g.apply(this,arguments)+h.apply(this,arguments))/2+rb;return[Math.cos(c)*a,Math.sin(c)*a]};return a};var rb=-ya,ni=Ha-Z;y.svg.line=function(){return If(wa)};var Ed=y.map({linear:Ia,"linear-closed":function(a){return Ia(a)+"Z"},step:function(a){for(var b=0,e=a.length,g=a[0],h=[g[0],",",g[1]];++b<e;)h.push("H",(g[0]+(g=a[b])[0])/2,"V",g[1]);
1<e&&h.push("H",g[0]);return h.join("")},"step-before":Fd,"step-after":Gd,basis:Jf,"basis-open":function(a){if(4>a.length)return Ia(a);for(var b=[],e=-1,g=a.length,h,k=[0],n=[0];3>++e;)h=a[e],k.push(h[0]),n.push(h[1]);b.push(Ma(jb,k)+","+Ma(jb,n));for(--e;++e<g;)h=a[e],k.shift(),k.push(h[0]),n.shift(),n.push(h[1]),Id(b,k,n);return b.join("")},"basis-closed":function(a){for(var b,e=-1,g=a.length,h=g+4,k,n=[],f=[];4>++e;)k=a[e%g],n.push(k[0]),f.push(k[1]);b=[Ma(jb,n),",",Ma(jb,f)];for(--e;++e<h;)k=
a[e%g],n.shift(),n.push(k[0]),f.shift(),f.push(k[1]),Id(b,n,f);return b.join("")},bundle:function(a,b){var e=a.length-1;if(e)for(var g=a[0][0],h=a[0][1],k=a[e][0]-g,n=a[e][1]-h,f=-1,l,x;++f<=e;)l=a[f],x=f/e,l[0]=b*l[0]+(1-b)*(g+x*k),l[1]=b*l[1]+(1-b)*(h+x*n);return Jf(a)},cardinal:function(a,b){return 3>a.length?Ia(a):a[0]+xc(a,Hd(a,b))},"cardinal-open":function(a,b){return 4>a.length?Ia(a):a[1]+xc(a.slice(1,a.length-1),Hd(a,b))},"cardinal-closed":function(a,b){return 3>a.length?Ia(a):a[0]+xc((a.push(a[0]),
a),Hd([a[a.length-2]].concat(a,[a[1]]),b))},monotone:function(a){if(3>a.length)a=Ia(a);else{var b=a[0],e=[],g,h,k,n;g=0;h=a.length-1;var f=[];k=a[1];for(n=f[0]=Jd(a[0],k);++g<h;)f[g]=(n+(n=Jd(k,k=a[g+1])))/2;f[g]=n;for(var l=-1,x=a.length-1;++l<x;)g=Jd(a[l],a[l+1]),ha(g)<Z?f[l]=f[l+1]=0:(h=f[l]/g,k=f[l+1]/g,n=h*h+k*k,9<n&&(n=3*g/Math.sqrt(n),f[l]=n*h,f[l+1]=n*k));for(l=-1;++l<=x;)n=(a[Math.min(x,l+1)][0]-a[Math.max(0,l-1)][0])/(6*(1+f[l]*f[l])),e.push([n||0,f[l]*n||0]);a=b+xc(a,e)}return a}});Ed.forEach(function(a,
b){b.key=a;b.closed=/-closed$/.test(a)});var Kf=[0,2/3,1/3,0],Lf=[0,1/3,2/3,0],jb=[0,1/6,2/3,1/6];y.svg.line.radial=function(){var a=If(Mf);a.radius=a.x;delete a.x;a.angle=a.y;delete a.y;return a};Fd.reverse=Gd;Gd.reverse=Fd;y.svg.area=function(){return Nf(wa)};y.svg.area.radial=function(){var a=Nf(Mf);a.radius=a.x;delete a.x;a.innerRadius=a.x0;delete a.x0;a.outerRadius=a.x1;delete a.x1;a.angle=a.y;delete a.y;a.startAngle=a.y0;delete a.y0;a.endAngle=a.y1;delete a.y1;return a};y.svg.chord=function(){function a(c,
k){var n=b(this,g,c,k),m=b(this,h,c,k);return"M"+n.p0+e(n.r,n.p1,n.a1-n.a0)+(n.a0==m.a0&&n.a1==m.a1?"Q 0,0 "+n.p0:"Q 0,0 "+m.p0+e(m.r,m.p1,m.a1-m.a0)+("Q 0,0 "+n.p0))+"Z"}function b(a,c,e,g){var h=c.call(a,e,g);c=k.call(a,h,g);e=n.call(a,h,g)+rb;a=f.call(a,h,g)+rb;return{r:c,a0:e,a1:a,p0:[c*Math.cos(e),c*Math.sin(e)],p1:[c*Math.cos(a),c*Math.sin(a)]}}function e(a,c,e){return"A"+a+","+a+" 0 "+ +(e>ga)+",1 "+c}var g=kd,h=ld,k=Mh,n=Gf,f=Hf;a.radius=function(e){if(!arguments.length)return k;k=qa(e);return a};
a.source=function(e){if(!arguments.length)return g;g=qa(e);return a};a.target=function(e){if(!arguments.length)return h;h=qa(e);return a};a.startAngle=function(e){if(!arguments.length)return n;n=qa(e);return a};a.endAngle=function(e){if(!arguments.length)return f;f=qa(e);return a};return a};y.svg.diagonal=function(){function a(c,k){var n=b.call(this,c,k),f=e.call(this,c,k),l=(n.y+f.y)/2,n=[n,{x:n.x,y:l},{x:f.x,y:l},f],n=n.map(g);return"M"+n[0]+"C"+n[1]+" "+n[2]+" "+n[3]}var b=kd,e=ld,g=Of;a.source=
function(e){if(!arguments.length)return b;b=qa(e);return a};a.target=function(b){if(!arguments.length)return e;e=qa(b);return a};a.projection=function(e){if(!arguments.length)return g;g=e;return a};return a};y.svg.diagonal.radial=function(){var a=y.svg.diagonal(),b=Of,e=a.projection;a.projection=function(a){return arguments.length?e(Nh(b=a)):b};return a};y.svg.symbol=function(){function a(c,h){return(gg.get(b.call(this,c,h))||Pf)(e.call(this,c,h))}var b=Ph,e=Oh;a.type=function(e){if(!arguments.length)return b;
b=qa(e);return a};a.size=function(b){if(!arguments.length)return e;e=qa(b);return a};return a};var gg=y.map({circle:Pf,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){a=Math.sqrt(a/(2*hg));var b=a*hg;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"},square:function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/
Pc);var b=a*Pc/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(a){a=Math.sqrt(a/Pc);var b=a*Pc/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});y.svg.symbolTypes=gg.keys();var Pc=Math.sqrt(3),hg=Math.tan(30*fa),va=[],Wf=0,tb,Bc;va.call=na.call;va.empty=na.empty;va.node=na.node;va.size=na.size;y.transition=function(a){return arguments.length?tb?a.transition():a:Vf.transition()};y.transition.prototype=va;va.select=function(a){var b=this.id,e=[],g,h,k;a=P(a);for(var n=-1,f=this.length;++n<
f;){e.push(g=[]);for(var l=this[n],x=-1,s=l.length;++x<s;)(k=l[x])&&(h=a.call(k,k.__data__,x,n))?("__data__"in k&&(h.__data__=k.__data__),yc(h,x,b,k.__transition__[b]),g.push(h)):g.push(null)}return Tb(e,b)};va.selectAll=function(a){var b=this.id,e=[],g,h,k,n;a=J(a);for(var f=-1,l=this.length;++f<l;)for(var x=this[f],s=-1,q=x.length;++s<q;)if(g=x[s]){n=g.__transition__[b];h=a.call(g,g.__data__,s,f);e.push(g=[]);for(var E=-1,t=h.length;++E<t;)(k=h[E])&&yc(k,E,b,n),g.push(k)}return Tb(e,b)};va.filter=
function(a){var b=[],e,g,h;"function"!==typeof a&&(a=R(a));for(var k=0,n=this.length;k<n;k++){b.push(e=[]);g=this[k];for(var f=0,l=g.length;f<l;f++)(h=g[f])&&a.call(h,h.__data__,f,k)&&e.push(h)}return Tb(b,this.id)};va.tween=function(a,b){var e=this.id;return 2>arguments.length?this.node().__transition__[e].tween.get(a):n(this,null==b?function(b){b.__transition__[e].tween.remove(a)}:function(g){g.__transition__[e].tween.set(a,b)})};va.attr=function(a,b){function e(){this.removeAttribute(f)}function g(){this.removeAttributeNS(f.space,
f.local)}function h(a){return null==a?e:(a+="",function(){var c=this.getAttribute(f),e;return c!==a&&(e=n(c,a),function(a){this.setAttribute(f,e(a))})})}function k(a){return null==a?g:(a+="",function(){var c=this.getAttributeNS(f.space,f.local),e;return c!==a&&(e=n(c,a),function(a){this.setAttributeNS(f.space,f.local,e(a))})})}if(2>arguments.length){for(b in a)this.attr(b,a[b]);return this}var n="transform"==a?jf:qb,f=y.ns.qualify(a);return Kd(this,"attr."+a,b,f.local?k:h)};va.attrTween=function(a,
b){function e(a,c){var e=b.call(this,a,c,this.getAttribute(h));return e&&function(a){this.setAttribute(h,e(a))}}function g(a,c){var e=b.call(this,a,c,this.getAttributeNS(h.space,h.local));return e&&function(a){this.setAttributeNS(h.space,h.local,e(a))}}var h=y.ns.qualify(a);return this.tween("attr."+a,h.local?g:e)};va.style=function(a,b,e){function g(){this.style.removeProperty(a)}var h=arguments.length;if(3>h){if("string"!==typeof a){2>h&&(b="");for(e in a)this.style(e,a[e],b);return this}e=""}return Kd(this,
"style."+a,b,function(b){return null==b?g:(b+="",function(){var g=Ba.getComputedStyle(this,null).getPropertyValue(a),h;return g!==b&&(h=qb(g,b),function(b){this.style.setProperty(a,h(b),e)})})})};va.styleTween=function(a,b,e){3>arguments.length&&(e="");return this.tween("style."+a,function(g,h){var k=b.call(this,g,h,Ba.getComputedStyle(this,null).getPropertyValue(a));return k&&function(b){this.style.setProperty(a,k(b),e)}})};va.text=function(a){return Kd(this,"text",a,Qh)};va.remove=function(){return this.each("end.transition",
function(){var a;2>this.__transition__.count&&(a=this.parentNode)&&a.removeChild(this)})};va.ease=function(a){var b=this.id;if(1>arguments.length)return this.node().__transition__[b].ease;"function"!==typeof a&&(a=y.ease.apply(y,arguments));return n(this,function(e){e.__transition__[b].ease=a})};va.delay=function(a){var b=this.id;return 1>arguments.length?this.node().__transition__[b].delay:n(this,"function"===typeof a?function(e,g,h){e.__transition__[b].delay=+a.call(e,e.__data__,g,h)}:(a=+a,function(e){e.__transition__[b].delay=
a}))};va.duration=function(a){var b=this.id;return 1>arguments.length?this.node().__transition__[b].duration:n(this,"function"===typeof a?function(e,g,h){e.__transition__[b].duration=Math.max(1,a.call(e,e.__data__,g,h))}:(a=Math.max(1,a),function(e){e.__transition__[b].duration=a}))};va.each=function(a,b){var e=this.id;if(2>arguments.length){var g=Bc,h=tb;tb=e;n(this,function(b,g,h){Bc=b.__transition__[e];a.call(b,b.__data__,g,h)});Bc=g;tb=h}else n(this,function(g){g=g.__transition__[e];(g.event||
(g.event=y.dispatch("start","end"))).on(a,b)});return this};va.transition=function(){for(var a=this.id,b=++Wf,e=[],g,h,k,n,f=0,l=this.length;f<l;f++){e.push(g=[]);h=this[f];for(var x=0,s=h.length;x<s;x++){if(k=h[x])n=Object.create(k.__transition__[a]),n.delay+=n.duration,yc(k,x,b,n);g.push(k)}}return Tb(e,b)};y.svg.axis=function(){function a(c){c.each(function(){var a=y.select(this),c=this.__chart__||b,x=this.__chart__=b.copy(),s=null==f?x.ticks?x.ticks.apply(x,n):x.domain():f,q=null==l?x.tickFormat?
x.tickFormat.apply(x,n):wa:l,E=a.selectAll(".tick").data(s,x),s=E.enter().insert("g",".domain").attr("class","tick").style("opacity",Z),t=y.transition(E.exit()).style("opacity",Z).remove(),u=y.transition(E.order()).style("opacity",1),B,C=tc(x),a=a.selectAll(".domain").data([0]),a=(a.enter().append("path").attr("class","domain"),y.transition(a));s.append("line");s.append("text");var r=s.select("line"),w=u.select("line"),q=E.select("text").text(q),E=s.select("text"),K=u.select("text");switch(e){case "bottom":B=
Qf;r.attr("y2",g);E.attr("y",Math.max(g,0)+k);w.attr("x2",0).attr("y2",g);K.attr("x",0).attr("y",Math.max(g,0)+k);q.attr("dy",".71em").style("text-anchor","middle");a.attr("d","M"+C[0]+","+h+"V0H"+C[1]+"V"+h);break;case "top":B=Qf;r.attr("y2",-g);E.attr("y",-(Math.max(g,0)+k));w.attr("x2",0).attr("y2",-g);K.attr("x",0).attr("y",-(Math.max(g,0)+k));q.attr("dy","0em").style("text-anchor","middle");a.attr("d","M"+C[0]+","+-h+"V0H"+C[1]+"V"+-h);break;case "left":B=Rf;r.attr("x2",-g);E.attr("x",-(Math.max(g,
0)+k));w.attr("x2",-g).attr("y2",0);K.attr("x",-(Math.max(g,0)+k)).attr("y",0);q.attr("dy",".32em").style("text-anchor","end");a.attr("d","M"+-h+","+C[0]+"H0V"+C[1]+"H"+-h);break;case "right":B=Rf,r.attr("x2",g),E.attr("x",Math.max(g,0)+k),w.attr("x2",g).attr("y2",0),K.attr("x",Math.max(g,0)+k).attr("y",0),q.attr("dy",".32em").style("text-anchor","start"),a.attr("d","M"+h+","+C[0]+"H0V"+C[1]+"H"+h)}if(x.rangeBand)var S=x,z=S.rangeBand()/2,c=x=function(a){return S(a)+z};else c.rangeBand?c=x:t.call(B,
x);s.call(B,c);u.call(B,x)})}var b=y.scale.linear(),e=ig,g=6,h=6,k=3,n=[10],f=null,l;a.scale=function(e){if(!arguments.length)return b;b=e;return a};a.orient=function(b){if(!arguments.length)return e;e=b in oi?b+"":ig;return a};a.ticks=function(){if(!arguments.length)return n;n=arguments;return a};a.tickValues=function(e){if(!arguments.length)return f;f=e;return a};a.tickFormat=function(e){if(!arguments.length)return l;l=e;return a};a.tickSize=function(e){var b=arguments.length;if(!b)return g;g=+e;
h=+arguments[b-1];return a};a.innerTickSize=function(e){if(!arguments.length)return g;g=+e;return a};a.outerTickSize=function(e){if(!arguments.length)return h;h=+e;return a};a.tickPadding=function(e){if(!arguments.length)return k;k=+e;return a};a.tickSubdivide=function(){return arguments.length&&a};return a};var ig="bottom",oi={top:1,right:1,bottom:1,left:1};y.svg.brush=function(){function a(k){k.each(function(){var k=y.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color",
"rgba(0,0,0,0)").on("mousedown.brush",h).on("touchstart.brush",h),m=k.selectAll(".background").data([0]);m.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");k.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var l=k.selectAll(".resize").data(u,wa);l.exit().remove();l.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return pi[a]}).append("rect").attr("x",
function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");l.style("display",a.empty()?"none":null);k=y.transition(k);m=y.transition(m);n&&(l=tc(n),m.attr("x",l[0]).attr("width",l[1]-l[0]),e(k));f&&(l=tc(f),m.attr("y",l[0]).attr("height",l[1]-l[0]),g(k));b(k)})}function b(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+l[+/e$/.test(a)]+","+x[+/^s/.test(a)]+")"})}function e(a){a.select(".extent").attr("x",
l[0]);a.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1]-l[0])}function g(a){a.select(".extent").attr("y",x[0]);a.selectAll(".extent,.e>rect,.w>rect").attr("height",x[1]-x[0])}function h(){function h(){var a=y.mouse(C),c=!1;O&&(a[0]+=O[0],a[1]+=O[1]);M||(y.event.altKey?(F||(F=[(l[0]+l[1])/2,(x[0]+x[1])/2]),J[0]=l[+(a[0]<F[0])],J[1]=x[+(a[1]<F[1])]):F=null);z&&u(a,n,0)&&(e(K),c=!0);A&&u(a,f,1)&&(g(K),c=!0);c&&(b(K),w({type:"brush",mode:M?"move":"resize"}))}function u(a,c,e){var b=tc(c);c=b[0];
var g=b[1],b=J[e],h=e?x:l,k=h[1]-h[0];M&&(c-=b,g-=k+b);a=(e?t:E)?Math.max(c,Math.min(g,a[e])):a[e];M?c=(a+=b)+k:(F&&(b=Math.max(c,Math.min(g,2*F[e]-a))),b<a?(c=a,a=b):c=b);if(h[0]!=a||h[1]!=c)return e?q=null:s=null,h[0]=a,h[1]=c,!0}function B(){h();K.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null);y.select("body").style("cursor",null);X.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",
null).on("keyup.brush",null);R();w({type:"brushend"})}var C=this,r=y.select(y.event.target),w=k.of(C,arguments),K=y.select(C),S=r.datum(),z=!/^(n|s)$/.test(S)&&n,A=!/^(e|w)$/.test(S)&&f,M=r.classed("extent"),R=ja(),F,J=y.mouse(C),O,X=y.select(Ba).on("keydown.brush",function(){32==y.event.keyCode&&(M||(F=null,J[0]-=l[1],J[1]-=x[1],M=2),L())}).on("keyup.brush",function(){32==y.event.keyCode&&2==M&&(J[0]+=l[1],J[1]+=x[1],M=0,L())});if(y.event.changedTouches)X.on("touchmove.brush",h).on("touchend.brush",
B);else X.on("mousemove.brush",h).on("mouseup.brush",B);K.interrupt().selectAll("*").interrupt();if(M)J[0]=l[0]-J[0],J[1]=x[0]-J[1];else if(S){var N=+/w$/.test(S),S=+/^n/.test(S);O=[l[1-N]-J[0],x[1-S]-J[1]];J[0]=l[N];J[1]=x[S]}else y.event.altKey&&(F=J.slice());K.style("pointer-events","none").selectAll(".resize").style("display",null);y.select("body").style("cursor",r.style("cursor"));w({type:"brushstart"});h()}var k=N(a,"brushstart","brush","brushend"),n=null,f=null,l=[0,0],x=[0,0],s,q,E=!0,t=!0,
u=Rd[0];a.event=function(a){a.each(function(){var a=k.of(this,arguments),c={x:l,y:x,i:s,j:q},e=this.__chart__||c;this.__chart__=c;tb?y.select(this).transition().each("start.brush",function(){s=e.i;q=e.j;l=e.x;x=e.y;a({type:"brushstart"})}).tween("brush:brush",function(){var e=sc(l,c.x),b=sc(x,c.y);s=q=null;return function(g){l=c.x=e(g);x=c.y=b(g);a({type:"brush",mode:"resize"})}}).each("end.brush",function(){s=c.i;q=c.j;a({type:"brush",mode:"resize"});a({type:"brushend"})}):(a({type:"brushstart"}),
a({type:"brush",mode:"resize"}),a({type:"brushend"}))})};a.x=function(e){if(!arguments.length)return n;n=e;u=Rd[!n<<1|!f];return a};a.y=function(e){if(!arguments.length)return f;f=e;u=Rd[!n<<1|!f];return a};a.clamp=function(e){if(!arguments.length)return n&&f?[E,t]:n?E:f?t:null;n&&f?(E=!!e[0],t=!!e[1]):n?E=!!e:f&&(t=!!e);return a};a.extent=function(e){var b,g,h,k,m;if(!arguments.length)return n&&(s?(b=s[0],g=s[1]):(b=l[0],g=l[1],n.invert&&(b=n.invert(b),g=n.invert(g)),g<b&&(m=b,b=g,g=m))),f&&(q?(h=
q[0],k=q[1]):(h=x[0],k=x[1],f.invert&&(h=f.invert(h),k=f.invert(k)),k<h&&(m=h,h=k,k=m))),n&&f?[[b,h],[g,k]]:n?[b,g]:f&&[h,k];n&&(b=e[0],g=e[1],f&&(b=b[0],g=g[0]),s=[b,g],n.invert&&(b=n(b),g=n(g)),g<b&&(m=b,b=g,g=m),b!=l[0]||g!=l[1])&&(l=[b,g]);f&&(h=e[0],k=e[1],n&&(h=h[1],k=k[1]),q=[h,k],f.invert&&(h=f(h),k=f(k)),k<h&&(m=h,h=k,k=m),h!=x[0]||k!=x[1])&&(x=[h,k]);return a};a.clear=function(){a.empty()||(l=[0,0],x=[0,0],s=q=null);return a};a.empty=function(){return!!n&&l[0]==l[1]||!!f&&x[0]==x[1]};return y.rebind(a,
k,"on")};var pi={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Rd=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],Sd=aa.format=Yf.timeFormat,jg=Sd.utc,kg=jg("%Y-%m-%dT%H:%M:%S.%LZ");Sd.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ld:kg;Ld.parse=function(a){a=new Date(a);return isNaN(a)?null:a};Ld.toString=kg.toString;aa.second=lb(function(a){return new Aa(1E3*Math.floor(a/1E3))},function(a,
b){a.setTime(a.getTime()+1E3*Math.floor(b))},function(a){return a.getSeconds()});aa.seconds=aa.second.range;aa.seconds.utc=aa.second.utc.range;aa.minute=lb(function(a){return new Aa(6E4*Math.floor(a/6E4))},function(a,b){a.setTime(a.getTime()+6E4*Math.floor(b))},function(a){return a.getMinutes()});aa.minutes=aa.minute.range;aa.minutes.utc=aa.minute.utc.range;aa.hour=lb(function(a){var b=a.getTimezoneOffset()/60;return new Aa(36E5*(Math.floor(a/36E5-b)+b))},function(a,b){a.setTime(a.getTime()+36E5*
Math.floor(b))},function(a){return a.getHours()});aa.hours=aa.hour.range;aa.hours.utc=aa.hour.utc.range;aa.month=lb(function(a){a=aa.day(a);a.setDate(1);return a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()});aa.months=aa.month.range;aa.months.utc=aa.month.utc.range;var zc=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],Td=[[aa.second,1],[aa.second,5],[aa.second,15],[aa.second,30],[aa.minute,1],[aa.minute,5],[aa.minute,
15],[aa.minute,30],[aa.hour,1],[aa.hour,3],[aa.hour,6],[aa.hour,12],[aa.day,1],[aa.day,2],[aa.week,1],[aa.month,1],[aa.month,3],[aa.year,1]],qi=Sd.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",xb]]),Rh={range:function(a,
b,e){return y.range(Math.ceil(a/e)*e,+b,e).map(sb)},floor:wa,ceil:wa};Td.year=aa.year;aa.scale=function(){return Md(y.scale.linear(),Td,qi)};var lg=Td.map(function(a){return[a[0].utc,a[1]]}),ri=jg.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],
["%B",function(a){return a.getUTCMonth()}],["%Y",xb]]);lg.year=aa.year.utc;aa.scale.utc=function(){return Md(y.scale.linear(),lg,ri)};y.text=$c(function(a){return a.responseText});y.json=function(a,b){return Yb(a,"application/json",Sh,b)};y.html=function(a,b){return Yb(a,"text/html",Th,b)};y.xml=$c(function(a){return a.responseXML});"function"===typeof define&&define.amd?define(y):"object"===typeof module&&module.exports?module.exports=y:this.d3=y}();
(function(){function ma(a,b){return(new Date(b,a+1,0)).getDate()}var r=window.nv||{};r.version="1.1.15b";r.dev=!0;window.nv=r;r.tooltip=r.tooltip||{};r.utils=r.utils||{};r.models=r.models||{};r.charts={};r.graphs=[];r.logs={};r.dispatch=d3.dispatch("render_start","render_end");r.dev&&(r.dispatch.on("render_start",function(a){r.logs.startTime=+new Date}),r.dispatch.on("render_end",function(a){r.logs.endTime=+new Date;r.logs.totalTime=r.logs.endTime-r.logs.startTime;r.log("total",r.logs.totalTime)}));
r.log=function(){r.dev&&console.log&&console.log.apply?console.log.apply(console,arguments):r.dev&&"function"==typeof console.log&&Function.prototype.bind&&Function.prototype.bind.call(console.log,console).apply(console,arguments);return arguments[arguments.length-1]};r.render=function(a){a=a||1;r.render.active=!0;r.dispatch.render_start();setTimeout(function(){for(var b,t,z=0;z<a&&(t=r.render.queue[z]);z++)b=t.generate(),typeof t.callback==typeof Function&&t.callback(b),r.graphs.push(b);r.render.queue.splice(0,
z);r.render.queue.length?setTimeout(arguments.callee,0):(r.dispatch.render_end(),r.render.active=!1)},0)};r.render.active=!1;r.render.queue=[];r.addGraph=function(a,b){typeof a===typeof Function&&(a={generate:a,callback:b});r.render.queue.push(a);r.render.active||r.render()};r.identity=function(a){return a};r.strip=function(a){return a.replace(/(\s|&)/g,"")};d3.time.monthEnd=function(a){return new Date(a.getFullYear(),a.getMonth(),0)};d3.time.monthEnds=function(a,b,t){return function(r,u,l){var f=
a(r),w=[];f<r&&b(f);if(1<l)for(;f<u;)r=new Date(+f),0===t(r)%l&&w.push(r),b(f);else for(;f<u;)w.push(new Date(+f)),b(f);return w}}(d3.time.monthEnd,function(a){a.setUTCDate(a.getUTCDate()+1);a.setDate(ma(a.getMonth()+1,a.getFullYear()))},function(a){return a.getMonth()});r.interactiveGuideline=function(){function a(D){D.each(function(A){function D(){var q=d3.mouse(this),t=q[0],q=q[1],r=!0,w=!1;G&&(t=d3.event.offsetX,q=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(r=!1),d3.event.target.className.baseVal.match("nv-legend")&&
(w=!0));r&&(t-=u.left,q-=u.top);0>t||0>q||t>L||q>Q||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||w?G&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&d3.event.relatedTarget.className.match(b.nvPointerEventsClass)||(f.elementMouseout({mouseX:t,mouseY:q}),a.renderGuideLine(null)):(r=l.invert(t),f.elementMousemove({mouseX:t,mouseY:q,pointXValue:r}),"dblclick"===d3.event.type&&f.elementDblclick({mouseX:t,mouseY:q,pointXValue:r}))}var F=d3.select(this),
L=t||960,Q=z||400,N=F.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([A]);N.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine");q&&(q.on("mousemove",D,!0).on("mouseout",D,!0).on("dblclick",D),a.renderGuideLine=function(a){w&&(a=N.select(".nv-interactiveGuideLine").selectAll("line").data(null!=a?[r.utils.NaNtoZero(a)]:[],String),a.enter().append("line").attr("class","nv-guideline").attr("x1",function(a){return a}).attr("x2",
function(a){return a}).attr("y1",Q).attr("y2",0),a.exit().remove())})})}var b=r.models.tooltip(),t=null,z=null,u={left:0,top:0},l=d3.scale.linear();d3.scale.linear();var f=d3.dispatch("elementMousemove","elementMouseout","elementDblclick"),w=!0,q=null,G=-1!==navigator.userAgent.indexOf("MSIE");a.dispatch=f;a.tooltip=b;a.margin=function(b){if(!arguments.length)return u;u.top="undefined"!=typeof b.top?b.top:u.top;u.left="undefined"!=typeof b.left?b.left:u.left;return a};a.width=function(b){if(!arguments.length)return t;
t=b;return a};a.height=function(b){if(!arguments.length)return z;z=b;return a};a.xScale=function(b){if(!arguments.length)return l;l=b;return a};a.showGuideLine=function(b){if(!arguments.length)return w;w=b;return a};a.svgContainer=function(b){if(!arguments.length)return q;q=b;return a};return a};r.interactiveBisect=function(a,b,t){if(!a instanceof Array)return null;"function"!==typeof t&&(t=function(a,b){return a.x});var r=d3.bisector(t).left,r=d3.max([0,r(a,b)-1]),u=t(a[r],r);"undefined"===typeof u&&
(u=r);if(u===b)return r;var l=d3.min([r+1,a.length-1]);a=t(a[l],l);"undefined"===typeof a&&(a=l);return Math.abs(a-b)>=Math.abs(u-b)?r:l};r.nearestValueIndex=function(a,b,t){var r=Infinity,u=null;a.forEach(function(a,f){var w=Math.abs(b-a);w<=r&&w<t&&(r=w,u=f)});return u};(function(){window.nv.tooltip={};window.nv.models.tooltip=function(){function a(){if(A){var b;b=t&&t.series&&0<t.series.length?!0:!1;if(b){if(q){b=d3.select(q);"svg"!==b.node().tagName&&(b=b.select("svg"));var L=b.node()?b.attr("viewBox"):
null;L&&(L=L.split(" "),b=parseInt(b.style("width"))/L[2],D.left*=b,D.top*=b)}b=D.left;var L=null!=f?f:D.top,J;J=N(t);var M;M=q?d3.select(q):d3.select("body");var T=M.select(".nvtooltip");null===T.node()&&(T=M.append("div").attr("class","nvtooltip "+(w?w:"xy-tooltip")).attr("id",H));T.node().innerHTML=J;T.style("top",0).style("left",0).style("opacity",0);T.selectAll("div, table, td, tr").classed(F,!0);T.classed(F,!0);G=J=T.node();if(q){(T=q.getElementsByTagName("svg")[0])?T.getBoundingClientRect():
q.getBoundingClientRect();var O=0;M=0;if(T){T=T.getBoundingClientRect();O=q.getBoundingClientRect();M=T.top;if(0>M){var s=q.getBoundingClientRect();M=Math.abs(M)>s.height?0:M}M=Math.abs(M-O.top);O=Math.abs(T.left-O.left)}b+=q.offsetLeft+O-2*q.scrollLeft;L+=q.offsetTop+M-2*q.scrollTop}l&&0<l&&(L=Math.floor(L/l)*l);r.tooltip.calcTooltipPosition([b,L],z,u,J);return a}}}var b=null,t=null,z="w",u=50,l=25,f=null,w=null,q=null,G=null,D={left:null,top:null},A=!0,H="nvtooltip-"+Math.floor(1E5*Math.random()),
F="nv-pointer-events-none",L=function(a,b){return a},Q=function(a){return a},N=function(a){if(null!=b)return b;if(null==a)return"";var f=d3.select(document.createElement("table"));f.selectAll("thead").data([a]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(Q(a.value));var l=f.selectAll("tbody").data([a]).enter().append("tbody").selectAll("tr").data(function(a){return a.series}).enter().append("tr").classed("highlight",function(a){return a.highlight});
l.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(a){return a.color});l.append("td").classed("key",!0).html(function(a){return a.key});l.append("td").classed("value",!0).html(function(a,b){return L(a.value,b)});l.selectAll("td").each(function(a){a.highlight&&(a=d3.scale.linear().domain([0,1]).range(["#fff",a.color]),d3.select(this).style("border-bottom-color",a(.6)).style("border-top-color",a(.6)))});f=f.node().outerHTML;void 0!==a.footer&&(f+="<div class='footer'>"+
a.footer+"</div>");return f};a.nvPointerEventsClass=F;a.content=function(f){if(!arguments.length)return b;b=f;return a};a.tooltipElem=function(){return G};a.contentGenerator=function(b){if(!arguments.length)return N;"function"===typeof b&&(N=b);return a};a.data=function(b){if(!arguments.length)return t;t=b;return a};a.gravity=function(b){if(!arguments.length)return z;z=b;return a};a.distance=function(b){if(!arguments.length)return u;u=b;return a};a.snapDistance=function(b){if(!arguments.length)return l;
l=b;return a};a.classes=function(b){if(!arguments.length)return w;w=b;return a};a.chartContainer=function(b){if(!arguments.length)return q;q=b;return a};a.position=function(b){if(!arguments.length)return D;D.left="undefined"!==typeof b.left?b.left:D.left;D.top="undefined"!==typeof b.top?b.top:D.top;return a};a.fixedTop=function(b){if(!arguments.length)return f;f=b;return a};a.enabled=function(b){if(!arguments.length)return A;A=b;return a};a.valueFormatter=function(b){if(!arguments.length)return L;
"function"===typeof b&&(L=b);return a};a.headerFormatter=function(b){if(!arguments.length)return Q;"function"===typeof b&&(Q=b);return a};a.id=function(){return H};return a};r.tooltip.show=function(a,b,t,z,u,l){var f=document.createElement("div");f.className="nvtooltip "+(l?l:"xy-tooltip");l=u;if(!u||u.tagName.match(/g|svg/i))l=document.getElementsByTagName("body")[0];f.style.left=0;f.style.top=0;f.style.opacity=0;f.innerHTML=b;l.appendChild(f);u&&(a[0]-=u.scrollLeft,a[1]-=u.scrollTop);r.tooltip.calcTooltipPosition(a,
t,z,f)};r.tooltip.findFirstNonSVGParent=function(a){for(;null!==a.tagName.match(/^g|svg$/i);)a=a.parentNode;return a};r.tooltip.findTotalOffsetTop=function(a,b){var t=b;do isNaN(a.offsetTop)||(t+=a.offsetTop);while(a=a.offsetParent);return t};r.tooltip.findTotalOffsetLeft=function(a,b){var t=b;do isNaN(a.offsetLeft)||(t+=a.offsetLeft);while(a=a.offsetParent);return t};r.tooltip.calcTooltipPosition=function(a,b,t,z){var u=parseInt(z.offsetHeight),l=parseInt(z.offsetWidth),f=r.utils.windowSize().width,
w=r.utils.windowSize().height,q=window.pageYOffset,G=window.pageXOffset,D,A,w=window.innerWidth>=document.body.scrollWidth?w:w-16,f=window.innerHeight>=document.body.scrollHeight?f:f-16;t=t||20;var H=function(a){return r.tooltip.findTotalOffsetTop(a,A)},F=function(a){return r.tooltip.findTotalOffsetLeft(a,D)};switch(b||"s"){case "e":D=a[0]-l-t;A=a[1]-u/2;b=F(z);H=H(z);b<G&&(D=a[0]+t>G?a[0]+t:G-b+D);H<q&&(A=q-H+A);H+u>q+w&&(A=q+w-H+A-u);break;case "w":D=a[0]+t;A=a[1]-u/2;b=F(z);H=H(z);b+l>f&&(D=a[0]-
l-t);H<q&&(A=q+5);H+u>q+w&&(A=q+w-H+A-u);break;case "n":D=a[0]-l/2-5;A=a[1]+t;b=F(z);H=H(z);b<G&&(D=G+5);b+l>f&&(D=D-l/2+5);H+u>q+w&&(A=q+w-H+A-u);break;case "s":D=a[0]-l/2;A=a[1]-u-t;b=F(z);H=H(z);b<G&&(D=G+5);b+l>f&&(D=D-l/2+5);q>H&&(A=q);break;case "none":D=a[0],A=a[1]-t,b=F(z),H=H(z)}z.style.left=D+"px";z.style.top=A+"px";z.style.opacity=1;z.style.position="absolute";return z};r.tooltip.cleanup=function(){for(var a=document.getElementsByClassName("nvtooltip"),b=[];a.length;)b.push(a[0]),a[0].style.transitionDelay=
"0 !important",a[0].style.opacity=0,a[0].className="nvtooltip-pending-removal";setTimeout(function(){for(;b.length;){var a=b.pop();a.parentNode.removeChild(a)}},500)}})();r.utils.windowSize=function(){var a={width:640,height:480};document.body&&document.body.offsetWidth&&(a.width=document.body.offsetWidth,a.height=document.body.offsetHeight);"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(a.width=document.documentElement.offsetWidth,a.height=document.documentElement.offsetHeight);
window.innerWidth&&window.innerHeight&&(a.width=window.innerWidth,a.height=window.innerHeight);return a};r.utils.windowResize=function(a){if(void 0!==a){var b=window.onresize;window.onresize=function(t){"function"==typeof b&&b(t);a(t)}}};r.utils.getColor=function(a){return arguments.length?"[object Array]"===Object.prototype.toString.call(a)?function(b,t){return b.color||a[t%a.length]}:a:r.utils.defaultColor()};r.utils.defaultColor=function(){var a=d3.scale.category20().range();return function(b,
t){return b.color||a[t%a.length]}};r.utils.customTheme=function(a,b,t){b=b||function(a){return a.key};t=t||d3.scale.category20().range();var r=t.length;return function(u,l){var f=b(u);r||(r=t.length);return"undefined"!==typeof a[f]?"function"===typeof a[f]?a[f]():a[f]:t[--r]}};r.utils.pjax=function(a,b){function t(t){d3.html(t,function(t){var l=d3.select(b).node();l.parentNode.replaceChild(d3.select(t).select(b).node(),l);r.utils.pjax(a,b)})}d3.selectAll(a).on("click",function(){history.pushState(this.href,
this.textContent,this.href);t(this.href);d3.event.preventDefault()});d3.select(window).on("popstate",function(){d3.event.state&&t(d3.event.state)})};r.utils.calcApproxTextWidth=function(a){if("function"===typeof a.style&&"function"===typeof a.text){var b=parseInt(a.style("font-size").replace("px",""));return a.text().length*b*.5}return 0};r.utils.NaNtoZero=function(a){return"number"!==typeof a||isNaN(a)||null===a||Infinity===a?0:a};r.utils.optionsFunc=function(a){a&&d3.map(a).forEach(function(a,t){if("function"===
typeof this[a])this[a](t)}.bind(this));return this};r.models.axis=function(){function a(u){u.each(function(a){a=d3.select(this).selectAll("g.nv-wrap.nv-axis").data([a]);a.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g");var u=a.select("g");null!==F?b.ticks(F):"top"!=b.orient()&&"bottom"!=b.orient()||b.ticks(Math.abs(l.range()[1]-l.range()[0])/100);u.transition().call(b);Q=Q||b.scale();var r=b.tickFormat();null==r&&(r=Q.tickFormat());var M=u.selectAll("text.nv-axislabel").data([f||
null]);M.exit().remove();switch(b.orient()){case "top":M.enter().append("text").attr("class","nv-axislabel");var N=2==l.range().length?l.range()[1]:l.range()[l.range().length-1]+(l.range()[1]-l.range()[0]);M.attr("text-anchor","middle").attr("y",0).attr("x",N/2);w&&(N=a.selectAll("g.nv-axisMaxMin").data(l.domain()),N.enter().append("g").attr("class","nv-axisMaxMin").append("text"),N.exit().remove(),N.attr("transform",function(a,b){return"translate("+l(a)+",0)"}).select("text").attr("dy","-0.5em").attr("y",
-b.tickPadding()).attr("text-anchor","middle").text(function(a,b){var f=r(a);return(""+f).match("NaN")?"":f}),N.transition().attr("transform",function(a,b){return"translate("+l.range()[b]+",0)"}));break;case "bottom":var O=36,s=30,B=u.selectAll("g").select("text");G%360&&(B.each(function(a,b){var f=this.getBBox().width;f>s&&(s=f)}),N=Math.abs(Math.sin(G*Math.PI/180)),O=(N?N*s:s)+30,B.attr("transform",function(a,b,f){return"rotate("+G+" 0,0)"}).style("text-anchor",0<G%360?"start":"end"));M.enter().append("text").attr("class",
"nv-axislabel");N=2==l.range().length?l.range()[1]:l.range()[l.range().length-1]+(l.range()[1]-l.range()[0]);M.attr("text-anchor","middle").attr("y",O).attr("x",N/2);w&&(N=a.selectAll("g.nv-axisMaxMin").data([l.domain()[0],l.domain()[l.domain().length-1]]),N.enter().append("g").attr("class","nv-axisMaxMin").append("text"),N.exit().remove(),N.attr("transform",function(a,b){return"translate("+(l(a)+(H?l.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",b.tickPadding()).attr("transform",
function(a,b,f){return"rotate("+G+" 0,0)"}).style("text-anchor",G?0<G%360?"start":"end":"middle").text(function(a,b){var f=r(a);return(""+f).match("NaN")?"":f}),N.transition().attr("transform",function(a,b){return"translate("+(l(a)+(H?l.rangeBand()/2:0))+",0)"}));A&&B.attr("transform",function(a,b){return"translate(0,"+(0==b%2?"0":"12")+")"});break;case "right":M.enter().append("text").attr("class","nv-axislabel");M.style("text-anchor",D?"middle":"begin").attr("transform",D?"rotate(90)":"").attr("y",
D?-Math.max(t.right,z)+12:-10).attr("x",D?l.range()[0]/2:b.tickPadding());w&&(N=a.selectAll("g.nv-axisMaxMin").data(l.domain()),N.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),N.exit().remove(),N.attr("transform",function(a,b){return"translate(0,"+l(a)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",b.tickPadding()).style("text-anchor","start").text(function(a,b){var f=r(a);return(""+f).match("NaN")?"":f}),N.transition().attr("transform",function(a,
b){return"translate(0,"+l.range()[b]+")"}).select("text").style("opacity",1));break;case "left":M.enter().append("text").attr("class","nv-axislabel"),M.style("text-anchor",D?"middle":"end").attr("transform",D?"rotate(-90)":"").attr("y",D?-Math.max(t.left,z)+L:-10).attr("x",D?-l.range()[0]/2:-b.tickPadding()),w&&(N=a.selectAll("g.nv-axisMaxMin").data(l.domain()),N.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),N.exit().remove(),N.attr("transform",function(a,b){return"translate(0,"+
Q(a)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-b.tickPadding()).attr("text-anchor","end").text(function(a,b){var f=r(a);return(""+f).match("NaN")?"":f}),N.transition().attr("transform",function(a,b){return"translate(0,"+l.range()[b]+")"}).select("text").style("opacity",1))}M.text(function(a){return a});!w||"left"!==b.orient()&&"right"!==b.orient()||(u.selectAll("g").each(function(a,b){d3.select(this).select("text").attr("opacity",1);if(l(a)<l.range()[1]+10||l(a)>l.range()[0]-10)(1E-10<
a||-1E-10>a)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0)}),l.domain()[0]==l.domain()[1]&&0==l.domain()[0]&&a.selectAll("g.nv-axisMaxMin").style("opacity",function(a,b){return b?0:1}));if(w&&("top"===b.orient()||"bottom"===b.orient())){var K=[];a.selectAll("g.nv-axisMaxMin").each(function(a,b){try{b?K.push(l(a)-this.getBBox().width-4):K.push(l(a)+this.getBBox().width+4)}catch(f){b?K.push(l(a)-4):K.push(l(a)+4)}});u.selectAll("g").each(function(a,b){if(l(a)<K[0]||
l(a)>K[1])1E-10<a||-1E-10>a?d3.select(this).remove():d3.select(this).select("text").remove()})}q&&u.selectAll(".tick").filter(function(a){return!parseFloat(Math.round(1E5*a.__data__)/1E6)&&void 0!==a.__data__}).classed("zero",!0);Q=l.copy()});return a}var b=d3.svg.axis(),t={top:0,right:0,bottom:0,left:0},z=75,u=60,l=d3.scale.linear(),f=null,w=!0,q=!0,G=0,D=!0,A=!1,H=!1,F=null,L=12;b.scale(l).orient("bottom").tickFormat(function(a){return a});var Q;a.axis=b;d3.rebind(a,b,"orient","tickValues","tickSubdivide",
"tickSize","tickPadding","tickFormat");d3.rebind(a,l,"domain","range","rangeBand","rangeBands");a.options=r.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return t;t.top="undefined"!=typeof b.top?b.top:t.top;t.right="undefined"!=typeof b.right?b.right:t.right;t.bottom="undefined"!=typeof b.bottom?b.bottom:t.bottom;t.left="undefined"!=typeof b.left?b.left:t.left;return a};a.width=function(b){if(!arguments.length)return z;z=b;return a};a.ticks=function(b){if(!arguments.length)return F;
F=b;return a};a.height=function(b){if(!arguments.length)return u;u=b;return a};a.axisLabel=function(b){if(!arguments.length)return f;f=b;return a};a.showMaxMin=function(b){if(!arguments.length)return w;w=b;return a};a.highlightZero=function(b){if(!arguments.length)return q;q=b;return a};a.scale=function(f){if(!arguments.length)return l;l=f;b.scale(l);H="function"===typeof l.rangeBands;d3.rebind(a,l,"domain","range","rangeBand","rangeBands");return a};a.rotateYLabel=function(b){if(!arguments.length)return D;
D=b;return a};a.rotateLabels=function(b){if(!arguments.length)return G;G=b;return a};a.staggerLabels=function(b){if(!arguments.length)return A;A=b;return a};a.axisLabelDistance=function(b){if(!arguments.length)return L;L=b;return a};return a};r.models.historicalBar=function(){function a(M){M.each(function(a){var M=t-b.left-b.right,s=z-b.top-b.bottom,B=d3.select(this);l.domain(L||d3.extent(a[0].values.map(w).concat(G)));A?l.range(N||[.5*M/a[0].values.length,M*(a[0].values.length-.5)/a[0].values.length]):
l.range(N||[0,M]);f.domain(Q||d3.extent(a[0].values.map(q).concat(D))).range(C||[s,0]);l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]-.01*l.domain()[0],l.domain()[1]+.01*l.domain()[1]]):l.domain([-1,1]));f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1]));var K=B.selectAll("g.nv-wrap.nv-historicalBar-"+u).data([a[0].values]),x=K.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+
u),S=x.append("defs"),x=x.append("g"),R=K.select("g");x.append("g").attr("class","nv-bars");K.attr("transform","translate("+b.left+","+b.top+")");B.on("click",function(a,b){P.chartClick({data:a,index:b,pos:d3.event,id:u})});S.append("clipPath").attr("id","nv-chart-clip-path-"+u).append("rect");K.select("#nv-chart-clip-path-"+u+" rect").attr("width",M).attr("height",s);R.attr("clip-path",H?"url(#nv-chart-clip-path-"+u+")":"");s=K.select(".nv-bars").selectAll(".nv-bar").data(function(a){return a},function(a,
b){return w(a,b)});s.exit().remove();s.enter().append("rect").attr("x",0).attr("y",function(a,b){return r.utils.NaNtoZero(f(Math.max(0,q(a,b))))}).attr("height",function(a,b){return r.utils.NaNtoZero(Math.abs(f(q(a,b))-f(0)))}).attr("transform",function(b,n){return"translate("+(l(w(b,n))-M/a[0].values.length*.45)+",0)"}).on("mouseover",function(b,n){J&&(d3.select(this).classed("hover",!0),P.elementMouseover({point:b,series:a[0],pos:[l(w(b,n)),f(q(b,n))],pointIndex:n,seriesIndex:0,e:d3.event}))}).on("mouseout",
function(b,n){J&&(d3.select(this).classed("hover",!1),P.elementMouseout({point:b,series:a[0],pointIndex:n,seriesIndex:0,e:d3.event}))}).on("click",function(a,b){J&&(P.elementClick({value:q(a,b),data:a,index:b,pos:[l(w(a,b)),f(q(a,b))],e:d3.event,id:u}),d3.event.stopPropagation())}).on("dblclick",function(a,b){J&&(P.elementDblClick({value:q(a,b),data:a,index:b,pos:[l(w(a,b)),f(q(a,b))],e:d3.event,id:u}),d3.event.stopPropagation())});s.attr("fill",function(a,b){return F(a,b)}).attr("class",function(a,
b,f){return(0>q(a,b)?"nv-bar negative":"nv-bar positive")+" nv-bar-"+f+"-"+b}).transition().attr("transform",function(b,n){return"translate("+(l(w(b,n))-M/a[0].values.length*.45)+",0)"}).attr("width",M/a[0].values.length*.9);s.transition().attr("y",function(a,b){var l=0>q(a,b)?f(0):1>f(0)-f(q(a,b))?f(0)-1:f(q(a,b));return r.utils.NaNtoZero(l)}).attr("height",function(a,b){return r.utils.NaNtoZero(Math.max(Math.abs(f(q(a,b))-f(0)),1))})});return a}var b={top:0,right:0,bottom:0,left:0},t=960,z=500,
u=Math.floor(1E4*Math.random()),l=d3.scale.linear(),f=d3.scale.linear(),w=function(a){return a.x},q=function(a){return a.y},G=[],D=[0],A=!1,H=!0,F=r.utils.defaultColor(),L,Q,N,C,P=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),J=!0;a.highlightPoint=function(a,b){d3.select(".nv-historicalBar-"+u).select(".nv-bars .nv-bar-0-"+a).classed("hover",b)};a.clearHighlights=function(){d3.select(".nv-historicalBar-"+u).select(".nv-bars .nv-bar.hover").classed("hover",
!1)};a.dispatch=P;a.options=r.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return w;w=b;return a};a.y=function(b){if(!arguments.length)return q;q=b;return a};a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return t;t=b;return a};
a.height=function(b){if(!arguments.length)return z;z=b;return a};a.xScale=function(b){if(!arguments.length)return l;l=b;return a};a.yScale=function(b){if(!arguments.length)return f;f=b;return a};a.xDomain=function(b){if(!arguments.length)return L;L=b;return a};a.yDomain=function(b){if(!arguments.length)return Q;Q=b;return a};a.xRange=function(b){if(!arguments.length)return N;N=b;return a};a.yRange=function(b){if(!arguments.length)return C;C=b;return a};a.forceX=function(b){if(!arguments.length)return G;
G=b;return a};a.forceY=function(b){if(!arguments.length)return D;D=b;return a};a.padData=function(b){if(!arguments.length)return A;A=b;return a};a.clipEdge=function(b){if(!arguments.length)return H;H=b;return a};a.color=function(b){if(!arguments.length)return F;F=r.utils.getColor(b);return a};a.id=function(b){if(!arguments.length)return u;u=b;return a};a.interactive=function(b){if(!arguments.length)return J;J=!1;return a};return a};r.models.bullet=function(){function a(t){t.each(function(a,t){var r=
q-b.left-b.right,C=G-b.top-b.bottom,F=d3.select(this),J=u.call(this,a,t).slice().sort(d3.descending),M=l.call(this,a,t).slice().sort(d3.descending),D=f.call(this,a,t).slice().sort(d3.descending),O=(a.rangeLabels?a.rangeLabels:[]).slice(),s=(a.markerLabels?a.markerLabels:[]).slice(),B=(a.measureLabels?a.measureLabels:[]).slice(),K=d3.scale.linear().domain(d3.extent(d3.merge([w,J]))).range(z?[r,0]:[0,r]);this.__chart__||d3.scale.linear().domain([0,Infinity]).range(K.range());this.__chart__=K;var r=
d3.min(J),x=d3.max(J),J=J[1],F=F.selectAll("g.nv-wrap.nv-bullet").data([a]),S=F.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),R=F.select("g");S.append("rect").attr("class","nv-range nv-rangeMax");S.append("rect").attr("class","nv-range nv-rangeAvg");S.append("rect").attr("class","nv-range nv-rangeMin");S.append("rect").attr("class","nv-measure");S.append("path").attr("class","nv-markerTriangle");F.attr("transform","translate("+b.left+","+b.top+")");var S=function(a){return Math.abs(K(a)-
K(0))},V=function(a){return 0>a?K(a):K(0)};R.select("rect.nv-rangeMax").attr("height",C).attr("width",S(0<x?x:r)).attr("x",V(0<x?x:r)).datum(0<x?x:r);R.select("rect.nv-rangeAvg").attr("height",C).attr("width",S(J)).attr("x",V(J)).datum(J);R.select("rect.nv-rangeMin").attr("height",C).attr("width",S(x)).attr("x",V(x)).attr("width",S(0<x?r:x)).attr("x",V(0<x?r:x)).datum(0<x?r:x);R.select("rect.nv-measure").style("fill",A).attr("height",C/3).attr("y",C/3).attr("width",0>D?K(0)-K(D[0]):K(D[0])-K(0)).attr("x",
V(D)).on("mouseover",function(){H.elementMouseover({value:D[0],label:B[0]||"Current",pos:[K(D[0]),C/2]})}).on("mouseout",function(){H.elementMouseout({value:D[0],label:B[0]||"Current"})});r=C/6;if(M[0])R.selectAll("path.nv-markerTriangle").attr("transform",function(a){return"translate("+K(M[0])+","+C/2+")"}).attr("d","M0,"+r+"L"+r+","+-r+" "+-r+","+-r+"Z").on("mouseover",function(){H.elementMouseover({value:M[0],label:s[0]||"Previous",pos:[K(M[0]),C/2]})}).on("mouseout",function(){H.elementMouseout({value:M[0],
label:s[0]||"Previous"})});else R.selectAll("path.nv-markerTriangle").remove();F.selectAll(".nv-range").on("mouseover",function(a,b){H.elementMouseover({value:a,label:O[b]||(b?1==b?"Mean":"Minimum":"Maximum"),pos:[K(a),C/2]})}).on("mouseout",function(a,b){H.elementMouseout({value:a,label:O[b]||(b?1==b?"Mean":"Minimum":"Maximum")})})});return a}var b={top:0,right:0,bottom:0,left:0},t="left",z=!1,u=function(a){return a.ranges},l=function(a){return a.markers},f=function(a){return a.measures},w=[0],q=
380,G=30,D=null,A=r.utils.getColor(["#1f77b4"]),H=d3.dispatch("elementMouseover","elementMouseout");a.dispatch=H;a.options=r.utils.optionsFunc.bind(a);a.orient=function(b){if(!arguments.length)return t;t=b;z="right"==t||"bottom"==t;return a};a.ranges=function(b){if(!arguments.length)return u;u=b;return a};a.markers=function(b){if(!arguments.length)return l;l=b;return a};a.measures=function(b){if(!arguments.length)return f;f=b;return a};a.forceX=function(b){if(!arguments.length)return w;w=b;return a};
a.width=function(b){if(!arguments.length)return q;q=b;return a};a.height=function(b){if(!arguments.length)return G;G=b;return a};a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.tickFormat=function(b){if(!arguments.length)return D;D=b;return a};a.color=function(b){if(!arguments.length)return A;
A=r.utils.getColor(b);return a};return a};r.models.bulletChart=function(){function a(t){t.each(function(N,C){var P=d3.select(this),J=(q||parseInt(P.style("width"))||960)-u.left-u.right,M=G-u.top-u.bottom,T=this;a.update=function(){a(t)};a.container=this;if(N&&l.call(this,N,C))P.selectAll(".nv-noData").remove();else return P=P.selectAll(".nv-noData").data([F]),P.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),P.attr("x",u.left+J/2).attr("y",18+
u.top+M/2).text(function(a){return a}),a;var O=l.call(this,N,C).slice().sort(d3.descending),s=f.call(this,N,C).slice().sort(d3.descending),B=w.call(this,N,C).slice().sort(d3.descending),K=P.selectAll("g.nv-wrap.nv-bulletChart").data([N]),x=K.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),P=K.select("g");x.append("g").attr("class","nv-bulletWrap");x.append("g").attr("class","nv-titles");K.attr("transform","translate("+u.left+","+u.top+")");var S=d3.scale.linear().domain([0,
Math.max(O[0],s[0],B[0])]).range(z?[J,0]:[0,J]),R=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(S.range());this.__chart__=S;O=x.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(G-u.top-u.bottom)/2+")");O.append("text").attr("class","nv-title").text(function(a){return a.title});O.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(a){return a.subtitle});b.width(J).height(M);O=P.select(".nv-bulletWrap");d3.transition(O).call(b);
var V=D||S.tickFormat(J/100),J=P.selectAll("g.nv-tick").data(S.ticks(J/50),function(a){return this.textContent||V(a)}),P=J.enter().append("g").attr("class","nv-tick").attr("transform",function(a){return"translate("+R(a)+",0)"}).style("opacity",1E-6);P.append("line").attr("y1",M).attr("y2",7*M/6);P.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*M/6).text(V);P=d3.transition(J).attr("transform",function(a){return"translate("+S(a)+",0)"}).style("opacity",1);P.select("line").attr("y1",
M).attr("y2",7*M/6);P.select("text").attr("y",7*M/6);d3.transition(J.exit()).attr("transform",function(a){return"translate("+S(a)+",0)"}).style("opacity",1E-6).remove();L.on("tooltipShow",function(b){b.key=N.title;if(A){var f=T.parentNode,l=b.pos[0]+(f.offsetLeft||0)+u.left,k=b.pos[1]+(f.offsetTop||0)+u.top,s=H(b.key,b.label,b.value,b,a);r.tooltip.show([l,k],s,0>b.value?"e":"w",null,f)}})});d3.timer.flush();return a}var b=r.models.bullet(),t="left",z=!1,u={top:5,right:40,bottom:20,left:120},l=function(a){return a.ranges},
f=function(a){return a.markers},w=function(a){return a.measures},q=null,G=55,D=null,A=!0,H=function(a,b,f,l,q){return"<h3>"+b+"</h3><p>"+f+"</p>"},F="No Data Available.",L=d3.dispatch("tooltipShow","tooltipHide");b.dispatch.on("elementMouseover.tooltip",function(a){L.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){L.tooltipHide(a)});L.on("tooltipHide",function(){A&&r.tooltip.cleanup()});a.dispatch=L;a.bullet=b;d3.rebind(a,b,"color");a.options=r.utils.optionsFunc.bind(a);a.orient=
function(b){if(!arguments.length)return t;t=b;z="right"==t||"bottom"==t;return a};a.ranges=function(b){if(!arguments.length)return l;l=b;return a};a.markers=function(b){if(!arguments.length)return f;f=b;return a};a.measures=function(b){if(!arguments.length)return w;w=b;return a};a.width=function(b){if(!arguments.length)return q;q=b;return a};a.height=function(b){if(!arguments.length)return G;G=b;return a};a.margin=function(b){if(!arguments.length)return u;u.top="undefined"!=typeof b.top?b.top:u.top;
u.right="undefined"!=typeof b.right?b.right:u.right;u.bottom="undefined"!=typeof b.bottom?b.bottom:u.bottom;u.left="undefined"!=typeof b.left?b.left:u.left;return a};a.tickFormat=function(b){if(!arguments.length)return D;D=b;return a};a.tooltips=function(b){if(!arguments.length)return A;A=b;return a};a.tooltipContent=function(b){if(!arguments.length)return H;H=b;return a};a.noData=function(b){if(!arguments.length)return F;F=b;return a};return a};r.models.cumulativeLineChart=function(){function a(k){k.each(function(k){function n(){pa.data([W]);
var b=a.transitionDuration();a.transitionDuration(0);a.update();a.transitionDuration(b)}var ia=d3.select(this).classed("nv-chart-"+s,!0),ja=this,Y=(D||parseInt(ia.style("width"))||960)-q.left-q.right,ea=(A||parseInt(ia.style("height"))||400)-q.top-q.bottom;a.update=function(){ia.transition().duration(V).call(a)};a.container=this;B.disabled=k.map(function(a){return!!a.disabled});if(!K){var ka;K={};for(ka in B)K[ka]=B[ka]instanceof Array?B[ka].slice(0):B[ka]}ka=d3.behavior.drag().on("dragstart",function(b,
k){d3.select(a.container).style("cursor","ew-resize")}).on("drag",function(a,b){W.x=d3.event.x;W.i=Math.round($.invert(W.x));n()}).on("dragend",function(b,k){d3.select(a.container).style("cursor","auto");B.index=W.i;R.stateChange(B)});if(k&&k.length&&k.filter(function(a){return a.values.length}).length)ia.selectAll(".nv-noData").remove();else return ka=ia.selectAll(".nv-noData").data([x]),ka.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),ka.attr("x",
q.left+Y/2).attr("y",q.top+ea/2).text(function(a){return a}),a;T=t.xScale();O=t.yScale();if(J)t.yDomain(null);else{var ba=k.filter(function(a){return!a.disabled}).map(function(a,b){var k=d3.extent(a.values,t.y());-.95>k[0]&&(k[0]=-.95);return[(k[0]-k[1])/(1+k[1]),(k[1]-k[0])/(1+k[0])]}),ba=[d3.min(ba,function(a){return a[0]}),d3.max(ba,function(a){return a[1]})];t.yDomain(ba)}$.domain([0,k[0].values.length-1]).range([0,Y]).clamp(!0);k=b(W.i,k);var da=P?"none":"all",la=ia.selectAll("g.nv-wrap.nv-cumulativeLine").data([k]),
ca=la.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),ba=la.select("g");ca.append("g").attr("class","nv-interactive");ca.append("g").attr("class","nv-x nv-axis").style("pointer-events","none");ca.append("g").attr("class","nv-y nv-axis");ca.append("g").attr("class","nv-background");ca.append("g").attr("class","nv-linesWrap").style("pointer-events",da);ca.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none");ca.append("g").attr("class","nv-legendWrap");
ca.append("g").attr("class","nv-controlsWrap");H&&(l.width(Y),ba.select(".nv-legendWrap").datum(k).call(l),q.top!=l.height()&&(q.top=l.height(),ea=(A||parseInt(ia.style("height"))||400)-q.top-q.bottom),ba.select(".nv-legendWrap").attr("transform","translate(0,"+-q.top+")"));C&&(da=[{key:"Re-scale y-axis",disabled:!J}],f.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),ba.select(".nv-controlsWrap").datum(da).attr("transform","translate(0,"+-q.top+")").call(f));
la.attr("transform","translate("+q.left+","+q.top+")");Q&&ba.select(".nv-y.nv-axis").attr("transform","translate("+Y+",0)");da=k.filter(function(a){return a.tempDisabled});la.select(".tempDisabled").remove();da.length&&la.append("text").attr("class","tempDisabled").attr("x",Y/2).attr("y","-.71em").style("text-anchor","end").text(da.map(function(a){return a.key}).join(", ")+" values cannot be calculated for this time period.");P&&(w.width(Y).height(ea).margin({left:q.left,top:q.top}).svgContainer(ia).xScale(T),
la.select(".nv-interactive").call(w));ca.select(".nv-background").append("rect");ba.select(".nv-background rect").attr("width",Y).attr("height",ea);t.y(function(a){return a.display.y}).width(Y).height(ea).color(k.map(function(a,b){return a.color||G(a,b)}).filter(function(a,b){return!k[b].disabled&&!k[b].tempDisabled}));la=ba.select(".nv-linesWrap").datum(k.filter(function(a){return!a.disabled&&!a.tempDisabled}));la.call(t);k.forEach(function(a,b){a.seriesIndex=b});ca=k.filter(function(a){return!a.disabled&&
!!S(a)});ca=ba.select(".nv-avgLinesWrap").selectAll("line").data(ca,function(a){return a.key});da=function(a){a=O(S(a));return 0>a?0:a>ea?ea:a};ca.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(a,b){return t.color()(a,a.seriesIndex)}).attr("x1",0).attr("x2",Y).attr("y1",da).attr("y2",da);ca.style("stroke-opacity",function(a){a=O(S(a));return 0>a||a>ea?0:1}).attr("x1",0).attr("x2",Y).attr("y1",da).attr("y2",da);ca.exit().remove();var pa=la.selectAll(".nv-indexLine").data([W]);
pa.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(ka);pa.attr("transform",function(a){return"translate("+$(a.i)+",0)"}).attr("height",ea);F&&(z.scale(T).ticks(Math.min(k[0].values.length,Y/70)).tickSize(-ea,0),ba.select(".nv-x.nv-axis").attr("transform","translate(0,"+O.range()[0]+")"),d3.transition(ba.select(".nv-x.nv-axis")).call(z));L&&(u.scale(O).ticks(ea/36).tickSize(-Y,0),d3.transition(ba.select(".nv-y.nv-axis")).call(u));
ba.select(".nv-background rect").on("click",function(){W.x=d3.mouse(this)[0];W.i=Math.round($.invert(W.x));B.index=W.i;R.stateChange(B);n()});t.dispatch.on("elementClick",function(a){W.i=a.pointIndex;W.x=$(W.i);B.index=W.i;R.stateChange(B);n()});f.dispatch.on("legendClick",function(b,k){b.disabled=!b.disabled;J=!b.disabled;B.rescaleY=J;R.stateChange(B);a.update()});l.dispatch.on("stateChange",function(b){B.disabled=b.disabled;R.stateChange(B);a.update()});w.dispatch.on("elementMousemove",function(b){t.clearHighlights();
var f,n,l,s=[];k.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(k,x){n=r.interactiveBisect(k.values,b.pointXValue,a.x());t.highlightPoint(x,n,!0);var q=k.values[n];"undefined"!==typeof q&&("undefined"===typeof f&&(f=q),"undefined"===typeof l&&(l=a.xScale()(a.x()(q,n))),s.push({key:k.key,value:a.y()(q,n),color:G(k,k.seriesIndex)}))});if(2<s.length){var x=a.yScale().invert(b.mouseY),B=.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),x=r.nearestValueIndex(s.map(function(a){return a.value}),
x,B);null!==x&&(s[x].highlight=!0)}x=z.tickFormat()(a.x()(f,n),n);w.tooltip.position({left:l+q.left,top:b.mouseY+q.top}).chartContainer(ja.parentNode).enabled(N).valueFormatter(function(a,b){return u.tickFormat()(a)}).data({value:x,series:s})();w.renderGuideLine(l)});w.dispatch.on("elementMouseout",function(a){R.tooltipHide();t.clearHighlights()});R.on("tooltipShow",function(b){if(N){var k=ja.parentNode,f=b.pos[0]+(k.offsetLeft||0),n=b.pos[1]+(k.offsetTop||0),l=z.tickFormat()(t.x()(b.point,b.pointIndex)),
s=u.tickFormat()(t.y()(b.point,b.pointIndex));b=M(b.series.key,l,s,b,a);r.tooltip.show([f,n],b,null,null,k)}});R.on("changeState",function(b){"undefined"!==typeof b.disabled&&(k.forEach(function(a,k){a.disabled=b.disabled[k]}),B.disabled=b.disabled);"undefined"!==typeof b.index&&(W.i=b.index,W.x=$(W.i),B.index=b.index,pa.data([W]));"undefined"!==typeof b.rescaleY&&(J=b.rescaleY);a.update()})});return a}function b(a,b){return b.map(function(b,f){if(!b.values)return b;var l=b.values[a];if(null==l)return b;
var s=t.y()(l,a);if(-.95>s&&!n)return b.tempDisabled=!0,b;b.tempDisabled=!1;b.values=b.values.map(function(a,b){a.display={y:(t.y()(a,b)-s)/(1+s)};return a});return b})}var t=r.models.line(),z=r.models.axis(),u=r.models.axis(),l=r.models.legend(),f=r.models.legend(),w=r.interactiveGuideline(),q={top:30,right:30,bottom:50,left:60},G=r.utils.defaultColor(),D=null,A=null,H=!0,F=!0,L=!0,Q=!1,N=!0,C=!0,P=!1,J=!0,M=function(a,b,f,n,l){return"<h3>"+a+"</h3><p>"+f+" at "+b+"</p>"},T,O,s=t.id(),B={index:0,
rescaleY:J},K=null,x="No Data Available.",S=function(a){return a.average},R=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),V=250,n=!1;z.orient("bottom").tickPadding(7);u.orient(Q?"right":"left");f.updateState(!1);var $=d3.scale.linear(),W={i:0,x:0};t.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+q.left,a.pos[1]+q.top];R.tooltipShow(a)});t.dispatch.on("elementMouseout.tooltip",function(a){R.tooltipHide(a)});R.on("tooltipHide",function(){N&&r.tooltip.cleanup()});
a.dispatch=R;a.lines=t;a.legend=l;a.xAxis=z;a.yAxis=u;a.interactiveLayer=w;d3.rebind(a,t,"defined","isArea","x","y","xScale","yScale","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id");a.options=r.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return q;q.top="undefined"!=typeof b.top?b.top:q.top;q.right="undefined"!=typeof b.right?b.right:q.right;q.bottom="undefined"!=typeof b.bottom?b.bottom:q.bottom;q.left=
"undefined"!=typeof b.left?b.left:q.left;return a};a.width=function(b){if(!arguments.length)return D;D=b;return a};a.height=function(b){if(!arguments.length)return A;A=b;return a};a.color=function(b){if(!arguments.length)return G;G=r.utils.getColor(b);l.color(G);return a};a.rescaleY=function(b){if(!arguments.length)return J;J=b;return a};a.showControls=function(b){if(!arguments.length)return C;C=b;return a};a.useInteractiveGuideline=function(b){if(!arguments.length)return P;P=b;!0===b&&(a.interactive(!1),
a.useVoronoi(!1));return a};a.showLegend=function(b){if(!arguments.length)return H;H=b;return a};a.showXAxis=function(b){if(!arguments.length)return F;F=b;return a};a.showYAxis=function(b){if(!arguments.length)return L;L=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return Q;Q=b;u.orient(b?"right":"left");return a};a.tooltips=function(b){if(!arguments.length)return N;N=b;return a};a.tooltipContent=function(b){if(!arguments.length)return M;M=b;return a};a.state=function(b){if(!arguments.length)return B;
B=b;return a};a.defaultState=function(b){if(!arguments.length)return K;K=b;return a};a.noData=function(b){if(!arguments.length)return x;x=b;return a};a.average=function(b){if(!arguments.length)return S;S=b;return a};a.transitionDuration=function(b){if(!arguments.length)return V;V=b;return a};a.noErrorCheck=function(b){if(!arguments.length)return n;n=b;return a};return a};r.models.discreteBar=function(){function a(r){r.each(function(a){var r=t-b.left-b.right,s=z-b.top-b.bottom,u=d3.select(this);a.forEach(function(a,
b){a.values.forEach(function(a){a.series=b})});var K=F&&L?[]:a.map(function(a){return a.values.map(function(a,b){return{x:w(a,b),y:q(a,b),y0:a.y0}})});l.domain(F||d3.merge(K).map(function(a){return a.x})).rangeBands(Q||[0,r],.1);f.domain(L||d3.extent(d3.merge(K).map(function(a){return a.y}).concat(G)));A?f.range(N||[s-(0>f.domain()[0]?12:0),0<f.domain()[1]?12:0]):f.range(N||[s,0]);J=J||f.copy().range([f(0),f(0)]);r=u.selectAll("g.nv-wrap.nv-discretebar").data([a]);s=r.enter().append("g").attr("class",
"nvd3 nv-wrap nv-discretebar").append("g");r.select("g");s.append("g").attr("class","nv-groups");r.attr("transform","translate("+b.left+","+b.top+")");r=r.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});r.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);r.exit().transition().style("stroke-opacity",1E-6).style("fill-opacity",1E-6).remove();r.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover});
r.transition().style("stroke-opacity",1).style("fill-opacity",.75);r=r.selectAll("g.nv-bar").data(function(a){return a.values});r.exit().remove();s=r.enter().append("g").attr("transform",function(a,b,s){return"translate("+(l(w(a,b))+.05*l.rangeBand())+", "+f(0)+")"}).on("mouseover",function(b,s){d3.select(this).classed("hover",!0);C.elementMouseover({value:q(b,s),point:b,series:a[b.series],pos:[l(w(b,s))+l.rangeBand()*(b.series+.5)/a.length,f(q(b,s))],pointIndex:s,seriesIndex:b.series,e:d3.event})}).on("mouseout",
function(b,f){d3.select(this).classed("hover",!1);C.elementMouseout({value:q(b,f),point:b,series:a[b.series],pointIndex:f,seriesIndex:b.series,e:d3.event})}).on("click",function(b,s){C.elementClick({value:q(b,s),point:b,series:a[b.series],pos:[l(w(b,s))+l.rangeBand()*(b.series+.5)/a.length,f(q(b,s))],pointIndex:s,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(b,s){C.elementDblClick({value:q(b,s),point:b,series:a[b.series],pos:[l(w(b,s))+l.rangeBand()*(b.series+
.5)/a.length,f(q(b,s))],pointIndex:s,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()});s.append("rect").attr("height",0).attr("width",.9*l.rangeBand()/a.length);A?(s.append("text").attr("text-anchor","middle"),r.select("text").text(function(a,b){return H(q(a,b))}).transition().attr("x",.9*l.rangeBand()/2).attr("y",function(a,b){return 0>q(a,b)?f(q(a,b))-f(0)+12:-4})):r.selectAll("text").remove();r.attr("class",function(a,b){return 0>q(a,b)?"nv-bar negative":"nv-bar positive"}).style("fill",
function(a,b){return a.color||D(a,b)}).style("stroke",function(a,b){return a.color||D(a,b)}).select("rect").attr("class",P).transition().attr("width",.9*l.rangeBand()/a.length);r.transition().attr("transform",function(a,b){var s=l(w(a,b))+.05*l.rangeBand(),t=0>q(a,b)?f(0):1>f(0)-f(q(a,b))?f(0)-1:f(q(a,b));return"translate("+s+", "+t+")"}).select("rect").attr("height",function(a,b){return Math.max(Math.abs(f(q(a,b))-f(L&&L[0]||0))||1)});l.copy();J=f.copy()});return a}var b={top:0,right:0,bottom:0,
left:0},t=960,z=500,u=Math.floor(1E4*Math.random()),l=d3.scale.ordinal(),f=d3.scale.linear(),w=function(a){return a.x},q=function(a){return a.y},G=[0],D=r.utils.defaultColor(),A=!1,H=d3.format(",.2f"),F,L,Q,N,C=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),P="discreteBar",J;a.dispatch=C;a.options=r.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return w;w=b;return a};a.y=function(b){if(!arguments.length)return q;q=b;return a};a.margin=
function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return t;t=b;return a};a.height=function(b){if(!arguments.length)return z;z=b;return a};a.xScale=function(b){if(!arguments.length)return l;l=b;return a};a.yScale=function(b){if(!arguments.length)return f;f=b;
return a};a.xDomain=function(b){if(!arguments.length)return F;F=b;return a};a.yDomain=function(b){if(!arguments.length)return L;L=b;return a};a.xRange=function(b){if(!arguments.length)return Q;Q=b;return a};a.yRange=function(b){if(!arguments.length)return N;N=b;return a};a.forceY=function(b){if(!arguments.length)return G;G=b;return a};a.color=function(b){if(!arguments.length)return D;D=r.utils.getColor(b);return a};a.id=function(b){if(!arguments.length)return u;u=b;return a};a.showValues=function(b){if(!arguments.length)return A;
A=b;return a};a.valueFormat=function(b){if(!arguments.length)return H;H=b;return a};a.rectClass=function(b){if(!arguments.length)return P;P=b;return a};return a};r.models.discreteBarChart=function(){function a(w){w.each(function(w){var J=d3.select(this),O=this,s=(l||parseInt(J.style("width"))||960)-u.left-u.right,B=(f||parseInt(J.style("height"))||400)-u.top-u.bottom;a.update=function(){C.beforeUpdate();J.transition().duration(P).call(a)};a.container=this;if(w&&w.length&&w.filter(function(a){return a.values.length}).length)J.selectAll(".nv-noData").remove();
else return w=J.selectAll(".nv-noData").data([N]),w.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),w.attr("x",u.left+s/2).attr("y",u.top+B/2).text(function(a){return a}),a;L=b.xScale();Q=b.yScale().clamp(!0);var K=J.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([w]),x=K.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),S=x.append("defs"),K=K.select("g");x.append("g").attr("class","nv-x nv-axis");x.append("g").attr("class",
"nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");x.append("g").attr("class","nv-barsWrap");K.attr("transform","translate("+u.left+","+u.top+")");D&&K.select(".nv-y.nv-axis").attr("transform","translate("+s+",0)");b.width(s).height(B);K.select(".nv-barsWrap").datum(w.filter(function(a){return!a.disabled})).transition().call(b);S.append("clipPath").attr("id","nv-x-label-clip-"+b.id()).append("rect");K.select("#nv-x-label-clip-"+b.id()+" rect").attr("width",L.rangeBand()*(A?2:1)).attr("height",
16).attr("x",-L.rangeBand()/(A?1:2));q&&(t.scale(L).ticks(s/100).tickSize(-B,0),K.select(".nv-x.nv-axis").attr("transform","translate(0,"+(Q.range()[0]+(b.showValues()&&0>Q.domain()[0]?16:0))+")"),K.select(".nv-x.nv-axis").transition().call(t),w=K.select(".nv-x.nv-axis").selectAll("g"),A&&w.selectAll("text").attr("transform",function(a,b,f){return"translate(0,"+(0==f%2?"5":"17")+")"}));G&&(z.scale(Q).ticks(B/36).tickSize(-s,0),K.select(".nv-y.nv-axis").transition().call(z));K.select(".nv-zeroLine line").attr("x1",
0).attr("x2",s).attr("y1",Q(0)).attr("y2",Q(0));C.on("tooltipShow",function(f){if(H){var l=O.parentNode,n=f.pos[0]+(l.offsetLeft||0),s=f.pos[1]+(l.offsetTop||0),q=t.tickFormat()(b.x()(f.point,f.pointIndex)),k=z.tickFormat()(b.y()(f.point,f.pointIndex)),q=F(f.series.key,q,k,f,a);r.tooltip.show([n,s],q,0>f.value?"n":"s",null,l)}})});return a}var b=r.models.discreteBar(),t=r.models.axis(),z=r.models.axis(),u={top:15,right:10,bottom:50,left:60},l=null,f=null,w=r.utils.getColor(),q=!0,G=!0,D=!1,A=!1,H=
!0,F=function(a,b,f,l,s){return"<h3>"+b+"</h3><p>"+f+"</p>"},L,Q,N="No Data Available.",C=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate"),P=250;t.orient("bottom").highlightZero(!1).showMaxMin(!1).tickFormat(function(a){return a});z.orient(D?"right":"left").tickFormat(d3.format(",.1f"));b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+u.left,a.pos[1]+u.top];C.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){C.tooltipHide(a)});C.on("tooltipHide",function(){H&&
r.tooltip.cleanup()});a.dispatch=C;a.discretebar=b;a.xAxis=t;a.yAxis=z;d3.rebind(a,b,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","id","showValues","valueFormat");a.options=r.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return u;u.top="undefined"!=typeof b.top?b.top:u.top;u.right="undefined"!=typeof b.right?b.right:u.right;u.bottom="undefined"!=typeof b.bottom?b.bottom:u.bottom;u.left="undefined"!=typeof b.left?b.left:u.left;return a};a.width=function(b){if(!arguments.length)return l;
l=b;return a};a.height=function(b){if(!arguments.length)return f;f=b;return a};a.color=function(f){if(!arguments.length)return w;w=r.utils.getColor(f);b.color(w);return a};a.showXAxis=function(b){if(!arguments.length)return q;q=b;return a};a.showYAxis=function(b){if(!arguments.length)return G;G=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return D;D=b;z.orient(b?"right":"left");return a};a.staggerLabels=function(b){if(!arguments.length)return A;A=b;return a};a.tooltips=function(b){if(!arguments.length)return H;
H=b;return a};a.tooltipContent=function(b){if(!arguments.length)return F;F=b;return a};a.noData=function(b){if(!arguments.length)return N;N=b;return a};a.transitionDuration=function(b){if(!arguments.length)return P;P=b;return a};return a};r.models.distribution=function(){function a(t){t.each(function(a){var t="x"==u?"y":"x",r=d3.select(this);q=q||w;a=r.selectAll("g.nv-distribution").data([a]);a.enter().append("g").attr("class","nvd3 nv-distribution").append("g");r=a.select("g");a.attr("transform",
"translate("+b.left+","+b.top+")");a=r.selectAll("g.nv-dist").data(function(a){return a},function(a){return a.key});a.enter().append("g");a.attr("class",function(a,b){return"nv-dist nv-series-"+b}).style("stroke",function(a,b){return f(a,b)});r=a.selectAll("line.nv-dist"+u).data(function(a){return a.values});r.enter().append("line").attr(u+"1",function(a,b){return q(l(a,b))}).attr(u+"2",function(a,b){return q(l(a,b))});a.exit().selectAll("line.nv-dist"+u).transition().attr(u+"1",function(a,b){return w(l(a,
b))}).attr(u+"2",function(a,b){return w(l(a,b))}).style("stroke-opacity",0).remove();r.attr("class",function(a,b){return"nv-dist"+u+" nv-dist"+u+"-"+b}).attr(t+"1",0).attr(t+"2",z);r.transition().attr(u+"1",function(a,b){return w(l(a,b))}).attr(u+"2",function(a,b){return w(l(a,b))});q=w.copy()});return a}var b={top:0,right:0,bottom:0,left:0},t=400,z=8,u="x",l=function(a){return a[u]},f=r.utils.defaultColor(),w=d3.scale.linear(),q;a.options=r.utils.optionsFunc.bind(a);a.margin=function(f){if(!arguments.length)return b;
b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return t;t=b;return a};a.axis=function(b){if(!arguments.length)return u;u=b;return a};a.size=function(b){if(!arguments.length)return z;z=b;return a};a.getData=function(b){if(!arguments.length)return l;l=d3.functor(b);return a};a.scale=function(b){if(!arguments.length)return w;
w=b;return a};a.color=function(b){if(!arguments.length)return f;f=r.utils.getColor(b);return a};return a};r.models.historicalBarChart=function(){function a(O){O.each(function(s){var B=d3.select(this),K=this,x=(w||parseInt(B.style("width"))||960)-l.left-l.right,S=(q||parseInt(B.style("height"))||400)-l.top-l.bottom;a.update=function(){B.transition().duration(T).call(a)};a.container=this;C.disabled=s.map(function(a){return!!a.disabled});if(!P){var R;P={};for(R in C)P[R]=C[R]instanceof Array?C[R].slice(0):
C[R]}if(s&&s.length&&s.filter(function(a){return a.values.length}).length)B.selectAll(".nv-noData").remove();else return R=B.selectAll(".nv-noData").data([J]),R.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),R.attr("x",l.left+x/2).attr("y",l.top+S/2).text(function(a){return a}),a;Q=b.xScale();N=b.yScale();var V=B.selectAll("g.nv-wrap.nv-historicalBarChart").data([s]);R=V.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g");
var n=V.select("g");R.append("g").attr("class","nv-x nv-axis");R.append("g").attr("class","nv-y nv-axis");R.append("g").attr("class","nv-barsWrap");R.append("g").attr("class","nv-legendWrap");G&&(u.width(x),n.select(".nv-legendWrap").datum(s).call(u),l.top!=u.height()&&(l.top=u.height(),S=(q||parseInt(B.style("height"))||400)-l.top-l.bottom),V.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")"));V.attr("transform","translate("+l.left+","+l.top+")");H&&n.select(".nv-y.nv-axis").attr("transform",
"translate("+x+",0)");b.width(x).height(S).color(s.map(function(a,b){return a.color||f(a,b)}).filter(function(a,b){return!s[b].disabled}));n.select(".nv-barsWrap").datum(s.filter(function(a){return!a.disabled})).transition().call(b);D&&(t.scale(Q).tickSize(-S,0),n.select(".nv-x.nv-axis").attr("transform","translate(0,"+N.range()[0]+")"),n.select(".nv-x.nv-axis").transition().call(t));A&&(z.scale(N).ticks(S/36).tickSize(-x,0),n.select(".nv-y.nv-axis").transition().call(z));u.dispatch.on("legendClick",
function(b,f){b.disabled=!b.disabled;s.filter(function(a){return!a.disabled}).length||s.map(function(a){a.disabled=!1;V.selectAll(".nv-series").classed("disabled",!1);return a});C.disabled=s.map(function(a){return!!a.disabled});M.stateChange(C);O.transition().call(a)});u.dispatch.on("legendDblclick",function(b){s.forEach(function(a){a.disabled=!0});b.disabled=!1;C.disabled=s.map(function(a){return!!a.disabled});M.stateChange(C);a.update()});M.on("tooltipShow",function(f){if(F){var n=K.parentNode;
if(n){var k=d3.select(n).select("svg"),l=k.node()?k.attr("viewBox"):null;l&&(l=l.split(" "),k=parseInt(k.style("width"))/l[2],f.pos[0]*=k,f.pos[1]*=k)}var k=f.pos[0]+(n.offsetLeft||0),l=f.pos[1]+(n.offsetTop||0),s=t.tickFormat()(b.x()(f.point,f.pointIndex)),q=z.tickFormat()(b.y()(f.point,f.pointIndex));f=L(f.series.key,s,q,f,a);r.tooltip.show([k,l],f,null,null,n)}});M.on("changeState",function(b){"undefined"!==typeof b.disabled&&(s.forEach(function(a,k){a.disabled=b.disabled[k]}),C.disabled=b.disabled);
a.update()})});return a}var b=r.models.historicalBar(),t=r.models.axis(),z=r.models.axis(),u=r.models.legend(),l={top:30,right:90,bottom:50,left:90},f=r.utils.defaultColor(),w=null,q=null,G=!1,D=!0,A=!0,H=!1,F=!0,L=function(a,b,f,l,q){return"<h3>"+a+"</h3><p>"+f+" at "+b+"</p>"},Q,N,C={},P=null,J="No Data Available.",M=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),T=250;t.orient("bottom").tickPadding(7);z.orient(H?"right":"left");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=
[a.pos[0]+l.left,a.pos[1]+l.top];M.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){M.tooltipHide(a)});M.on("tooltipHide",function(){F&&r.tooltip.cleanup()});a.dispatch=M;a.bars=b;a.legend=u;a.xAxis=t;a.yAxis=z;d3.rebind(a,b,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id","interpolate","highlightPoint","clearHighlights","interactive");a.options=r.utils.optionsFunc.bind(a);a.margin=
function(b){if(!arguments.length)return l;l.top="undefined"!=typeof b.top?b.top:l.top;l.right="undefined"!=typeof b.right?b.right:l.right;l.bottom="undefined"!=typeof b.bottom?b.bottom:l.bottom;l.left="undefined"!=typeof b.left?b.left:l.left;return a};a.width=function(b){if(!arguments.length)return w;w=b;return a};a.height=function(b){if(!arguments.length)return q;q=b;return a};a.color=function(b){if(!arguments.length)return f;f=r.utils.getColor(b);u.color(f);return a};a.showLegend=function(b){if(!arguments.length)return G;
G=b;return a};a.showXAxis=function(b){if(!arguments.length)return D;D=b;return a};a.showYAxis=function(b){if(!arguments.length)return A;A=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return H;H=b;z.orient(b?"right":"left");return a};a.tooltips=function(b){if(!arguments.length)return F;F=b;return a};a.tooltipContent=function(b){if(!arguments.length)return L;L=b;return a};a.state=function(b){if(!arguments.length)return C;C=b;return a};a.defaultState=function(b){if(!arguments.length)return P;
P=b;return a};a.noData=function(b){if(!arguments.length)return J;J=b;return a};a.transitionDuration=function(b){if(!arguments.length)return T;T=b;return a};return a};r.models.indentedTree=function(){function a(b){b.each(function(b){function l(b,f,s){d3.event.stopPropagation();if(d3.event.shiftKey&&!s)return d3.event.shiftKey=!1,b.values&&b.values.forEach(function(a){(a.values||a._values)&&l(a,0,!0)}),!0;if(!u(b))return!0;b.values?(b._values=b.values,b.values=null):(b.values=b._values,b._values=null);
a.update()}function t(a){return a._values&&a._values.length?H:a.values&&a.values.length?F:""}function r(a){return a._values&&a._values.length}function u(a){return(a=a.values||a._values)&&a.length}var s=1,B=d3.select(this),K=d3.layout.tree().children(function(a){return a.values}).size([z,G]);a.update=function(){B.transition().duration(600).call(a)};b[0]||(b[0]={key:q});var s=K.nodes(b[0]),x=d3.select(this).selectAll("div").data([[s]]);b=x.enter().append("div").attr("class","nvd3 nv-wrap nv-indentedtree").append("table");
x=x.select("table").attr("width","100%").attr("class",A);if(f){var C=b.append("thead").append("tr");D.forEach(function(a){C.append("th").attr("width",a.width?a.width:"10%").style("text-align","numeric"==a.type?"right":"left").append("span").text(a.label)})}b=x.selectAll("tbody").data(function(a){return a});b.enter().append("tbody");s=d3.max(s,function(a){return a.depth});K.size([z,s*G]);var R=b.selectAll("tr").data(function(a){return a.filter(function(a){return w&&!a.children?w(a):!0})},function(a,
b){return a.id||a.id||++N});R.exit().remove();R.select("img.nv-treeicon").attr("src",t).classed("folded",r);var V=R.enter().append("tr");D.forEach(function(a,b){var f=V.append("td").style("padding-left",function(a){return(b?0:a.depth*G+12+(t(a)?0:16))+"px"},"important").style("text-align","numeric"==a.type?"right":"left");if(0==b)f.append("img").classed("nv-treeicon",!0).classed("nv-folded",r).attr("src",t).style("width","14px").style("height","14px").style("padding","0 1px").style("display",function(a){return t(a)?
"inline-block":"none"}).on("click",l);f.each(function(k){!b&&Q(k)?d3.select(this).append("a").attr("href",Q).attr("class",d3.functor(a.classes)).append("span"):d3.select(this).append("span");d3.select(this).select("span").attr("class",d3.functor(a.classes)).text(function(b){return a.format?b[a.key]?a.format(b[a.key]):"-":b[a.key]||"-"})});a.showCount&&(f.append("span").attr("class","nv-childrenCount"),R.selectAll("span.nv-childrenCount").text(function(a){return a.values&&a.values.length||a._values&&
a._values.length?"("+(a.values&&a.values.filter(function(a){return w?w(a):!0}).length||a._values&&a._values.filter(function(a){return w?w(a):!0}).length||0)+")":""}))});R.order().on("click",function(a){L.elementClick({row:this,data:a,pos:[a.x,a.y]})}).on("dblclick",function(a){L.elementDblclick({row:this,data:a,pos:[a.x,a.y]})}).on("mouseover",function(a){L.elementMouseover({row:this,data:a,pos:[a.x,a.y]})}).on("mouseout",function(a){L.elementMouseout({row:this,data:a,pos:[a.x,a.y]})})});return a}
var b={top:0,right:0,bottom:0,left:0},t=960,z=500,u=r.utils.defaultColor(),l=Math.floor(1E4*Math.random()),f=!0,w=!1,q="No Data Available.",G=20,D=[{key:"key",label:"Name",type:"text"}],A=null,H="images/grey-plus.png",F="images/grey-minus.png",L=d3.dispatch("elementClick","elementDblclick","elementMouseover","elementMouseout"),Q=function(a){return a.url},N=0;a.options=r.utils.optionsFunc.bind(a);a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right=
"undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return t;t=b;return a};a.height=function(b){if(!arguments.length)return z;z=b;return a};a.color=function(b){if(!arguments.length)return u;u=r.utils.getColor(b);scatter.color(u);return a};a.id=function(b){if(!arguments.length)return l;l=b;return a};a.header=function(b){if(!arguments.length)return f;f=b;
return a};a.noData=function(b){if(!arguments.length)return q;q=b;return a};a.filterZero=function(b){if(!arguments.length)return w;w=b;return a};a.columns=function(b){if(!arguments.length)return D;D=b;return a};a.tableClass=function(b){if(!arguments.length)return A;A=b;return a};a.iconOpen=function(b){if(!arguments.length)return H;H=b;return a};a.iconClose=function(b){if(!arguments.length)return F;F=b;return a};a.getUrl=function(b){if(!arguments.length)return Q;Q=b;return a};return a};r.models.legend=
function(){function a(A){A.each(function(a){var A=t-b.left-b.right,L=d3.select(this).selectAll("g.nv-legend").data([a]);L.enter().append("g").attr("class","nvd3 nv-legend").append("g");var Q=L.select("g");L.attr("transform","translate("+b.left+","+b.top+")");var L=Q.selectAll(".nv-series").data(function(a){return a}),N=L.enter().append("g").attr("class","nv-series").on("mouseover",function(a,b){D.legendMouseover(a,b)}).on("mouseout",function(a,b){D.legendMouseout(a,b)}).on("click",function(b,f){D.legendClick(b,
f);q&&(G?(a.forEach(function(a){a.disabled=!0}),b.disabled=!1):(b.disabled=!b.disabled,a.every(function(a){return a.disabled})&&a.forEach(function(a){a.disabled=!1})),D.stateChange({disabled:a.map(function(a){return!!a.disabled})}))}).on("dblclick",function(b,f){D.legendDblclick(b,f);q&&(a.forEach(function(a){a.disabled=!0}),b.disabled=!1,D.stateChange({disabled:a.map(function(a){return!!a.disabled})}))});N.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5);N.append("text").attr("text-anchor",
"start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");L.classed("disabled",function(a){return a.disabled});L.exit().remove();L.select("circle").style("fill",function(a,b){return a.color||l(a,b)}).style("stroke",function(a,b){return a.color||l(a,b)});L.select("text").text(u);if(f){var C=[];L.each(function(a,b){var f=d3.select(this).select("text"),l;try{if(l=f.getComputedTextLength(),0>=l)throw Error();}catch(n){l=r.utils.calcApproxTextWidth(f)}C.push(l+28)});for(var P=0,J=0,N=[];J<
A&&P<C.length;)N[P]=C[P],J+=C[P++];for(0===P&&(P=1);J>A&&1<P;){N=[];P--;for(J=0;J<C.length;J++)C[J]>(N[J%P]||0)&&(N[J%P]=C[J]);J=N.reduce(function(a,b,f,l){return a+b})}for(var M=[],T=A=0;A<P;A++)M[A]=T,T+=N[A];L.attr("transform",function(a,b){return"translate("+M[b%P]+","+(5+20*Math.floor(b/P))+")"});w?Q.attr("transform","translate("+(t-b.right-J)+","+b.top+")"):Q.attr("transform","translate(0,"+b.top+")");z=b.top+b.bottom+20*Math.ceil(C.length/P)}else{var O=5,s=5,B=0,K;L.attr("transform",function(a,
f){var l=d3.select(this).select("text").node().getComputedTextLength()+28;K=s;t<b.left+b.right+K+l&&(s=K=5,O+=20);s+=l;s>B&&(B=s);return"translate("+K+","+O+")"});Q.attr("transform","translate("+(t-b.right-B)+","+b.top+")");z=b.top+b.bottom+O+15}});return a}var b={top:5,right:0,bottom:5,left:0},t=400,z=20,u=function(a){return a.key},l=r.utils.defaultColor(),f=!0,w=!0,q=!0,G=!1,D=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange");a.dispatch=D;a.options=r.utils.optionsFunc.bind(a);
a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return t;t=b;return a};a.height=function(b){if(!arguments.length)return z;z=b;return a};a.key=function(b){if(!arguments.length)return u;u=b;return a};a.color=function(b){if(!arguments.length)return l;
l=r.utils.getColor(b);return a};a.align=function(b){if(!arguments.length)return f;f=b;return a};a.rightAlign=function(b){if(!arguments.length)return w;w=b;return a};a.updateState=function(b){if(!arguments.length)return q;q=b;return a};a.radioButtonMode=function(b){if(!arguments.length)return G;G=b;return a};return a};r.models.line=function(){function a(N){N.each(function(a){var N=z-t.left-t.right,J=u-t.top-t.bottom,M=d3.select(this);A=b.xScale();H=b.yScale();L=L||A;Q=Q||H;a=M.selectAll("g.nv-wrap.nv-line").data([a]);
var T=a.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),M=T.append("defs"),O=T.append("g"),T=a.select("g");O.append("g").attr("class","nv-groups");O.append("g").attr("class","nv-scatterWrap");a.attr("transform","translate("+t.left+","+t.top+")");b.width(N).height(J);O=a.select(".nv-scatterWrap");O.transition().call(b);M.append("clipPath").attr("id","nv-edge-clip-"+b.id()).append("rect");a.select("#nv-edge-clip-"+b.id()+" rect").attr("width",N).attr("height",0<J?J:0);T.attr("clip-path",D?
"url(#nv-edge-clip-"+b.id()+")":"");O.attr("clip-path",D?"url(#nv-edge-clip-"+b.id()+")":"");N=a.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});N.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);N.exit().remove();N.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return l(a,b)}).style("stroke",function(a,b){return l(a,b)});N.transition().style("stroke-opacity",
1).style("fill-opacity",.5);J=N.selectAll("path.nv-area").data(function(a){return G(a)?[a]:[]});J.enter().append("path").attr("class","nv-area").attr("d",function(a){return d3.svg.area().interpolate(F).defined(q).x(function(a,b){return r.utils.NaNtoZero(L(f(a,b)))}).y0(function(a,b){return r.utils.NaNtoZero(Q(w(a,b)))}).y1(function(a,b){return Q(0>=H.domain()[0]?0<=H.domain()[1]?0:H.domain()[1]:H.domain()[0])}).apply(this,[a.values])});N.exit().selectAll("path.nv-area").remove();J.transition().attr("d",
function(a){return d3.svg.area().interpolate(F).defined(q).x(function(a,b){return r.utils.NaNtoZero(A(f(a,b)))}).y0(function(a,b){return r.utils.NaNtoZero(H(w(a,b)))}).y1(function(a,b){return H(0>=H.domain()[0]?0<=H.domain()[1]?0:H.domain()[1]:H.domain()[0])}).apply(this,[a.values])});N=N.selectAll("path.nv-line").data(function(a){return[a.values]});N.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(F).defined(q).x(function(a,b){return r.utils.NaNtoZero(L(f(a,b)))}).y(function(a,
b){return r.utils.NaNtoZero(Q(w(a,b)))}));N.transition().attr("d",d3.svg.line().interpolate(F).defined(q).x(function(a,b){return r.utils.NaNtoZero(A(f(a,b)))}).y(function(a,b){return r.utils.NaNtoZero(H(w(a,b)))}));L=A.copy();Q=H.copy()});return a}var b=r.models.scatter(),t={top:0,right:0,bottom:0,left:0},z=960,u=500,l=r.utils.defaultColor(),f=function(a){return a.x},w=function(a){return a.y},q=function(a,b){return!isNaN(w(a,b))&&null!==w(a,b)},G=function(a){return a.area},D=!1,A,H,F="linear";b.size(16).sizeDomain([16,
256]);var L,Q;a.dispatch=b.dispatch;a.scatter=b;d3.rebind(a,b,"id","interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","padData","highlightPoint","clearHighlights");a.options=r.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return t;t.top="undefined"!=typeof b.top?b.top:t.top;t.right="undefined"!=typeof b.right?b.right:t.right;t.bottom="undefined"!=typeof b.bottom?
b.bottom:t.bottom;t.left="undefined"!=typeof b.left?b.left:t.left;return a};a.width=function(b){if(!arguments.length)return z;z=b;return a};a.height=function(b){if(!arguments.length)return u;u=b;return a};a.x=function(l){if(!arguments.length)return f;f=l;b.x(l);return a};a.y=function(f){if(!arguments.length)return w;w=f;b.y(f);return a};a.clipEdge=function(b){if(!arguments.length)return D;D=b;return a};a.color=function(f){if(!arguments.length)return l;l=r.utils.getColor(f);b.color(l);return a};a.interpolate=
function(b){if(!arguments.length)return F;F=b;return a};a.defined=function(b){if(!arguments.length)return q;q=b;return a};a.isArea=function(b){if(!arguments.length)return G;G=d3.functor(b);return a};return a};r.models.lineChart=function(){function a(B){B.each(function(B){var x=d3.select(this),S=this,R=(q||parseInt(x.style("width"))||960)-f.left-f.right,V=(G||parseInt(x.style("height"))||400)-f.top-f.bottom;a.update=function(){x.transition().duration(s).call(a)};a.container=this;J.disabled=B.map(function(a){return!!a.disabled});
if(!M){var n;M={};for(n in J)M[n]=J[n]instanceof Array?J[n].slice(0):J[n]}if(B&&B.length&&B.filter(function(a){return a.values.length}).length)x.selectAll(".nv-noData").remove();else return n=x.selectAll(".nv-noData").data([T]),n.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),n.attr("x",f.left+R/2).attr("y",f.top+V/2).text(function(a){return a}),a;C=b.xScale();P=b.yScale();n=x.selectAll("g.nv-wrap.nv-lineChart").data([B]);var $=n.enter().append("g").attr("class",
"nvd3 nv-wrap nv-lineChart").append("g"),W=n.select("g");$.append("rect").style("opacity",0);$.append("g").attr("class","nv-x nv-axis");$.append("g").attr("class","nv-y nv-axis");$.append("g").attr("class","nv-linesWrap");$.append("g").attr("class","nv-legendWrap");$.append("g").attr("class","nv-interactive");W.select("rect").attr("width",R).attr("height",0<V?V:0);D&&(u.width(R),W.select(".nv-legendWrap").datum(B).call(u),f.top!=u.height()&&(f.top=u.height(),V=(G||parseInt(x.style("height"))||400)-
f.top-f.bottom),n.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")"));n.attr("transform","translate("+f.left+","+f.top+")");F&&W.select(".nv-y.nv-axis").attr("transform","translate("+R+",0)");L&&(l.width(R).height(V).margin({left:f.left,top:f.top}).svgContainer(x).xScale(C),n.select(".nv-interactive").call(l));b.width(R).height(V).color(B.map(function(a,b){return a.color||w(a,b)}).filter(function(a,b){return!B[b].disabled}));W.select(".nv-linesWrap").datum(B.filter(function(a){return!a.disabled})).transition().call(b);
A&&(t.scale(C).ticks(R/100).tickSize(-V,0),W.select(".nv-x.nv-axis").attr("transform","translate(0,"+P.range()[0]+")"),W.select(".nv-x.nv-axis").transition().call(t));H&&(z.scale(P).ticks(V/36).tickSize(-R,0),W.select(".nv-y.nv-axis").transition().call(z));u.dispatch.on("stateChange",function(b){J=b;O.stateChange(J);a.update()});l.dispatch.on("elementMousemove",function(k){b.clearHighlights();var n,s,q,x=[];B.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(f,l){s=r.interactiveBisect(f.values,
k.pointXValue,a.x());b.highlightPoint(l,s,!0);var t=f.values[s];"undefined"!==typeof t&&("undefined"===typeof n&&(n=t),"undefined"===typeof q&&(q=a.xScale()(a.x()(t,s))),x.push({key:f.key,value:a.y()(t,s),color:w(f,f.seriesIndex)}))});if(2<x.length){var u=a.yScale().invert(k.mouseY),C=.03*Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),u=r.nearestValueIndex(x.map(function(a){return a.value}),u,C);null!==u&&(x[u].highlight=!0)}u=t.tickFormat()(a.x()(n,s));l.tooltip.position({left:q+f.left,
top:k.mouseY+f.top}).chartContainer(S.parentNode).enabled(Q).valueFormatter(function(a,b){return z.tickFormat()(a)}).data({value:u,series:x})();l.renderGuideLine(q)});l.dispatch.on("elementMouseout",function(a){O.tooltipHide();b.clearHighlights()});O.on("tooltipShow",function(k){if(Q){var f=S.parentNode,n=k.pos[0]+(f.offsetLeft||0),l=k.pos[1]+(f.offsetTop||0),s=t.tickFormat()(b.x()(k.point,k.pointIndex)),q=z.tickFormat()(b.y()(k.point,k.pointIndex));k=N(k.series.key,s,q,k,a);r.tooltip.show([n,l],
k,null,null,f)}});O.on("changeState",function(b){"undefined"!==typeof b.disabled&&B.length===b.disabled.length&&(B.forEach(function(a,f){a.disabled=b.disabled[f]}),J.disabled=b.disabled);a.update()})});return a}var b=r.models.line(),t=r.models.axis(),z=r.models.axis(),u=r.models.legend(),l=r.interactiveGuideline(),f={top:30,right:20,bottom:50,left:60},w=r.utils.defaultColor(),q=null,G=null,D=!0,A=!0,H=!0,F=!1,L=!1,Q=!0,N=function(a,b,f,l,s){return"<h3>"+a+"</h3><p>"+f+" at "+b+"</p>"},C,P,J={},M=
null,T="No Data Available.",O=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),s=250;t.orient("bottom").tickPadding(7);z.orient(F?"right":"left");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+f.left,a.pos[1]+f.top];O.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){O.tooltipHide(a)});O.on("tooltipHide",function(){Q&&r.tooltip.cleanup()});a.dispatch=O;a.lines=b;a.legend=u;a.xAxis=t;a.yAxis=z;a.interactiveLayer=l;d3.rebind(a,b,"defined",
"isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id","interpolate");a.options=r.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return f;f.top="undefined"!=typeof b.top?b.top:f.top;f.right="undefined"!=typeof b.right?b.right:f.right;f.bottom="undefined"!=typeof b.bottom?b.bottom:f.bottom;f.left="undefined"!=typeof b.left?b.left:f.left;return a};a.width=function(b){if(!arguments.length)return q;
q=b;return a};a.height=function(b){if(!arguments.length)return G;G=b;return a};a.color=function(b){if(!arguments.length)return w;w=r.utils.getColor(b);u.color(w);return a};a.showLegend=function(b){if(!arguments.length)return D;D=b;return a};a.showXAxis=function(b){if(!arguments.length)return A;A=b;return a};a.showYAxis=function(b){if(!arguments.length)return H;H=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return F;F=b;z.orient(b?"right":"left");return a};a.useInteractiveGuideline=
function(b){if(!arguments.length)return L;L=b;!0===b&&(a.interactive(!1),a.useVoronoi(!1));return a};a.tooltips=function(b){if(!arguments.length)return Q;Q=b;return a};a.tooltipContent=function(b){if(!arguments.length)return N;N=b;return a};a.state=function(b){if(!arguments.length)return J;J=b;return a};a.defaultState=function(b){if(!arguments.length)return M;M=b;return a};a.noData=function(b){if(!arguments.length)return T;T=b;return a};a.transitionDuration=function(b){if(!arguments.length)return s;
s=b;return a};return a};r.models.linePlusBarChart=function(){function a(s){s.each(function(s){var K=d3.select(this),x=this,A=(q||parseInt(K.style("width"))||960)-w.left-w.right,R=(G||parseInt(K.style("height"))||400)-w.top-w.bottom;a.update=function(){K.transition().call(a)};J.disabled=s.map(function(a){return!!a.disabled});if(!M){var D;M={};for(D in J)M[D]=J[D]instanceof Array?J[D].slice(0):J[D]}if(s&&s.length&&s.filter(function(a){return a.values.length}).length)K.selectAll(".nv-noData").remove();
else return D=K.selectAll(".nv-noData").data([T]),D.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),D.attr("x",w.left+A/2).attr("y",w.top+R/2).text(function(a){return a}),a;D=s.filter(function(a){return!a.disabled&&a.bar});var n=s.filter(function(a){return!a.bar});N=n.filter(function(a){return!a.disabled}).length&&n.filter(function(a){return!a.disabled})[0].values.length?b.xScale():t.xScale();C=t.yScale();P=b.yScale();var $=d3.select(this).selectAll("g.nv-wrap.nv-linePlusBar").data([s]),
W=$.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),k=$.select("g");W.append("g").attr("class","nv-x nv-axis");W.append("g").attr("class","nv-y1 nv-axis");W.append("g").attr("class","nv-y2 nv-axis");W.append("g").attr("class","nv-barsWrap");W.append("g").attr("class","nv-linesWrap");W.append("g").attr("class","nv-legendWrap");F&&(f.width(A/2),k.select(".nv-legendWrap").datum(s.map(function(a){a.originalKey=void 0===a.originalKey?a.key:a.originalKey;a.key=a.originalKey+
(a.bar?" (left axis)":" (right axis)");return a})).call(f),w.top!=f.height()&&(w.top=f.height(),R=(G||parseInt(K.style("height"))||400)-w.top-w.bottom),k.select(".nv-legendWrap").attr("transform","translate("+A/2+","+-w.top+")"));$.attr("transform","translate("+w.left+","+w.top+")");b.width(A).height(R).color(s.map(function(a,b){return a.color||H(a,b)}).filter(function(a,b){return!s[b].disabled&&!s[b].bar}));t.width(A).height(R).color(s.map(function(a,b){return a.color||H(a,b)}).filter(function(a,
b){return!s[b].disabled&&s[b].bar}));$=k.select(".nv-barsWrap").datum(D.length?D:[{values:[]}]);W=k.select(".nv-linesWrap").datum(n[0]&&!n[0].disabled?n:[{values:[]}]);d3.transition($).call(t);d3.transition(W).call(b);z.scale(N).ticks(A/100).tickSize(-R,0);k.select(".nv-x.nv-axis").attr("transform","translate(0,"+C.range()[0]+")");d3.transition(k.select(".nv-x.nv-axis")).call(z);u.scale(C).ticks(R/36).tickSize(-A,0);d3.transition(k.select(".nv-y1.nv-axis")).style("opacity",D.length?1:0).call(u);l.scale(P).ticks(R/
36).tickSize(D.length?0:-A,0);k.select(".nv-y2.nv-axis").style("opacity",n.length?1:0).attr("transform","translate("+A+",0)");d3.transition(k.select(".nv-y2.nv-axis")).call(l);f.dispatch.on("stateChange",function(b){J=b;O.stateChange(J);a.update()});O.on("tooltipShow",function(k){if(L){var f=x.parentNode,n=k.pos[0]+(f.offsetLeft||0),s=k.pos[1]+(f.offsetTop||0),q=z.tickFormat()(b.x()(k.point,k.pointIndex)),t=(k.series.bar?u:l).tickFormat()(b.y()(k.point,k.pointIndex)),q=Q(k.series.key,q,t,k,a);r.tooltip.show([n,
s],q,0>k.value?"n":"s",null,f)}});O.on("changeState",function(b){"undefined"!==typeof b.disabled&&(s.forEach(function(a,k){a.disabled=b.disabled[k]}),J.disabled=b.disabled);a.update()})});return a}var b=r.models.line(),t=r.models.historicalBar(),z=r.models.axis(),u=r.models.axis(),l=r.models.axis(),f=r.models.legend(),w={top:30,right:60,bottom:50,left:60},q=null,G=null,D=function(a){return a.x},A=function(a){return a.y},H=r.utils.defaultColor(),F=!0,L=!0,Q=function(a,b,f,l,q){return"<h3>"+a+"</h3><p>"+
f+" at "+b+"</p>"},N,C,P,J={},M=null,T="No Data Available.",O=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");t.padData(!0);b.clipEdge(!1).padData(!0);z.orient("bottom").tickPadding(7).highlightZero(!1);u.orient("left");l.orient("right");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+w.left,a.pos[1]+w.top];O.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){O.tooltipHide(a)});t.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+
w.left,a.pos[1]+w.top];O.tooltipShow(a)});t.dispatch.on("elementMouseout.tooltip",function(a){O.tooltipHide(a)});O.on("tooltipHide",function(){L&&r.tooltip.cleanup()});a.dispatch=O;a.legend=f;a.lines=b;a.bars=t;a.xAxis=z;a.y1Axis=u;a.y2Axis=l;d3.rebind(a,b,"defined","size","clipVoronoi","interpolate");a.options=r.utils.optionsFunc.bind(a);a.x=function(f){if(!arguments.length)return D;D=f;b.x(f);t.x(f);return a};a.y=function(f){if(!arguments.length)return A;A=f;b.y(f);t.y(f);return a};a.margin=function(b){if(!arguments.length)return w;
w.top="undefined"!=typeof b.top?b.top:w.top;w.right="undefined"!=typeof b.right?b.right:w.right;w.bottom="undefined"!=typeof b.bottom?b.bottom:w.bottom;w.left="undefined"!=typeof b.left?b.left:w.left;return a};a.width=function(b){if(!arguments.length)return q;q=b;return a};a.height=function(b){if(!arguments.length)return G;G=b;return a};a.color=function(b){if(!arguments.length)return H;H=r.utils.getColor(b);f.color(H);return a};a.showLegend=function(b){if(!arguments.length)return F;F=b;return a};
a.tooltips=function(b){if(!arguments.length)return L;L=b;return a};a.tooltipContent=function(b){if(!arguments.length)return Q;Q=b;return a};a.state=function(b){if(!arguments.length)return J;J=b;return a};a.defaultState=function(b){if(!arguments.length)return M;M=b;return a};a.noData=function(b){if(!arguments.length)return T;T=b;return a};return a};r.models.lineWithFocusChart=function(){function a(x){x.each(function(x){function R(){q.empty()||q.extent(M);ea.data([q.empty()?C.domain():M]).each(function(a,
b){var k=C(a[0])-Q.range()[0],f=Q.range()[1]-C(a[1]);d3.select(this).select(".left").attr("width",0>k?0:k);d3.select(this).select(".right").attr("x",C(a[1])).attr("width",0>f?0:f)})}function V(){M=q.empty()?null:q.extent();var a=q.empty()?C.domain():q.extent();1>=Math.abs(a[0]-a[1])||(B.brush({extent:a,brush:q}),R(),ja.select(".nv-focus .nv-linesWrap").datum(x.filter(function(a){return!a.disabled}).map(function(k,f){return{key:k.key,values:k.values.filter(function(k,f){return b.x()(k,f)>=a[0]&&b.x()(k,
f)<=a[1]})}})).transition().duration(K).call(b),ja.select(".nv-focus .nv-x.nv-axis").transition().duration(K).call(z),ja.select(".nv-focus .nv-y.nv-axis").transition().duration(K).call(u))}var n=d3.select(this),$=this,W=(H||parseInt(n.style("width"))||960)-G.left-G.right,k=(F||parseInt(n.style("height"))||400)-G.top-G.bottom-L,E=L-D.top-D.bottom;a.update=function(){n.transition().duration(K).call(a)};a.container=this;if(x&&x.length&&x.filter(function(a){return a.values.length}).length)n.selectAll(".nv-noData").remove();
else{var X=n.selectAll(".nv-noData").data([s]);X.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");X.attr("x",G.left+W/2).attr("y",G.top+k/2).text(function(a){return a});return a}Q=b.xScale();N=b.yScale();C=t.xScale();P=t.yScale();var X=n.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([x]),ia=X.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),ja=X.select("g");ia.append("g").attr("class","nv-legendWrap");var Y=
ia.append("g").attr("class","nv-focus");Y.append("g").attr("class","nv-x nv-axis");Y.append("g").attr("class","nv-y nv-axis");Y.append("g").attr("class","nv-linesWrap");ia=ia.append("g").attr("class","nv-context");ia.append("g").attr("class","nv-x nv-axis");ia.append("g").attr("class","nv-y nv-axis");ia.append("g").attr("class","nv-linesWrap");ia.append("g").attr("class","nv-brushBackground");ia.append("g").attr("class","nv-x nv-brush");J&&(w.width(W),ja.select(".nv-legendWrap").datum(x).call(w),
G.top!=w.height()&&(G.top=w.height(),k=(F||parseInt(n.style("height"))||400)-G.top-G.bottom-L),ja.select(".nv-legendWrap").attr("transform","translate(0,"+-G.top+")"));X.attr("transform","translate("+G.left+","+G.top+")");b.width(W).height(k).color(x.map(function(a,b){return a.color||A(a,b)}).filter(function(a,b){return!x[b].disabled}));t.defined(b.defined()).width(W).height(E).color(x.map(function(a,b){return a.color||A(a,b)}).filter(function(a,b){return!x[b].disabled}));ja.select(".nv-context").attr("transform",
"translate(0,"+(k+G.bottom+D.top)+")");X=ja.select(".nv-context .nv-linesWrap").datum(x.filter(function(a){return!a.disabled}));d3.transition(X).call(t);z.scale(Q).ticks(W/100).tickSize(-k,0);u.scale(N).ticks(k/36).tickSize(-W,0);ja.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+k+")");q.x(C).on("brush",function(){var b=a.transitionDuration();a.transitionDuration(0);V();a.transitionDuration(b)});M&&q.extent(M);var ea=ja.select(".nv-brushBackground").selectAll("g").data([M||q.extent()]),
k=ea.enter().append("g");k.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",E);k.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",E);k=ja.select(".nv-x.nv-brush").call(q);k.selectAll("rect").attr("height",E);k.selectAll(".resize").append("path").attr("d",function(a){var b=(a=+("e"==a))?1:-1,k=E/3;return"M"+.5*b+","+k+"A6,6 0 0 "+a+" "+6.5*b+","+(k+6)+"V"+(2*k-6)+"A6,6 0 0 "+a+" "+.5*b+","+2*k+"ZM"+2.5*b+","+(k+8)+"V"+(2*k-8)+"M"+4.5*b+","+(k+8)+"V"+
(2*k-8)});V();l.scale(C).ticks(W/100).tickSize(-E,0);ja.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+P.range()[0]+")");d3.transition(ja.select(".nv-context .nv-x.nv-axis")).call(l);f.scale(P).ticks(E/36).tickSize(-W,0);d3.transition(ja.select(".nv-context .nv-y.nv-axis")).call(f);ja.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+P.range()[0]+")");w.dispatch.on("stateChange",function(b){a.update()});B.on("tooltipShow",function(k){if(T){var f=$.parentNode,
n=k.pos[0]+(f.offsetLeft||0),l=k.pos[1]+(f.offsetTop||0),q=z.tickFormat()(b.x()(k.point,k.pointIndex)),s=u.tickFormat()(b.y()(k.point,k.pointIndex));k=O(k.series.key,q,s,k,a);r.tooltip.show([n,l],k,null,null,f)}})});return a}var b=r.models.line(),t=r.models.line(),z=r.models.axis(),u=r.models.axis(),l=r.models.axis(),f=r.models.axis(),w=r.models.legend(),q=d3.svg.brush(),G={top:30,right:30,bottom:30,left:60},D={top:0,right:30,bottom:20,left:60},A=r.utils.defaultColor(),H=null,F=null,L=100,Q,N,C,P,
J=!0,M=null,T=!0,O=function(a,b,f,l,n){return"<h3>"+a+"</h3><p>"+f+" at "+b+"</p>"},s="No Data Available.",B=d3.dispatch("tooltipShow","tooltipHide","brush"),K=250;b.clipEdge(!0);t.interactive(!1);z.orient("bottom").tickPadding(5);u.orient("left");l.orient("bottom").tickPadding(5);f.orient("left");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+G.left,a.pos[1]+G.top];B.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){B.tooltipHide(a)});B.on("tooltipHide",function(){T&&
r.tooltip.cleanup()});a.dispatch=B;a.legend=w;a.lines=b;a.lines2=t;a.xAxis=z;a.yAxis=u;a.x2Axis=l;a.y2Axis=f;d3.rebind(a,b,"defined","isArea","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id");a.options=r.utils.optionsFunc.bind(a);a.x=function(f){if(!arguments.length)return b.x;b.x(f);t.x(f);return a};a.y=function(f){if(!arguments.length)return b.y;b.y(f);t.y(f);return a};a.margin=function(b){if(!arguments.length)return G;G.top="undefined"!=
typeof b.top?b.top:G.top;G.right="undefined"!=typeof b.right?b.right:G.right;G.bottom="undefined"!=typeof b.bottom?b.bottom:G.bottom;G.left="undefined"!=typeof b.left?b.left:G.left;return a};a.margin2=function(b){if(!arguments.length)return D;D=b;return a};a.width=function(b){if(!arguments.length)return H;H=b;return a};a.height=function(b){if(!arguments.length)return F;F=b;return a};a.height2=function(b){if(!arguments.length)return L;L=b;return a};a.color=function(b){if(!arguments.length)return A;
A=r.utils.getColor(b);w.color(A);return a};a.showLegend=function(b){if(!arguments.length)return J;J=b;return a};a.tooltips=function(b){if(!arguments.length)return T;T=b;return a};a.tooltipContent=function(b){if(!arguments.length)return O;O=b;return a};a.interpolate=function(f){if(!arguments.length)return b.interpolate();b.interpolate(f);t.interpolate(f);return a};a.noData=function(b){if(!arguments.length)return s;s=b;return a};a.xTickFormat=function(b){if(!arguments.length)return z.tickFormat();z.tickFormat(b);
l.tickFormat(b);return a};a.yTickFormat=function(b){if(!arguments.length)return u.tickFormat();u.tickFormat(b);f.tickFormat(b);return a};a.brushExtent=function(b){if(!arguments.length)return M;M=b;return a};a.transitionDuration=function(b){if(!arguments.length)return K;K=b;return a};return a};r.models.linePlusBarWithFocusChart=function(){function a(X){X.each(function(X){function ja(){H.empty()||H.extent(s);Ea.data([H.empty()?S.domain():s]).each(function(a,b){var k=S(a[0])-S.range()[0],f=S.range()[1]-
S(a[1]);d3.select(this).select(".left").attr("width",0>k?0:k);d3.select(this).select(".right").attr("x",S(a[1])).attr("width",0>f?0:f)})}function Y(){s=H.empty()?null:H.extent();O=H.empty()?S.domain():H.extent();k.brush({extent:O,brush:H});ja();z.width(ba).height(da).color(X.map(function(a,b){return a.color||M(a,b)}).filter(function(a,b){return!X[b].disabled&&X[b].bar}));b.width(ba).height(da).color(X.map(function(a,b){return a.color||M(a,b)}).filter(function(a,b){return!X[b].disabled&&!X[b].bar}));
var a=oa.select(".nv-focus .nv-barsWrap").datum(pa.length?pa.map(function(a,b){return{key:a.key,values:a.values.filter(function(a,b){return z.x()(a,b)>=O[0]&&z.x()(a,b)<=O[1]})}}):[{values:[]}]),f=oa.select(".nv-focus .nv-linesWrap").datum(Na[0].disabled?[{values:[]}]:Na.map(function(a,k){return{key:a.key,values:a.values.filter(function(a,k){return b.x()(a,k)>=O[0]&&b.x()(a,k)<=O[1]})}}));x=pa.length?z.xScale():b.xScale();l.scale(x).ticks(ba/100).tickSize(-da,0);l.domain([Math.ceil(O[0]),Math.floor(O[1])]);
oa.select(".nv-x.nv-axis").transition().duration(E).call(l);a.transition().duration(E).call(z);f.transition().duration(E).call(b);oa.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+R.range()[0]+")");w.scale(R).ticks(da/36).tickSize(-ba,0);oa.select(".nv-focus .nv-y1.nv-axis").style("opacity",pa.length?1:0);q.scale(V).ticks(da/36).tickSize(pa.length?0:-ba,0);oa.select(".nv-focus .nv-y2.nv-axis").style("opacity",Na.length?1:0).attr("transform","translate("+x.range()[1]+",0)");oa.select(".nv-focus .nv-y1.nv-axis").transition().duration(E).call(w);
oa.select(".nv-focus .nv-y2.nv-axis").transition().duration(E).call(q)}var ea=d3.select(this),ka=this,ba=(Q||parseInt(ea.style("width"))||960)-F.left-F.right,da=(N||parseInt(ea.style("height"))||400)-F.top-F.bottom-C,la=C-L.top-L.bottom;a.update=function(){ea.transition().duration(E).call(a)};a.container=this;if(X&&X.length&&X.filter(function(a){return a.values.length}).length)ea.selectAll(".nv-noData").remove();else{var ca=ea.selectAll(".nv-noData").data([W]);ca.enter().append("text").attr("class",
"nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");ca.attr("x",F.left+ba/2).attr("y",F.top+da/2).text(function(a){return a});return a}var pa=X.filter(function(a){return!a.disabled&&a.bar}),Na=X.filter(function(a){return!a.bar});x=z.xScale();S=f.scale();R=z.yScale();V=b.yScale();n=u.yScale();$=t.yScale();var ca=X.filter(function(a){return!a.disabled&&a.bar}).map(function(a){return a.values.map(function(a,b){return{x:P(a,b),y:J(a,b)}})}),ua=X.filter(function(a){return!a.disabled&&!a.bar}).map(function(a){return a.values.map(function(a,
b){return{x:P(a,b),y:J(a,b)}})});x.range([0,ba]);S.domain(d3.extent(d3.merge(ca.concat(ua)),function(a){return a.x})).range([0,ba]);var ca=ea.selectAll("g.nv-wrap.nv-linePlusBar").data([X]),ua=ca.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),oa=ca.select("g");ua.append("g").attr("class","nv-legendWrap");var Xa=ua.append("g").attr("class","nv-focus");Xa.append("g").attr("class","nv-x nv-axis");Xa.append("g").attr("class","nv-y1 nv-axis");Xa.append("g").attr("class","nv-y2 nv-axis");
Xa.append("g").attr("class","nv-barsWrap");Xa.append("g").attr("class","nv-linesWrap");ua=ua.append("g").attr("class","nv-context");ua.append("g").attr("class","nv-x nv-axis");ua.append("g").attr("class","nv-y1 nv-axis");ua.append("g").attr("class","nv-y2 nv-axis");ua.append("g").attr("class","nv-barsWrap");ua.append("g").attr("class","nv-linesWrap");ua.append("g").attr("class","nv-brushBackground");ua.append("g").attr("class","nv-x nv-brush");T&&(A.width(ba/2),oa.select(".nv-legendWrap").datum(X.map(function(a){a.originalKey=
void 0===a.originalKey?a.key:a.originalKey;a.key=a.originalKey+(a.bar?" (left axis)":" (right axis)");return a})).call(A),F.top!=A.height()&&(F.top=A.height(),da=(N||parseInt(ea.style("height"))||400)-F.top-F.bottom-C),oa.select(".nv-legendWrap").attr("transform","translate("+ba/2+","+-F.top+")"));ca.attr("transform","translate("+F.left+","+F.top+")");u.width(ba).height(la).color(X.map(function(a,b){return a.color||M(a,b)}).filter(function(a,b){return!X[b].disabled&&X[b].bar}));t.width(ba).height(la).color(X.map(function(a,
b){return a.color||M(a,b)}).filter(function(a,b){return!X[b].disabled&&!X[b].bar}));ca=oa.select(".nv-context .nv-barsWrap").datum(pa.length?pa:[{values:[]}]);ua=oa.select(".nv-context .nv-linesWrap").datum(Na[0].disabled?[{values:[]}]:Na);oa.select(".nv-context").attr("transform","translate(0,"+(da+F.bottom+L.top)+")");ca.transition().call(u);ua.transition().call(t);H.x(S).on("brush",Y);s&&H.extent(s);var Ea=oa.select(".nv-brushBackground").selectAll("g").data([s||H.extent()]),ca=Ea.enter().append("g");
ca.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",la);ca.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",la);ca=oa.select(".nv-x.nv-brush").call(H);ca.selectAll("rect").attr("height",la);ca.selectAll(".resize").append("path").attr("d",function(a){var b=(a=+("e"==a))?1:-1,k=la/3;return"M"+.5*b+","+k+"A6,6 0 0 "+a+" "+6.5*b+","+(k+6)+"V"+(2*k-6)+"A6,6 0 0 "+a+" "+.5*b+","+2*k+"ZM"+2.5*b+","+(k+8)+"V"+(2*k-8)+"M"+4.5*b+","+(k+8)+"V"+(2*k-8)});f.ticks(ba/
100).tickSize(-la,0);oa.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")");oa.select(".nv-context .nv-x.nv-axis").transition().call(f);G.scale(n).ticks(la/36).tickSize(-ba,0);oa.select(".nv-context .nv-y1.nv-axis").style("opacity",pa.length?1:0).attr("transform","translate(0,"+S.range()[0]+")");oa.select(".nv-context .nv-y1.nv-axis").transition().call(G);D.scale($).ticks(la/36).tickSize(pa.length?0:-ba,0);oa.select(".nv-context .nv-y2.nv-axis").style("opacity",Na.length?
1:0).attr("transform","translate("+S.range()[1]+",0)");oa.select(".nv-context .nv-y2.nv-axis").transition().call(D);A.dispatch.on("stateChange",function(b){a.update()});k.on("tooltipShow",function(k){if(B){var f=ka.parentNode;O&&(k.pointIndex+=Math.ceil(O[0]));var n=k.pos[0]+(f.offsetLeft||0),s=k.pos[1]+(f.offsetTop||0),t=l.tickFormat()(b.x()(k.point,k.pointIndex)),x=(k.series.bar?w:q).tickFormat()(b.y()(k.point,k.pointIndex)),t=K(k.series.key,t,x,k,a);r.tooltip.show([n,s],t,0>k.value?"n":"s",null,
f)}});Y()});return a}var b=r.models.line(),t=r.models.line(),z=r.models.historicalBar(),u=r.models.historicalBar(),l=r.models.axis(),f=r.models.axis(),w=r.models.axis(),q=r.models.axis(),G=r.models.axis(),D=r.models.axis(),A=r.models.legend(),H=d3.svg.brush(),F={top:30,right:30,bottom:30,left:60},L={top:0,right:30,bottom:20,left:60},Q=null,N=null,C=100,P=function(a){return a.x},J=function(a){return a.y},M=r.utils.defaultColor(),T=!0,O,s=null,B=!0,K=function(a,b,k,f,n){return"<h3>"+a+"</h3><p>"+k+
" at "+b+"</p>"},x,S,R,V,n,$,W="No Data Available.",k=d3.dispatch("tooltipShow","tooltipHide","brush"),E=0;b.clipEdge(!0);t.interactive(!1);l.orient("bottom").tickPadding(5);w.orient("left");q.orient("right");f.orient("bottom").tickPadding(5);G.orient("left");D.orient("right");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+F.left,a.pos[1]+F.top];k.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){k.tooltipHide(a)});z.dispatch.on("elementMouseover.tooltip",
function(a){a.pos=[a.pos[0]+F.left,a.pos[1]+F.top];k.tooltipShow(a)});z.dispatch.on("elementMouseout.tooltip",function(a){k.tooltipHide(a)});k.on("tooltipHide",function(){B&&r.tooltip.cleanup()});a.dispatch=k;a.legend=A;a.lines=b;a.lines2=t;a.bars=z;a.bars2=u;a.xAxis=l;a.x2Axis=f;a.y1Axis=w;a.y2Axis=q;a.y3Axis=G;a.y4Axis=D;d3.rebind(a,b,"defined","size","clipVoronoi","interpolate");a.options=r.utils.optionsFunc.bind(a);a.x=function(k){if(!arguments.length)return P;P=k;b.x(k);z.x(k);return a};a.y=
function(k){if(!arguments.length)return J;J=k;b.y(k);z.y(k);return a};a.margin=function(b){if(!arguments.length)return F;F.top="undefined"!=typeof b.top?b.top:F.top;F.right="undefined"!=typeof b.right?b.right:F.right;F.bottom="undefined"!=typeof b.bottom?b.bottom:F.bottom;F.left="undefined"!=typeof b.left?b.left:F.left;return a};a.width=function(b){if(!arguments.length)return Q;Q=b;return a};a.height=function(b){if(!arguments.length)return N;N=b;return a};a.color=function(b){if(!arguments.length)return M;
M=r.utils.getColor(b);A.color(M);return a};a.showLegend=function(b){if(!arguments.length)return T;T=b;return a};a.tooltips=function(b){if(!arguments.length)return B;B=b;return a};a.tooltipContent=function(b){if(!arguments.length)return K;K=b;return a};a.noData=function(b){if(!arguments.length)return W;W=b;return a};a.brushExtent=function(b){if(!arguments.length)return s;s=b;return a};return a};r.models.multiBar=function(){function a(r){r.each(function(a){var r=t-b.left-b.right,K=z-b.top-b.bottom,
V=d3.select(this);L&&a.length&&(L=[{values:a[0].values.map(function(a){return{x:a.x,y:0,series:a.series,size:.01}})}]);A&&(a=d3.layout.stack().offset(H).values(function(a){return a.values}).y(q)(!a.length&&L?L:a));a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});A&&a[0].values.map(function(b,f){var n=0,l=0;a.map(function(a){a=a.values[f];a.size=Math.abs(a.y);0>a.y?(a.y1=l,l-=a.size):(a.y1=a.size+n,n+=a.size)})});var n=P&&J?[]:a.map(function(a){return a.values.map(function(a,b){return{x:w(a,
b),y:q(a,b),y0:a.y0,y1:a.y1}})});u.domain(P||d3.merge(n).map(function(a){return a.x})).rangeBands(M||[0,r],O);l.domain(J||d3.extent(d3.merge(n).map(function(a){return A?0<a.y?a.y1:a.y1+a.y:a.y}).concat(G))).range(T||[K,0]);u.domain()[0]===u.domain()[1]&&(u.domain()[0]?u.domain([u.domain()[0]-.01*u.domain()[0],u.domain()[1]+.01*u.domain()[1]]):u.domain([-1,1]));l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]+.01*l.domain()[0],l.domain()[1]-.01*l.domain()[1]]):l.domain([-1,1]));
B=B||l;var V=V.selectAll("g.nv-wrap.nv-multibar").data([a]),$=V.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),n=$.append("defs"),$=$.append("g"),W=V.select("g");$.append("g").attr("class","nv-groups");V.attr("transform","translate("+b.left+","+b.top+")");n.append("clipPath").attr("id","nv-edge-clip-"+f).append("rect");V.select("#nv-edge-clip-"+f+" rect").attr("width",r).attr("height",K);W.attr("clip-path",D?"url(#nv-edge-clip-"+f+")":"");r=V.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},
function(a,b){return b});r.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);r.exit().transition().selectAll("rect.nv-bar").delay(function(b,f){return f*C/a[0].values.length}).attr("y",function(a){return A?B(a.y0):B(0)}).attr("height",0).remove();r.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return F(a,b)}).style("stroke",function(a,b){return F(a,b)});r.transition().style("stroke-opacity",
1).style("fill-opacity",.75);r=r.selectAll("rect.nv-bar").data(function(b){return L&&!a.length?L.values:b.values});r.exit().remove();r.enter().append("rect").attr("class",function(a,b){return 0>q(a,b)?"nv-bar negative":"nv-bar positive"}).attr("x",function(b,f,n){return A?0:n*u.rangeBand()/a.length}).attr("y",function(a){return B(A?a.y0:0)}).attr("height",0).attr("width",u.rangeBand()/(A?1:a.length)).attr("transform",function(a,b){return"translate("+u(w(a,b))+",0)"});r.style("fill",function(a,b,f){return F(a,
f,b)}).style("stroke",function(a,b,f){return F(a,f,b)}).on("mouseover",function(b,f){d3.select(this).classed("hover",!0);s.elementMouseover({value:q(b,f),point:b,series:a[b.series],pos:[u(w(b,f))+u.rangeBand()*(A?a.length/2:b.series+.5)/a.length,l(q(b,f)+(A?b.y0:0))],pointIndex:f,seriesIndex:b.series,e:d3.event})}).on("mouseout",function(b,f){d3.select(this).classed("hover",!1);s.elementMouseout({value:q(b,f),point:b,series:a[b.series],pointIndex:f,seriesIndex:b.series,e:d3.event})}).on("click",function(b,
f){s.elementClick({value:q(b,f),point:b,series:a[b.series],pos:[u(w(b,f))+u.rangeBand()*(A?a.length/2:b.series+.5)/a.length,l(q(b,f)+(A?b.y0:0))],pointIndex:f,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(b,f){s.elementDblClick({value:q(b,f),point:b,series:a[b.series],pos:[u(w(b,f))+u.rangeBand()*(A?a.length/2:b.series+.5)/a.length,l(q(b,f)+(A?b.y0:0))],pointIndex:f,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()});r.attr("class",function(a,b){return 0>
q(a,b)?"nv-bar negative":"nv-bar positive"}).transition().attr("transform",function(a,b){return"translate("+u(w(a,b))+",0)"});Q&&(N||(N=a.map(function(){return!0})),r.style("fill",function(a,b,f){return d3.rgb(Q(a,b)).darker(N.map(function(a,b){return b}).filter(function(a,b){return!N[b]})[f]).toString()}).style("stroke",function(a,b,f){return d3.rgb(Q(a,b)).darker(N.map(function(a,b){return b}).filter(function(a,b){return!N[b]})[f]).toString()}));A?r.transition().delay(function(b,f){return f*C/a[0].values.length}).attr("y",
function(a,b){return l(A?a.y1:0)}).attr("height",function(a,b){return Math.max(Math.abs(l(a.y+(A?a.y0:0))-l(A?a.y0:0)),1)}).attr("x",function(b,f){return A?0:b.series*u.rangeBand()/a.length}).attr("width",u.rangeBand()/(A?1:a.length)):r.transition().delay(function(b,f){return f*C/a[0].values.length}).attr("x",function(b,f){return b.series*u.rangeBand()/a.length}).attr("width",u.rangeBand()/a.length).attr("y",function(a,b){return 0>q(a,b)?l(0):1>l(0)-l(q(a,b))?l(0)-1:l(q(a,b))||0}).attr("height",function(a,
b){return Math.max(Math.abs(l(q(a,b))-l(0)),1)||0});u.copy();B=l.copy()});return a}var b={top:0,right:0,bottom:0,left:0},t=960,z=500,u=d3.scale.ordinal(),l=d3.scale.linear(),f=Math.floor(1E4*Math.random()),w=function(a){return a.x},q=function(a){return a.y},G=[0],D=!0,A=!1,H="zero",F=r.utils.defaultColor(),L=!1,Q=null,N,C=1200,P,J,M,T,O=.1,s=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),B;a.dispatch=s;a.options=r.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return w;
w=b;return a};a.y=function(b){if(!arguments.length)return q;q=b;return a};a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return t;t=b;return a};a.height=function(b){if(!arguments.length)return z;z=b;return a};a.xScale=function(b){if(!arguments.length)return u;
u=b;return a};a.yScale=function(b){if(!arguments.length)return l;l=b;return a};a.xDomain=function(b){if(!arguments.length)return P;P=b;return a};a.yDomain=function(b){if(!arguments.length)return J;J=b;return a};a.xRange=function(b){if(!arguments.length)return M;M=b;return a};a.yRange=function(b){if(!arguments.length)return T;T=b;return a};a.forceY=function(b){if(!arguments.length)return G;G=b;return a};a.stacked=function(b){if(!arguments.length)return A;A=b;return a};a.stackOffset=function(b){if(!arguments.length)return H;
H=b;return a};a.clipEdge=function(b){if(!arguments.length)return D;D=b;return a};a.color=function(b){if(!arguments.length)return F;F=r.utils.getColor(b);return a};a.barColor=function(b){if(!arguments.length)return Q;Q=r.utils.getColor(b);return a};a.disabled=function(b){if(!arguments.length)return N;N=b;return a};a.id=function(b){if(!arguments.length)return f;f=b;return a};a.hideable=function(b){if(!arguments.length)return L;L=b;return a};a.delay=function(b){if(!arguments.length)return C;C=b;return a};
a.groupSpacing=function(b){if(!arguments.length)return O;O=b;return a};return a};r.models.multiBarChart=function(){function a(S){S.each(function(R){var S=d3.select(this),n=this,$=(w||parseInt(S.style("width"))||960)-f.left-f.right,W=(q||parseInt(S.style("height"))||400)-f.top-f.bottom;a.update=function(){S.transition().duration(x).call(a)};a.container=this;O.disabled=R.map(function(a){return!!a.disabled});if(!s){var k;s={};for(k in O)s[k]=O[k]instanceof Array?O[k].slice(0):O[k]}if(R&&R.length&&R.filter(function(a){return a.values.length}).length)S.selectAll(".nv-noData").remove();
else return k=S.selectAll(".nv-noData").data([B]),k.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),k.attr("x",f.left+$/2).attr("y",f.top+W/2).text(function(a){return a}),a;M=b.xScale();T=b.yScale();var E=S.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([R]),X=E.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g");k=E.select("g");X.append("g").attr("class","nv-x nv-axis");X.append("g").attr("class","nv-y nv-axis");
X.append("g").attr("class","nv-barsWrap");X.append("g").attr("class","nv-legendWrap");X.append("g").attr("class","nv-controlsWrap");A&&(u.width($-(D?180:0)),b.barColor()&&R.forEach(function(a,b){a.color=d3.rgb("#ccc").darker(1.5*b).toString()}),k.select(".nv-legendWrap").datum(R).call(u),f.top!=u.height()&&(f.top=u.height(),W=(q||parseInt(S.style("height"))||400)-f.top-f.bottom),k.select(".nv-legendWrap").attr("transform","translate("+(D?180:0)+","+-f.top+")"));if(D){var ia=[{key:"Grouped",disabled:b.stacked()},
{key:"Stacked",disabled:!b.stacked()}];l.width(D?180:0).color(["#444","#444","#444"]);k.select(".nv-controlsWrap").datum(ia).attr("transform","translate(0,"+-f.top+")").call(l)}E.attr("transform","translate("+f.left+","+f.top+")");L&&k.select(".nv-y.nv-axis").attr("transform","translate("+$+",0)");b.disabled(R.map(function(a){return a.disabled})).width($).height(W).color(R.map(function(a,b){return a.color||G(a,b)}).filter(function(a,b){return!R[b].disabled}));k.select(".nv-barsWrap").datum(R.filter(function(a){return!a.disabled})).transition().call(b);
if(H){t.scale(M).ticks($/100).tickSize(-W,0);k.select(".nv-x.nv-axis").attr("transform","translate(0,"+T.range()[0]+")");k.select(".nv-x.nv-axis").transition().call(t);E=k.select(".nv-x.nv-axis > g").selectAll("g");E.selectAll("line, text").style("opacity",1);if(N){E.selectAll("text").attr("transform",function(a,b,f){return"translate(0,"+(0==f%2?5:17)+")"});var ja=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;k.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(a,
b){return"translate(0,"+(0===b||0!==ja%2?17:5)+")"})}Q&&E.filter(function(a,b){return 0!==b%Math.ceil(R[0].values.length/($/100))}).selectAll("text, line").style("opacity",0);C&&E.selectAll(".tick text").attr("transform","rotate("+C+" 0,0)").style("text-anchor",0<C?"start":"end");k.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}F&&(z.scale(T).ticks(W/36).tickSize(-$,0),k.select(".nv-y.nv-axis").transition().call(z));u.dispatch.on("stateChange",function(b){O=b;K.stateChange(O);
a.update()});l.dispatch.on("legendClick",function(f,k){if(f.disabled){ia=ia.map(function(a){a.disabled=!0;return a});f.disabled=!1;switch(f.key){case "Grouped":b.stacked(!1);break;case "Stacked":b.stacked(!0)}O.stacked=b.stacked();K.stateChange(O);a.update()}});K.on("tooltipShow",function(f){if(P){var k=n.parentNode,l=f.pos[0]+(k.offsetLeft||0),q=f.pos[1]+(k.offsetTop||0),s=t.tickFormat()(b.x()(f.point,f.pointIndex)),u=z.tickFormat()(b.y()(f.point,f.pointIndex)),s=J(f.series.key,s,u,f,a);r.tooltip.show([l,
q],s,0>f.value?"n":"s",null,k)}});K.on("changeState",function(f){"undefined"!==typeof f.disabled&&(R.forEach(function(a,b){a.disabled=f.disabled[b]}),O.disabled=f.disabled);"undefined"!==typeof f.stacked&&(b.stacked(f.stacked),O.stacked=f.stacked);a.update()})});return a}var b=r.models.multiBar(),t=r.models.axis(),z=r.models.axis(),u=r.models.legend(),l=r.models.legend(),f={top:30,right:20,bottom:50,left:60},w=null,q=null,G=r.utils.defaultColor(),D=!0,A=!0,H=!0,F=!0,L=!1,Q=!0,N=!1,C=0,P=!0,J=function(a,
b,f,n,l){return"<h3>"+a+"</h3><p>"+f+" on "+b+"</p>"},M,T,O={stacked:!1},s=null,B="No Data Available.",K=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),x=250;b.stacked(!1);t.orient("bottom").tickPadding(7).highlightZero(!0).showMaxMin(!1).tickFormat(function(a){return a});z.orient(L?"right":"left").tickFormat(d3.format(",.1f"));l.updateState(!1);b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+f.left,a.pos[1]+f.top];K.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",
function(a){K.tooltipHide(a)});K.on("tooltipHide",function(){P&&r.tooltip.cleanup()});a.dispatch=K;a.multibar=b;a.legend=u;a.xAxis=t;a.yAxis=z;d3.rebind(a,b,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","stacked","stackOffset","delay","barColor","groupSpacing");a.options=r.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return f;f.top="undefined"!=typeof b.top?b.top:f.top;f.right="undefined"!=typeof b.right?b.right:f.right;f.bottom="undefined"!=
typeof b.bottom?b.bottom:f.bottom;f.left="undefined"!=typeof b.left?b.left:f.left;return a};a.width=function(b){if(!arguments.length)return w;w=b;return a};a.height=function(b){if(!arguments.length)return q;q=b;return a};a.color=function(b){if(!arguments.length)return G;G=r.utils.getColor(b);u.color(G);return a};a.showControls=function(b){if(!arguments.length)return D;D=b;return a};a.showLegend=function(b){if(!arguments.length)return A;A=b;return a};a.showXAxis=function(b){if(!arguments.length)return H;
H=b;return a};a.showYAxis=function(b){if(!arguments.length)return F;F=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return L;L=b;z.orient(b?"right":"left");return a};a.reduceXTicks=function(b){if(!arguments.length)return Q;Q=b;return a};a.rotateLabels=function(b){if(!arguments.length)return C;C=b;return a};a.staggerLabels=function(b){if(!arguments.length)return N;N=b;return a};a.tooltip=function(b){if(!arguments.length)return J;J=b;return a};a.tooltips=function(b){if(!arguments.length)return P;
P=b;return a};a.tooltipContent=function(b){if(!arguments.length)return J;J=b;return a};a.state=function(b){if(!arguments.length)return O;O=b;return a};a.defaultState=function(b){if(!arguments.length)return s;s=b;return a};a.noData=function(b){if(!arguments.length)return B;B=b;return a};a.transitionDuration=function(b){if(!arguments.length)return x;x=b;return a};return a};r.models.multiBarHorizontal=function(){function a(r){r.each(function(a){var r=t-b.left-b.right,u=z-b.top-b.bottom;d3.select(this);
F&&(a=d3.layout.stack().offset("zero").values(function(a){return a.values}).y(q)(a));a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});F&&a[0].values.map(function(b,f){var l=0,k=0;a.map(function(a){a=a.values[f];a.size=Math.abs(a.y);0>a.y?(a.y1=k-a.size,k-=a.size):(a.y1=l,l+=a.size)})});var K=J&&M?[]:a.map(function(a){return a.values.map(function(a,b){return{x:w(a,b),y:q(a,b),y0:a.y0,y1:a.y1}})});l.domain(J||d3.merge(K).map(function(a){return a.x})).rangeBands(T||[0,u],.1);f.domain(M||
d3.extent(d3.merge(K).map(function(a){return F?0<a.y?a.y1+a.y:a.y1:a.y}).concat(G)));L&&!F?f.range(O||[0>f.domain()[0]?N:0,r-(0<f.domain()[1]?N:0)]):f.range(O||[0,r]);B=B||d3.scale.linear().domain(f.domain()).range([f(0),f(0)]);r=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([a]);u=r.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal");u.append("defs");u=u.append("g");r.select("g");u.append("g").attr("class","nv-groups");r.attr("transform","translate("+b.left+
","+b.top+")");r=r.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});r.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);r.exit().transition().style("stroke-opacity",1E-6).style("fill-opacity",1E-6).remove();r.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return D(a,b)}).style("stroke",function(a,b){return D(a,b)});r.transition().style("stroke-opacity",
1).style("fill-opacity",.75);r=r.selectAll("g.nv-bar").data(function(a){return a.values});r.exit().remove();u=r.enter().append("g").attr("transform",function(b,f,q){return"translate("+B(F?b.y0:0)+","+(F?0:q*l.rangeBand()/a.length+l(w(b,f)))+")"});u.append("rect").attr("width",0).attr("height",l.rangeBand()/(F?1:a.length));r.on("mouseover",function(b,t){d3.select(this).classed("hover",!0);s.elementMouseover({value:q(b,t),point:b,series:a[b.series],pos:[f(q(b,t)+(F?b.y0:0)),l(w(b,t))+l.rangeBand()*
(F?a.length/2:b.series+.5)/a.length],pointIndex:t,seriesIndex:b.series,e:d3.event})}).on("mouseout",function(b,f){d3.select(this).classed("hover",!1);s.elementMouseout({value:q(b,f),point:b,series:a[b.series],pointIndex:f,seriesIndex:b.series,e:d3.event})}).on("click",function(b,t){s.elementClick({value:q(b,t),point:b,series:a[b.series],pos:[l(w(b,t))+l.rangeBand()*(F?a.length/2:b.series+.5)/a.length,f(q(b,t)+(F?b.y0:0))],pointIndex:t,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",
function(b,t){s.elementDblClick({value:q(b,t),point:b,series:a[b.series],pos:[l(w(b,t))+l.rangeBand()*(F?a.length/2:b.series+.5)/a.length,f(q(b,t)+(F?b.y0:0))],pointIndex:t,seriesIndex:b.series,e:d3.event});d3.event.stopPropagation()});u.append("text");L&&!F?(r.select("text").attr("text-anchor",function(a,b){return 0>q(a,b)?"end":"start"}).attr("y",l.rangeBand()/(2*a.length)).attr("dy",".32em").text(function(a,b){return C(q(a,b))}),r.transition().select("text").attr("x",function(a,b){return 0>q(a,
b)?-4:f(q(a,b))-f(0)+4})):r.selectAll("text").text("");Q&&!F?(u.append("text").classed("nv-bar-label",!0),r.select("text.nv-bar-label").attr("text-anchor",function(a,b){return 0>q(a,b)?"start":"end"}).attr("y",l.rangeBand()/(2*a.length)).attr("dy",".32em").text(function(a,b){return w(a,b)}),r.transition().select("text.nv-bar-label").attr("x",function(a,b){return 0>q(a,b)?f(0)-f(q(a,b))+4:-4})):r.selectAll("text.nv-bar-label").text("");r.attr("class",function(a,b){return 0>q(a,b)?"nv-bar negative":
"nv-bar positive"});A&&(H||(H=a.map(function(){return!0})),r.style("fill",function(a,b,f){return d3.rgb(A(a,b)).darker(H.map(function(a,b){return b}).filter(function(a,b){return!H[b]})[f]).toString()}).style("stroke",function(a,b,f){return d3.rgb(A(a,b)).darker(H.map(function(a,b){return b}).filter(function(a,b){return!H[b]})[f]).toString()}));F?r.transition().attr("transform",function(a,b){return"translate("+f(a.y1)+","+l(w(a,b))+")"}).select("rect").attr("width",function(a,b){return Math.abs(f(q(a,
b)+a.y0)-f(a.y0))}).attr("height",l.rangeBand()):r.transition().attr("transform",function(b,s){return"translate("+(0>q(b,s)?f(q(b,s)):f(0))+","+(b.series*l.rangeBand()/a.length+l(w(b,s)))+")"}).select("rect").attr("height",l.rangeBand()/a.length).attr("width",function(a,b){return Math.max(Math.abs(f(q(a,b))-f(0)),1)});l.copy();B=f.copy()});return a}var b={top:0,right:0,bottom:0,left:0},t=960,z=500,u=Math.floor(1E4*Math.random()),l=d3.scale.ordinal(),f=d3.scale.linear(),w=function(a){return a.x},q=
function(a){return a.y},G=[0],D=r.utils.defaultColor(),A=null,H,F=!1,L=!1,Q=!1,N=60,C=d3.format(",.2f"),P=1200,J,M,T,O,s=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),B;a.dispatch=s;a.options=r.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return w;w=b;return a};a.y=function(b){if(!arguments.length)return q;q=b;return a};a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=
typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return t;t=b;return a};a.height=function(b){if(!arguments.length)return z;z=b;return a};a.xScale=function(b){if(!arguments.length)return l;l=b;return a};a.yScale=function(b){if(!arguments.length)return f;f=b;return a};a.xDomain=function(b){if(!arguments.length)return J;J=b;return a};a.yDomain=function(b){if(!arguments.length)return M;
M=b;return a};a.xRange=function(b){if(!arguments.length)return T;T=b;return a};a.yRange=function(b){if(!arguments.length)return O;O=b;return a};a.forceY=function(b){if(!arguments.length)return G;G=b;return a};a.stacked=function(b){if(!arguments.length)return F;F=b;return a};a.color=function(b){if(!arguments.length)return D;D=r.utils.getColor(b);return a};a.barColor=function(b){if(!arguments.length)return A;A=r.utils.getColor(b);return a};a.disabled=function(b){if(!arguments.length)return H;H=b;return a};
a.id=function(b){if(!arguments.length)return u;u=b;return a};a.delay=function(b){if(!arguments.length)return P;P=b;return a};a.showValues=function(b){if(!arguments.length)return L;L=b;return a};a.showBarLabels=function(b){if(!arguments.length)return Q;Q=b;return a};a.valueFormat=function(b){if(!arguments.length)return C;C=b;return a};a.valuePadding=function(b){if(!arguments.length)return N;N=b;return a};return a};r.models.multiBarHorizontalChart=function(){function a(s){s.each(function(s){var K=d3.select(this),
x=this,S=(w||parseInt(K.style("width"))||960)-f.left-f.right,R=(q||parseInt(K.style("height"))||400)-f.top-f.bottom;a.update=function(){K.transition().duration(O).call(a)};a.container=this;P.disabled=s.map(function(a){return!!a.disabled});if(!J){var V;J={};for(V in P)J[V]=P[V]instanceof Array?P[V].slice(0):P[V]}if(s&&s.length&&s.filter(function(a){return a.values.length}).length)K.selectAll(".nv-noData").remove();else return V=K.selectAll(".nv-noData").data([M]),V.enter().append("text").attr("class",
"nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),V.attr("x",f.left+S/2).attr("y",f.top+R/2).text(function(a){return a}),a;N=b.xScale();C=b.yScale();V=K.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([s]);var n=V.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),$=V.select("g");n.append("g").attr("class","nv-x nv-axis");n.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");n.append("g").attr("class",
"nv-barsWrap");n.append("g").attr("class","nv-legendWrap");n.append("g").attr("class","nv-controlsWrap");A&&(u.width(S-(D?180:0)),b.barColor()&&s.forEach(function(a,b){a.color=d3.rgb("#ccc").darker(1.5*b).toString()}),$.select(".nv-legendWrap").datum(s).call(u),f.top!=u.height()&&(f.top=u.height(),R=(q||parseInt(K.style("height"))||400)-f.top-f.bottom),$.select(".nv-legendWrap").attr("transform","translate("+(D?180:0)+","+-f.top+")"));if(D){var W=[{key:"Grouped",disabled:b.stacked()},{key:"Stacked",
disabled:!b.stacked()}];l.width(D?180:0).color(["#444","#444","#444"]);$.select(".nv-controlsWrap").datum(W).attr("transform","translate(0,"+-f.top+")").call(l)}V.attr("transform","translate("+f.left+","+f.top+")");b.disabled(s.map(function(a){return a.disabled})).width(S).height(R).color(s.map(function(a,b){return a.color||G(a,b)}).filter(function(a,b){return!s[b].disabled}));$.select(".nv-barsWrap").datum(s.filter(function(a){return!a.disabled})).transition().call(b);H&&(t.scale(N).ticks(R/24).tickSize(-S,
0),$.select(".nv-x.nv-axis").transition().call(t),$.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text"));F&&(z.scale(C).ticks(S/100).tickSize(-R,0),$.select(".nv-y.nv-axis").attr("transform","translate(0,"+R+")"),$.select(".nv-y.nv-axis").transition().call(z));$.select(".nv-zeroLine line").attr("x1",C(0)).attr("x2",C(0)).attr("y1",0).attr("y2",-R);u.dispatch.on("stateChange",function(b){P=b;T.stateChange(P);a.update()});l.dispatch.on("legendClick",function(f,l){if(f.disabled){W=W.map(function(a){a.disabled=
!0;return a});f.disabled=!1;switch(f.key){case "Grouped":b.stacked(!1);break;case "Stacked":b.stacked(!0)}P.stacked=b.stacked();T.stateChange(P);a.update()}});T.on("tooltipShow",function(f){if(L){var l=x.parentNode,n=f.pos[0]+(l.offsetLeft||0),s=f.pos[1]+(l.offsetTop||0),q=t.tickFormat()(b.x()(f.point,f.pointIndex)),u=z.tickFormat()(b.y()(f.point,f.pointIndex)),q=Q(f.series.key,q,u,f,a);r.tooltip.show([n,s],q,0>f.value?"e":"w",null,l)}});T.on("changeState",function(f){"undefined"!==typeof f.disabled&&
(s.forEach(function(a,b){a.disabled=f.disabled[b]}),P.disabled=f.disabled);"undefined"!==typeof f.stacked&&(b.stacked(f.stacked),P.stacked=f.stacked);a.update()})});return a}var b=r.models.multiBarHorizontal(),t=r.models.axis(),z=r.models.axis(),u=r.models.legend().height(30),l=r.models.legend().height(30),f={top:30,right:20,bottom:50,left:60},w=null,q=null,G=r.utils.defaultColor(),D=!0,A=!0,H=!0,F=!0,L=!0,Q=function(a,b,f,l,q){return"<h3>"+a+" - "+b+"</h3><p>"+f+"</p>"},N,C,P={stacked:!1},J=null,
M="No Data Available.",T=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),O=250;b.stacked(!1);t.orient("left").tickPadding(5).highlightZero(!1).showMaxMin(!1).tickFormat(function(a){return a});z.orient("bottom").tickFormat(d3.format(",.1f"));l.updateState(!1);b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+f.left,a.pos[1]+f.top];T.tooltipShow(a)});b.dispatch.on("elementMouseout.tooltip",function(a){T.tooltipHide(a)});T.on("tooltipHide",function(){L&&r.tooltip.cleanup()});
a.dispatch=T;a.multibar=b;a.legend=u;a.xAxis=t;a.yAxis=z;d3.rebind(a,b,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","delay","showValues","showBarLabels","valueFormat","stacked","barColor");a.options=r.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return f;f.top="undefined"!=typeof b.top?b.top:f.top;f.right="undefined"!=typeof b.right?b.right:f.right;f.bottom="undefined"!=typeof b.bottom?b.bottom:f.bottom;f.left="undefined"!=typeof b.left?b.left:
f.left;return a};a.width=function(b){if(!arguments.length)return w;w=b;return a};a.height=function(b){if(!arguments.length)return q;q=b;return a};a.color=function(b){if(!arguments.length)return G;G=r.utils.getColor(b);u.color(G);return a};a.showControls=function(b){if(!arguments.length)return D;D=b;return a};a.showLegend=function(b){if(!arguments.length)return A;A=b;return a};a.showXAxis=function(b){if(!arguments.length)return H;H=b;return a};a.showYAxis=function(b){if(!arguments.length)return F;
F=b;return a};a.tooltip=function(b){if(!arguments.length)return Q;Q=b;return a};a.tooltips=function(b){if(!arguments.length)return L;L=b;return a};a.tooltipContent=function(b){if(!arguments.length)return Q;Q=b;return a};a.state=function(b){if(!arguments.length)return P;P=b;return a};a.defaultState=function(b){if(!arguments.length)return J;J=b;return a};a.noData=function(b){if(!arguments.length)return M;M=b;return a};a.transitionDuration=function(b){if(!arguments.length)return O;O=b;return a};return a};
r.models.multiChart=function(){function a(B){B.each(function(B){var x=d3.select(this),S=this;a.update=function(){x.transition().call(a)};a.container=this;var R=(z||parseInt(x.style("width"))||960)-b.left-b.right,V=(u||parseInt(x.style("height"))||400)-b.top-b.bottom,n=B.filter(function(a){return!a.disabled&&"line"==a.type&&1==a.yAxis}),$=B.filter(function(a){return!a.disabled&&"line"==a.type&&2==a.yAxis}),W=B.filter(function(a){return!a.disabled&&"bar"==a.type&&1==a.yAxis}),k=B.filter(function(a){return!a.disabled&&
"bar"==a.type&&2==a.yAxis}),E=B.filter(function(a){return!a.disabled&&"area"==a.type&&1==a.yAxis}),X=B.filter(function(a){return!a.disabled&&"area"==a.type&&2==a.yAxis}),ia=B.filter(function(a){return!a.disabled&&1==a.yAxis}).map(function(a){return a.values.map(function(a,b){return{x:a.x,y:a.y}})}),ja=B.filter(function(a){return!a.disabled&&2==a.yAxis}).map(function(a){return a.values.map(function(a,b){return{x:a.x,y:a.y}})});q.domain(d3.extent(d3.merge(ia.concat(ja)),function(a){return a.x})).range([0,
R]);var Y=x.selectAll("g.wrap.multiChart").data([B]),ea=Y.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");ea.append("g").attr("class","x axis");ea.append("g").attr("class","y1 axis");ea.append("g").attr("class","y2 axis");ea.append("g").attr("class","lines1Wrap");ea.append("g").attr("class","lines2Wrap");ea.append("g").attr("class","bars1Wrap");ea.append("g").attr("class","bars2Wrap");ea.append("g").attr("class","stack1Wrap");ea.append("g").attr("class","stack2Wrap");ea.append("g").attr("class",
"legendWrap");Y=Y.select("g");l&&(O.width(R/2),Y.select(".legendWrap").datum(B.map(function(a){a.originalKey=void 0===a.originalKey?a.key:a.originalKey;a.key=a.originalKey+(1==a.yAxis?"":" (right axis)");return a})).call(O),b.top!=O.height()&&(b.top=O.height(),V=(u||parseInt(x.style("height"))||400)-b.top-b.bottom),Y.select(".legendWrap").attr("transform","translate("+R/2+","+-b.top+")"));F.width(R).height(V).interpolate("monotone").color(B.map(function(a,b){return a.color||t[b%t.length]}).filter(function(a,
b){return!B[b].disabled&&1==B[b].yAxis&&"line"==B[b].type}));L.width(R).height(V).interpolate("monotone").color(B.map(function(a,b){return a.color||t[b%t.length]}).filter(function(a,b){return!B[b].disabled&&2==B[b].yAxis&&"line"==B[b].type}));Q.width(R).height(V).color(B.map(function(a,b){return a.color||t[b%t.length]}).filter(function(a,b){return!B[b].disabled&&1==B[b].yAxis&&"bar"==B[b].type}));N.width(R).height(V).color(B.map(function(a,b){return a.color||t[b%t.length]}).filter(function(a,b){return!B[b].disabled&&
2==B[b].yAxis&&"bar"==B[b].type}));C.width(R).height(V).color(B.map(function(a,b){return a.color||t[b%t.length]}).filter(function(a,b){return!B[b].disabled&&1==B[b].yAxis&&"area"==B[b].type}));P.width(R).height(V).color(B.map(function(a,b){return a.color||t[b%t.length]}).filter(function(a,b){return!B[b].disabled&&2==B[b].yAxis&&"area"==B[b].type}));Y.attr("transform","translate("+b.left+","+b.top+")");var ea=Y.select(".lines1Wrap").datum(n),ka=Y.select(".bars1Wrap").datum(W),ba=Y.select(".stack1Wrap").datum(E),
da=Y.select(".lines2Wrap").datum($),la=Y.select(".bars2Wrap").datum(k),ca=Y.select(".stack2Wrap").datum(X),pa=E.length?E.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,f){return{x:a.x,y:a.y+b[f].y}})}).concat([{x:0,y:0}]):[],Na=X.length?X.map(function(a){return a.values}).reduce(function(a,b){return a.map(function(a,f){return{x:a.x,y:a.y+b[f].y}})}).concat([{x:0,y:0}]):[];A.domain(G||d3.extent(d3.merge(ia).concat(pa),function(a){return a.y})).range([0,V]);H.domain(D||
d3.extent(d3.merge(ja).concat(Na),function(a){return a.y})).range([0,V]);F.yDomain(A.domain());Q.yDomain(A.domain());C.yDomain(A.domain());L.yDomain(H.domain());N.yDomain(H.domain());P.yDomain(H.domain());E.length&&d3.transition(ba).call(C);X.length&&d3.transition(ca).call(P);W.length&&d3.transition(ka).call(Q);k.length&&d3.transition(la).call(N);n.length&&d3.transition(ea).call(F);$.length&&d3.transition(da).call(L);J.ticks(R/100).tickSize(-V,0);Y.select(".x.axis").attr("transform","translate(0,"+
V+")");d3.transition(Y.select(".x.axis")).call(J);M.ticks(V/36).tickSize(-R,0);d3.transition(Y.select(".y1.axis")).call(M);T.ticks(V/36).tickSize(-R,0);d3.transition(Y.select(".y2.axis")).call(T);Y.select(".y2.axis").style("opacity",ja.length?1:0).attr("transform","translate("+q.range()[1]+",0)");O.dispatch.on("stateChange",function(b){a.update()});s.on("tooltipShow",function(b){if(f){var k=S.parentNode,l=b.pos[0]+(k.offsetLeft||0),n=b.pos[1]+(k.offsetTop||0),q=J.tickFormat()(F.x()(b.point,b.pointIndex)),
s=(2==b.series.yAxis?T:M).tickFormat()(F.y()(b.point,b.pointIndex));b=w(b.series.key,q,s,b,a);r.tooltip.show([l,n],b,void 0,void 0,k.offsetParent)}})});return a}var b={top:30,right:20,bottom:50,left:60},t=d3.scale.category20().range(),z=null,u=null,l=!0,f=!0,w=function(a,b,f,l,q){return"<h3>"+a+"</h3><p>"+f+" at "+b+"</p>"},q,G,D;q=d3.scale.linear();var A=d3.scale.linear(),H=d3.scale.linear(),F=r.models.line().yScale(A),L=r.models.line().yScale(H),Q=r.models.multiBar().stacked(!1).yScale(A),N=r.models.multiBar().stacked(!1).yScale(H),
C=r.models.stackedArea().yScale(A),P=r.models.stackedArea().yScale(H),J=r.models.axis().scale(q).orient("bottom").tickPadding(5),M=r.models.axis().scale(A).orient("left"),T=r.models.axis().scale(H).orient("right"),O=r.models.legend().height(30),s=d3.dispatch("tooltipShow","tooltipHide");F.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];s.tooltipShow(a)});F.dispatch.on("elementMouseout.tooltip",function(a){s.tooltipHide(a)});L.dispatch.on("elementMouseover.tooltip",
function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];s.tooltipShow(a)});L.dispatch.on("elementMouseout.tooltip",function(a){s.tooltipHide(a)});Q.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];s.tooltipShow(a)});Q.dispatch.on("elementMouseout.tooltip",function(a){s.tooltipHide(a)});N.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];s.tooltipShow(a)});N.dispatch.on("elementMouseout.tooltip",function(a){s.tooltipHide(a)});
C.dispatch.on("tooltipShow",function(a){if(!Math.round(100*C.y()(a.point)))return setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1;a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];s.tooltipShow(a)});C.dispatch.on("tooltipHide",function(a){s.tooltipHide(a)});P.dispatch.on("tooltipShow",function(a){if(!Math.round(100*P.y()(a.point)))return setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1;a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];s.tooltipShow(a)});P.dispatch.on("tooltipHide",
function(a){s.tooltipHide(a)});F.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];s.tooltipShow(a)});F.dispatch.on("elementMouseout.tooltip",function(a){s.tooltipHide(a)});L.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];s.tooltipShow(a)});L.dispatch.on("elementMouseout.tooltip",function(a){s.tooltipHide(a)});s.on("tooltipHide",function(){f&&r.tooltip.cleanup()});a.dispatch=s;a.lines1=F;a.lines2=L;a.bars1=Q;a.bars2=
N;a.stack1=C;a.stack2=P;a.xAxis=J;a.yAxis1=M;a.yAxis2=T;a.options=r.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return getX;getX=b;F.x(b);Q.x(b);return a};a.y=function(b){if(!arguments.length)return getY;getY=b;F.y(b);Q.y(b);return a};a.yDomain1=function(b){if(!arguments.length)return G;G=b;return a};a.yDomain2=function(b){if(!arguments.length)return D;D=b;return a};a.margin=function(f){if(!arguments.length)return b;b=f;return a};a.width=function(b){if(!arguments.length)return z;
z=b;return a};a.height=function(b){if(!arguments.length)return u;u=b;return a};a.color=function(b){if(!arguments.length)return t;t=b;O.color(b);return a};a.showLegend=function(b){if(!arguments.length)return l;l=b;return a};a.tooltips=function(b){if(!arguments.length)return f;f=b;return a};a.tooltipContent=function(b){if(!arguments.length)return w;w=b;return a};return a};r.models.ohlcBar=function(){function a(s){s.each(function(a){var s=t-b.left-b.right,r=z-b.top-b.bottom,C=d3.select(this);l.domain(P||
d3.extent(a[0].values.map(w).concat(F)));Q?l.range(M||[.5*s/a[0].values.length,s*(a[0].values.length-.5)/a[0].values.length]):l.range(M||[0,s]);f.domain(J||[d3.min(a[0].values.map(H).concat(L)),d3.max(a[0].values.map(A).concat(L))]).range(T||[r,0]);l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]-.01*l.domain()[0],l.domain()[1]+.01*l.domain()[1]]):l.domain([-1,1]));f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):
f.domain([-1,1]));var R=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([a[0].values]),V=R.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),n=V.append("defs"),V=V.append("g"),$=R.select("g");V.append("g").attr("class","nv-ticks");R.attr("transform","translate("+b.left+","+b.top+")");C.on("click",function(a,b){O.chartClick({data:a,index:b,pos:d3.event,id:u})});n.append("clipPath").attr("id","nv-chart-clip-path-"+u).append("rect");R.select("#nv-chart-clip-path-"+u+" rect").attr("width",
s).attr("height",r);$.attr("clip-path",N?"url(#nv-chart-clip-path-"+u+")":"");r=R.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});r.exit().remove();r.enter().append("path").attr("class",function(a,b,f){return(G(a,b)>D(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+f+"-"+b}).attr("d",function(b,k){var l=s/a[0].values.length*.9;return"m0,0l0,"+(f(G(b,k))-f(A(b,k)))+"l"+-l/2+",0l"+l/2+",0l0,"+(f(H(b,k))-f(G(b,k)))+"l0,"+(f(D(b,k))-f(H(b,k)))+"l"+l/2+",0l"+-l/2+",0z"}).attr("transform",
function(a,b){return"translate("+l(w(a,b))+","+f(A(a,b))+")"}).on("mouseover",function(b,k){d3.select(this).classed("hover",!0);O.elementMouseover({point:b,series:a[0],pos:[l(w(b,k)),f(q(b,k))],pointIndex:k,seriesIndex:0,e:d3.event})}).on("mouseout",function(b,f){d3.select(this).classed("hover",!1);O.elementMouseout({point:b,series:a[0],pointIndex:f,seriesIndex:0,e:d3.event})}).on("click",function(a,b){O.elementClick({value:q(a,b),data:a,index:b,pos:[l(w(a,b)),f(q(a,b))],e:d3.event,id:u});d3.event.stopPropagation()}).on("dblclick",
function(a,b){O.elementDblClick({value:q(a,b),data:a,index:b,pos:[l(w(a,b)),f(q(a,b))],e:d3.event,id:u});d3.event.stopPropagation()});r.attr("class",function(a,b,f){return(G(a,b)>D(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+f+"-"+b});d3.transition(r).attr("transform",function(a,b){return"translate("+l(w(a,b))+","+f(A(a,b))+")"}).attr("d",function(b,k){var l=s/a[0].values.length*.9;return"m0,0l0,"+(f(G(b,k))-f(A(b,k)))+"l"+-l/2+",0l"+l/2+",0l0,"+(f(H(b,k))-f(G(b,k)))+"l0,"+(f(D(b,k))-
f(H(b,k)))+"l"+l/2+",0l"+-l/2+",0z"})});return a}var b={top:0,right:0,bottom:0,left:0},t=960,z=500,u=Math.floor(1E4*Math.random()),l=d3.scale.linear(),f=d3.scale.linear(),w=function(a){return a.x},q=function(a){return a.y},G=function(a){return a.open},D=function(a){return a.close},A=function(a){return a.high},H=function(a){return a.low},F=[],L=[],Q=!1,N=!0,C=r.utils.defaultColor(),P,J,M,T,O=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");a.dispatch=
O;a.options=r.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return w;w=b;return a};a.y=function(b){if(!arguments.length)return q;q=b;return a};a.open=function(b){if(!arguments.length)return G;G=b;return a};a.close=function(b){if(!arguments.length)return D;D=b;return a};a.high=function(b){if(!arguments.length)return A;A=b;return a};a.low=function(b){if(!arguments.length)return H;H=b;return a};a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:
b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return t;t=b;return a};a.height=function(b){if(!arguments.length)return z;z=b;return a};a.xScale=function(b){if(!arguments.length)return l;l=b;return a};a.yScale=function(b){if(!arguments.length)return f;f=b;return a};a.xDomain=function(b){if(!arguments.length)return P;P=b;return a};a.yDomain=
function(b){if(!arguments.length)return J;J=b;return a};a.xRange=function(b){if(!arguments.length)return M;M=b;return a};a.yRange=function(b){if(!arguments.length)return T;T=b;return a};a.forceX=function(b){if(!arguments.length)return F;F=b;return a};a.forceY=function(b){if(!arguments.length)return L;L=b;return a};a.padData=function(b){if(!arguments.length)return Q;Q=b;return a};a.clipEdge=function(b){if(!arguments.length)return N;N=b;return a};a.color=function(b){if(!arguments.length)return C;C=
r.utils.getColor(b);return a};a.id=function(b){if(!arguments.length)return u;u=b;return a};return a};r.models.pie=function(){function a(f){f.each(function(a){var f=t-b.left-b.right,r=z-b.top-b.bottom,K=Math.min(f,r)/2,x=K-K/5,G=d3.select(this);a=G.selectAll(".nv-wrap.nv-pie").data(a);var R=a.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+w).append("g"),T=a.select("g");R.append("g").attr("class","nv-pie");R.append("g").attr("class","nv-pieLabels");a.attr("transform","translate("+
b.left+","+b.top+")");T.select(".nv-pie").attr("transform","translate("+f/2+","+r/2+")");T.select(".nv-pieLabels").attr("transform","translate("+f/2+","+r/2+")");G.on("click",function(a,b){M.chartClick({data:a,index:b,pos:d3.event,id:w})});var n=d3.svg.arc().outerRadius(x);C&&n.startAngle(C);P&&n.endAngle(P);Q&&n.innerRadius(K*J);r=d3.layout.pie().sort(null).value(function(a){return a.disabled?0:l(a)});f=a.select(".nv-pie").selectAll(".nv-slice").data(r);a=a.select(".nv-pieLabels").selectAll(".nv-label").data(r);
f.exit().remove();a.exit().remove();r=f.enter().append("g").attr("class","nv-slice").on("mouseover",function(a,b){d3.select(this).classed("hover",!0);M.elementMouseover({label:u(a.data),value:l(a.data),point:a.data,pointIndex:b,pos:[d3.event.pageX,d3.event.pageY],id:w})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1);M.elementMouseout({label:u(a.data),value:l(a.data),point:a.data,index:b,id:w})}).on("click",function(a,b){M.elementClick({label:u(a.data),value:l(a.data),point:a.data,
index:b,pos:d3.event,id:w});d3.event.stopPropagation()}).on("dblclick",function(a,b){M.elementDblClick({label:u(a.data),value:l(a.data),point:a.data,index:b,pos:d3.event,id:w});d3.event.stopPropagation()});f.attr("fill",function(a,b){return q(a,b)}).attr("stroke",function(a,b){return q(a,b)});r.append("path").each(function(a){this._current=a});f.select("path").transition().attr("d",n).attrTween("d",function(a){a.endAngle=isNaN(a.endAngle)?0:a.endAngle;a.startAngle=isNaN(a.startAngle)?0:a.startAngle;
Q||(a.innerRadius=0);var b=d3.interpolate(this._current,a);this._current=b(0);return function(a){return n(b(a))}});if(D){var $=d3.svg.arc().innerRadius(0);A&&($=n);H&&($=d3.svg.arc().outerRadius(n.outerRadius()));a.enter().append("g").classed("nv-label",!0).each(function(a,b){var f=d3.select(this);f.attr("transform",function(a){if(N){a.outerRadius=x+10;a.innerRadius=x+15;var b=(a.startAngle+a.endAngle)/2*(180/Math.PI),b=(a.startAngle+a.endAngle)/2<Math.PI?b-90:b+90;return"translate("+$.centroid(a)+
") rotate("+b+")"}a.outerRadius=K+10;a.innerRadius=K+15;return"translate("+$.centroid(a)+")"});f.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3);f.append("text").style("text-anchor",N?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var W={},k=function(a){return 140*Math.floor(a[0]/140)+","+14*Math.floor(a[1]/14)};a.transition().attr("transform",function(a){if(N){a.outerRadius=x+10;a.innerRadius=x+15;var b=(a.startAngle+a.endAngle)/
2*(180/Math.PI),b=(a.startAngle+a.endAngle)/2<Math.PI?b-90:b+90;return"translate("+$.centroid(a)+") rotate("+b+")"}a.outerRadius=K+10;a.innerRadius=K+15;a=$.centroid(a);b=k(a);W[b]&&(a[1]-=14);W[k(a)]=!0;return"translate("+a+")"});a.select(".nv-label text").style("text-anchor",N?(d.startAngle+d.endAngle)/2<Math.PI?"start":"end":"middle").text(function(a,b){var f=(a.endAngle-a.startAngle)/(2*Math.PI),k={key:u(a.data),value:l(a.data),percent:d3.format("%")(f)};return a.value&&f>L?k[F]:""})}});return a}
var b={top:0,right:0,bottom:0,left:0},t=500,z=500,u=function(a){return a.x},l=function(a){return a.y},f=function(a){return a.description},w=Math.floor(1E4*Math.random()),q=r.utils.defaultColor(),G=d3.format(",.2f"),D=!0,A=!0,H=!1,F="key",L=.02,Q=!1,N=!1,C=!1,P=!1,J=.5,M=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");a.dispatch=M;a.options=r.utils.optionsFunc.bind(a);a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?
f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return t;t=b;return a};a.height=function(b){if(!arguments.length)return z;z=b;return a};a.values=function(b){r.log("pie.values() is no longer supported.");return a};a.x=function(b){if(!arguments.length)return u;u=b;return a};a.y=function(b){if(!arguments.length)return l;l=d3.functor(b);
return a};a.description=function(b){if(!arguments.length)return f;f=b;return a};a.showLabels=function(b){if(!arguments.length)return D;D=b;return a};a.labelSunbeamLayout=function(b){if(!arguments.length)return N;N=b;return a};a.donutLabelsOutside=function(b){if(!arguments.length)return H;H=b;return a};a.pieLabelsOutside=function(b){if(!arguments.length)return A;A=b;return a};a.labelType=function(b){if(!arguments.length)return F;F=(F=b)||"key";return a};a.donut=function(b){if(!arguments.length)return Q;
Q=b;return a};a.donutRatio=function(b){if(!arguments.length)return J;J=b;return a};a.startAngle=function(b){if(!arguments.length)return C;C=b;return a};a.endAngle=function(b){if(!arguments.length)return P;P=b;return a};a.id=function(b){if(!arguments.length)return w;w=b;return a};a.color=function(b){if(!arguments.length)return q;q=r.utils.getColor(b);return a};a.valueFormat=function(b){if(!arguments.length)return G;G=b;return a};a.labelThreshold=function(b){if(!arguments.length)return L;L=b;return a};
return a};r.models.pieChart=function(){function a(q){q.each(function(q){var r=d3.select(this),w=(u||parseInt(r.style("width"))||960)-z.left-z.right,L=(l||parseInt(r.style("height"))||400)-z.top-z.bottom;a.update=function(){r.transition().call(a)};a.container=this;D.disabled=q.map(function(a){return!!a.disabled});if(!A){var J;A={};for(J in D)A[J]=D[J]instanceof Array?D[J].slice(0):D[J]}if(q&&q.length)r.selectAll(".nv-noData").remove();else return J=r.selectAll(".nv-noData").data([H]),J.enter().append("text").attr("class",
"nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),J.attr("x",z.left+w/2).attr("y",z.top+L/2).text(function(a){return a}),a;J=r.selectAll("g.nv-wrap.nv-pieChart").data([q]);var G=J.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),T=J.select("g");G.append("g").attr("class","nv-pieWrap");G.append("g").attr("class","nv-legendWrap");f&&(t.width(w).key(b.x()),J.select(".nv-legendWrap").datum(q).call(t),z.top!=t.height()&&(z.top=t.height(),L=(l||parseInt(r.style("height"))||
400)-z.top-z.bottom),J.select(".nv-legendWrap").attr("transform","translate(0,"+-z.top+")"));J.attr("transform","translate("+z.left+","+z.top+")");b.width(w).height(L);w=T.select(".nv-pieWrap").datum([q]);d3.transition(w).call(b);t.dispatch.on("stateChange",function(b){D=b;F.stateChange(D);a.update()});b.dispatch.on("elementMouseout.tooltip",function(a){F.tooltipHide(a)});F.on("changeState",function(b){"undefined"!==typeof b.disabled&&(q.forEach(function(a,f){a.disabled=b.disabled[f]}),D.disabled=
b.disabled);a.update()})});return a}var b=r.models.pie(),t=r.models.legend(),z={top:30,right:20,bottom:20,left:20},u=null,l=null,f=!0,w=r.utils.defaultColor(),q=!0,G=function(a,b,f,l){return"<h3>"+a+"</h3><p>"+b+"</p>"},D={},A=null,H="No Data Available.",F=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");b.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+z.left,a.pos[1]+z.top];F.tooltipShow(a)});F.on("tooltipShow",function(f){if(q){var l=b.description()(f.point)||
b.x()(f.point),t=f.pos[0]+0,u=f.pos[1]+0,w=b.valueFormat()(b.y()(f.point)),l=G(l,w,f,a);r.tooltip.show([t,u],l,0>f.value?"n":"s",null,void 0)}});F.on("tooltipHide",function(){q&&r.tooltip.cleanup()});a.legend=t;a.dispatch=F;a.pie=b;d3.rebind(a,b,"valueFormat","values","x","y","description","id","showLabels","donutLabelsOutside","pieLabelsOutside","labelType","donut","donutRatio","labelThreshold");a.options=r.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return z;z.top="undefined"!=
typeof b.top?b.top:z.top;z.right="undefined"!=typeof b.right?b.right:z.right;z.bottom="undefined"!=typeof b.bottom?b.bottom:z.bottom;z.left="undefined"!=typeof b.left?b.left:z.left;return a};a.width=function(b){if(!arguments.length)return u;u=b;return a};a.height=function(b){if(!arguments.length)return l;l=b;return a};a.color=function(f){if(!arguments.length)return w;w=r.utils.getColor(f);t.color(w);b.color(w);return a};a.showLegend=function(b){if(!arguments.length)return f;f=b;return a};a.tooltips=
function(b){if(!arguments.length)return q;q=b;return a};a.tooltipContent=function(b){if(!arguments.length)return G;G=b;return a};a.state=function(b){if(!arguments.length)return D;D=b;return a};a.defaultState=function(b){if(!arguments.length)return A;A=b;return a};a.noData=function(b){if(!arguments.length)return H;H=b;return a};return a};r.models.scatter=function(){function a(Y){Y.each(function(a){var Y=t-b.left-b.right,ba=z-b.top-b.bottom,da=d3.select(this);a.forEach(function(a,b){a.values.forEach(function(a){a.series=
b})});var la=K&&x&&V?[]:d3.merge(a.map(function(a){return a.values.map(function(a,b){return{x:G(a,b),y:D(a,b),size:A(a,b)}})}));f.domain(K||d3.extent(la.map(function(a){return a.x}).concat(L)));M&&a[0]?f.range(S||[(Y*T+Y)/(2*a[0].values.length),Y-Y*(1+T)/(2*a[0].values.length)]):f.range(S||[0,Y]);w.domain(x||d3.extent(la.map(function(a){return a.y}).concat(Q))).range(R||[ba,0]);q.domain(V||d3.extent(la.map(function(a){return a.size}).concat(N))).range(n||[16,256]);if(f.domain()[0]===f.domain()[1]||
w.domain()[0]===w.domain()[1])$=!0;f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]):f.domain([-1,1]));w.domain()[0]===w.domain()[1]&&(w.domain()[0]?w.domain([w.domain()[0]-.01*w.domain()[0],w.domain()[1]+.01*w.domain()[1]]):w.domain([-1,1]));isNaN(f.domain()[0])&&f.domain([-1,1]);isNaN(w.domain()[0])&&w.domain([-1,1]);E=E||f;X=X||w;var ca=da.selectAll("g.nv-wrap.nv-scatter").data([a]),la=ca.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+
l+($?" nv-single-point":"")),da=la.append("defs"),la=la.append("g"),pa=ca.select("g");la.append("g").attr("class","nv-groups");la.append("g").attr("class","nv-point-paths");ca.attr("transform","translate("+b.left+","+b.top+")");da.append("clipPath").attr("id","nv-edge-clip-"+l).append("rect");ca.select("#nv-edge-clip-"+l+" rect").attr("width",Y).attr("height",0<ba?ba:0);pa.attr("clip-path",O?"url(#nv-edge-clip-"+l+")":"");ja=!0;Y=ca.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},
function(a){return a.key});Y.enter().append("g").style("stroke-opacity",1E-6).style("fill-opacity",1E-6);Y.exit().remove();Y.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover});Y.transition().style("fill",function(a,b){return u(a,b)}).style("stroke",function(a,b){return u(a,b)}).style("stroke-opacity",1).style("fill-opacity",.5);F?(ba=Y.selectAll("circle.nv-point").data(function(a){return a.values},P),ba.enter().append("circle").style("fill",function(a,
b){return a.color}).style("stroke",function(a,b){return a.color}).attr("cx",function(a,b){return r.utils.NaNtoZero(E(G(a,b)))}).attr("cy",function(a,b){return r.utils.NaNtoZero(X(D(a,b)))}).attr("r",function(a,b){return Math.sqrt(q(A(a,b))/Math.PI)}),ba.exit().remove(),Y.exit().selectAll("path.nv-point").transition().attr("cx",function(a,b){return r.utils.NaNtoZero(f(G(a,b)))}).attr("cy",function(a,b){return r.utils.NaNtoZero(w(D(a,b)))}).remove(),ba.each(function(a,b){d3.select(this).classed("nv-point",
!0).classed("nv-point-"+b,!0).classed("hover",!1)}),ba.transition().attr("cx",function(a,b){return r.utils.NaNtoZero(f(G(a,b)))}).attr("cy",function(a,b){return r.utils.NaNtoZero(w(D(a,b)))}).attr("r",function(a,b){return Math.sqrt(q(A(a,b))/Math.PI)})):(ba=Y.selectAll("path.nv-point").data(function(a){return a.values}),ba.enter().append("path").style("fill",function(a,b){return a.color}).style("stroke",function(a,b){return a.color}).attr("transform",function(a,b){return"translate("+E(G(a,b))+","+
X(D(a,b))+")"}).attr("d",d3.svg.symbol().type(H).size(function(a,b){return q(A(a,b))})),ba.exit().remove(),Y.exit().selectAll("path.nv-point").transition().attr("transform",function(a,b){return"translate("+f(G(a,b))+","+w(D(a,b))+")"}).remove(),ba.each(function(a,b){d3.select(this).classed("nv-point",!0).classed("nv-point-"+b,!0).classed("hover",!1)}),ba.transition().attr("transform",function(a,b){return"translate("+f(G(a,b))+","+w(D(a,b))+")"}).attr("d",d3.svg.symbol().type(H).size(function(a,b){return q(A(a,
b))})));clearTimeout(ia);ia=setTimeout(function(){if(!C)return!1;var n=d3.merge(a.map(function(a,b){return a.values.map(function(a,k){var l=G(a,k),n=D(a,k);return[f(l)+1E-7*Math.random(),w(n)+1E-7*Math.random(),b,k,a]}).filter(function(a,b){return J(a[4],b)})}));if(!0===k){if(s){ca.select("defs").selectAll(".nv-point-clips").data([l]).enter().append("clipPath").attr("class","nv-point-clips").attr("id","nv-points-clip-"+l);var q=ca.select("#nv-points-clip-"+l).selectAll("circle").data(n);q.enter().append("circle").attr("r",
B);q.exit().remove();q.attr("cx",function(a){return a[0]}).attr("cy",function(a){return a[1]});ca.select(".nv-point-paths").attr("clip-path","url(#nv-points-clip-"+l+")")}n.length&&(n.push([f.range()[0]-20,w.range()[0]-20,null,null]),n.push([f.range()[1]+20,w.range()[1]+20,null,null]),n.push([f.range()[0]-20,w.range()[0]+20,null,null]),n.push([f.range()[1]+20,w.range()[1]-20,null,null]));var r=d3.geom.polygon([[-10,-10],[-10,z+10],[t+10,z+10],[t+10,-10]]),q=d3.geom.voronoi(n).map(function(a,b){return{data:r.clip(a),
series:n[b][2],point:n[b][3]}}),q=ca.select(".nv-point-paths").selectAll("path").data(q);q.enter().append("path").attr("class",function(a,b){return"nv-path-"+b});q.exit().remove();q.attr("d",function(a){return 0===a.data.length?"M 0 0":"M"+a.data.join("L")+"Z"});var u=function(k,l){if(ja)return 0;var n=a[k.series];if("undefined"!==typeof n){var q=n.values[k.point];l({point:q,series:n,pos:[f(G(q,k.point))+b.left,w(D(q,k.point))+b.top],seriesIndex:k.series,pointIndex:k.point})}};q.on("click",function(a){u(a,
W.elementClick)}).on("mouseover",function(a){u(a,W.elementMouseover)}).on("mouseout",function(a,b){u(a,W.elementMouseout)})}else ca.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(k,l){if(ja||!a[k.series])return 0;var n=a[k.series],q=n.values[l];W.elementClick({point:q,series:n,pos:[f(G(q,l))+b.left,w(D(q,l))+b.top],seriesIndex:k.series,pointIndex:l})}).on("mouseover",function(k,l){if(ja||!a[k.series])return 0;var n=a[k.series],q=n.values[l];W.elementMouseover({point:q,
series:n,pos:[f(G(q,l))+b.left,w(D(q,l))+b.top],seriesIndex:k.series,pointIndex:l})}).on("mouseout",function(b,f){if(ja||!a[b.series])return 0;var k=a[b.series];W.elementMouseout({point:k.values[f],series:k,seriesIndex:b.series,pointIndex:f})});ja=!1},300);E=f.copy();X=w.copy();q.copy()});return a}var b={top:0,right:0,bottom:0,left:0},t=960,z=500,u=r.utils.defaultColor(),l=Math.floor(1E5*Math.random()),f=d3.scale.linear(),w=d3.scale.linear(),q=d3.scale.linear(),G=function(a){return a.x},D=function(a){return a.y},
A=function(a){return a.size||1},H=function(a){return a.shape||"circle"},F=!0,L=[],Q=[],N=[],C=!0,P=null,J=function(a){return!a.notActive},M=!1,T=.1,O=!1,s=!0,B=function(){return 25},K=null,x=null,S=null,R=null,V=null,n=null,$=!1,W=d3.dispatch("elementClick","elementMouseover","elementMouseout"),k=!0,E,X,ia,ja=!1;a.clearHighlights=function(){d3.selectAll(".nv-chart-"+l+" .nv-point.hover").classed("hover",!1)};a.highlightPoint=function(a,b,f){d3.select(".nv-chart-"+l+" .nv-series-"+a+" .nv-point-"+
b).classed("hover",f)};W.on("elementMouseover.point",function(b){C&&a.highlightPoint(b.seriesIndex,b.pointIndex,!0)});W.on("elementMouseout.point",function(b){C&&a.highlightPoint(b.seriesIndex,b.pointIndex,!1)});a.dispatch=W;a.options=r.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return G;G=d3.functor(b);return a};a.y=function(b){if(!arguments.length)return D;D=d3.functor(b);return a};a.size=function(b){if(!arguments.length)return A;A=d3.functor(b);return a};a.margin=function(f){if(!arguments.length)return b;
b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return t;t=b;return a};a.height=function(b){if(!arguments.length)return z;z=b;return a};a.xScale=function(b){if(!arguments.length)return f;f=b;return a};a.yScale=function(b){if(!arguments.length)return w;w=b;return a};a.zScale=function(b){if(!arguments.length)return q;
q=b;return a};a.xDomain=function(b){if(!arguments.length)return K;K=b;return a};a.yDomain=function(b){if(!arguments.length)return x;x=b;return a};a.sizeDomain=function(b){if(!arguments.length)return V;V=b;return a};a.xRange=function(b){if(!arguments.length)return S;S=b;return a};a.yRange=function(b){if(!arguments.length)return R;R=b;return a};a.sizeRange=function(b){if(!arguments.length)return n;n=b;return a};a.forceX=function(b){if(!arguments.length)return L;L=b;return a};a.forceY=function(b){if(!arguments.length)return Q;
Q=b;return a};a.forceSize=function(b){if(!arguments.length)return N;N=b;return a};a.interactive=function(b){if(!arguments.length)return C;C=b;return a};a.pointKey=function(b){if(!arguments.length)return P;P=b;return a};a.pointActive=function(b){if(!arguments.length)return J;J=b;return a};a.padData=function(b){if(!arguments.length)return M;M=b;return a};a.padDataOuter=function(b){if(!arguments.length)return T;T=b;return a};a.clipEdge=function(b){if(!arguments.length)return O;O=b;return a};a.clipVoronoi=
function(b){if(!arguments.length)return s;s=b;return a};a.useVoronoi=function(b){if(!arguments.length)return k;k=b;!1===k&&(s=!1);return a};a.clipRadius=function(b){if(!arguments.length)return B;B=b;return a};a.color=function(b){if(!arguments.length)return u;u=r.utils.getColor(b);return a};a.shape=function(b){if(!arguments.length)return H;H=b;return a};a.onlyCircles=function(b){if(!arguments.length)return F;F=b;return a};a.id=function(b){if(!arguments.length)return l;l=b;return a};a.singlePoint=function(b){if(!arguments.length)return $;
$=b;return a};return a};r.models.scatterChart=function(){function a(X){X.each(function(X){function ja(){if(B)return ca.select(".nv-point-paths").style("pointer-events","all"),!1;ca.select(".nv-point-paths").style("pointer-events","none");var a=d3.mouse(this);H.distortion(s).focus(a[0]);F.distortion(s).focus(a[1]);ca.select(".nv-scatterWrap").call(b);J&&ca.select(".nv-x.nv-axis").call(t);M&&ca.select(".nv-y.nv-axis").call(z);ca.select(".nv-distributionX").datum(X.filter(function(a){return!a.disabled})).call(f);
ca.select(".nv-distributionY").datum(X.filter(function(a){return!a.disabled})).call(w)}var Y=d3.select(this),ea=this,ka=(G||parseInt(Y.style("width"))||960)-q.left-q.right,ba=(D||parseInt(Y.style("height"))||400)-q.top-q.bottom;a.update=function(){Y.transition().duration(k).call(a)};a.container=this;V.disabled=X.map(function(a){return!!a.disabled});if(!n){var da;n={};for(da in V)n[da]=V[da]instanceof Array?V[da].slice(0):V[da]}if(X&&X.length&&X.filter(function(a){return a.values.length}).length)Y.selectAll(".nv-noData").remove();
else return da=Y.selectAll(".nv-noData").data([W]),da.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),da.attr("x",q.left+ka/2).attr("y",q.top+ba/2).text(function(a){return a}),a;da=Y.selectAll("g.nv-wrap.nv-scatterChart").data([X]);var la=da.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+b.id()).append("g"),ca=da.select("g");la.append("rect").attr("class","nvd3 nv-background");la.append("g").attr("class","nv-x nv-axis");
la.append("g").attr("class","nv-y nv-axis");la.append("g").attr("class","nv-scatterWrap");la.append("g").attr("class","nv-distWrap");la.append("g").attr("class","nv-legendWrap");la.append("g").attr("class","nv-controlsWrap");if(P){var pa=O?ka/2:ka;u.width(pa);da.select(".nv-legendWrap").datum(X).call(u);q.top!=u.height()&&(q.top=u.height(),ba=(D||parseInt(Y.style("height"))||400)-q.top-q.bottom);da.select(".nv-legendWrap").attr("transform","translate("+(ka-pa)+","+-q.top+")")}O&&(l.width(180).color(["#444"]),
ca.select(".nv-controlsWrap").datum(E).attr("transform","translate(0,"+-q.top+")").call(l));da.attr("transform","translate("+q.left+","+q.top+")");T&&ca.select(".nv-y.nv-axis").attr("transform","translate("+ka+",0)");b.width(ka).height(ba).color(X.map(function(a,b){return a.color||A(a,b)}).filter(function(a,b){return!X[b].disabled}));0!==L&&b.xDomain(null);0!==Q&&b.yDomain(null);da.select(".nv-scatterWrap").datum(X.filter(function(a){return!a.disabled})).call(b);0!==L&&(pa=H.domain()[1]-H.domain()[0],
b.xDomain([H.domain()[0]-L*pa,H.domain()[1]+L*pa]));0!==Q&&(pa=F.domain()[1]-F.domain()[0],b.yDomain([F.domain()[0]-Q*pa,F.domain()[1]+Q*pa]));0===Q&&0===L||da.select(".nv-scatterWrap").datum(X.filter(function(a){return!a.disabled})).call(b);J&&(t.scale(H).ticks(t.ticks()&&t.ticks().length?t.ticks():ka/100).tickSize(-ba,0),ca.select(".nv-x.nv-axis").attr("transform","translate(0,"+F.range()[0]+")").call(t));M&&(z.scale(F).ticks(z.ticks()&&z.ticks().length?z.ticks():ba/36).tickSize(-ka,0),ca.select(".nv-y.nv-axis").call(z));
N&&(f.getData(b.x()).scale(H).width(ka).color(X.map(function(a,b){return a.color||A(a,b)}).filter(function(a,b){return!X[b].disabled})),la.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),ca.select(".nv-distributionX").attr("transform","translate(0,"+F.range()[0]+")").datum(X.filter(function(a){return!a.disabled})).call(f));C&&(w.getData(b.y()).scale(F).width(ba).color(X.map(function(a,b){return a.color||A(a,b)}).filter(function(a,b){return!X[b].disabled})),la.select(".nv-distWrap").append("g").attr("class",
"nv-distributionY"),ca.select(".nv-distributionY").attr("transform","translate("+(T?ka:-w.size())+",0)").datum(X.filter(function(a){return!a.disabled})).call(w));d3.fisheye&&(ca.select(".nv-background").attr("width",ka).attr("height",ba),ca.select(".nv-background").on("mousemove",ja),ca.select(".nv-background").on("click",function(){B=!B}),b.dispatch.on("elementClick.freezeFisheye",function(){B=!B}));l.dispatch.on("legendClick",function(f,k){f.disabled=!f.disabled;s=f.disabled?0:2.5;ca.select(".nv-background").style("pointer-events",
f.disabled?"none":"all");ca.select(".nv-point-paths").style("pointer-events",f.disabled?"all":"none");f.disabled?(H.distortion(s).focus(0),F.distortion(s).focus(0),ca.select(".nv-scatterWrap").call(b),ca.select(".nv-x.nv-axis").call(t),ca.select(".nv-y.nv-axis").call(z)):B=!1;a.update()});u.dispatch.on("stateChange",function(b){V.disabled=b.disabled;$.stateChange(V);a.update()});b.dispatch.on("elementMouseover.tooltip",function(a){d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+
a.pointIndex).attr("y1",function(b,f){return a.pos[1]-ba});d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.pos[0]+f.size());a.pos=[a.pos[0]+q.left,a.pos[1]+q.top];$.tooltipShow(a)});$.on("tooltipShow",function(f){if(K){var k=ea.parentNode,l=f.pos[0]+(k.offsetLeft||0),n=f.pos[1]+(k.offsetTop||0),s=f.pos[0]+(k.offsetLeft||0),u=F.range()[0]+q.top+(k.offsetTop||0),w=H.range()[0]+q.left+(k.offsetLeft||0),A=f.pos[1]+(k.offsetTop||0),C=t.tickFormat()(b.x()(f.point,
f.pointIndex)),B=z.tickFormat()(b.y()(f.point,f.pointIndex));null!=x&&r.tooltip.show([s,u],x(f.series.key,C,B,f,a),"n",1,k,"x-nvtooltip");null!=S&&r.tooltip.show([w,A],S(f.series.key,C,B,f,a),"e",1,k,"y-nvtooltip");null!=R&&r.tooltip.show([l,n],R(f.series.key,C,B,f,a),0>f.value?"n":"s",null,k)}});$.on("changeState",function(b){"undefined"!==typeof b.disabled&&(X.forEach(function(a,f){a.disabled=b.disabled[f]}),V.disabled=b.disabled);a.update()});H.copy();F.copy()});return a}var b=r.models.scatter(),
t=r.models.axis(),z=r.models.axis(),u=r.models.legend(),l=r.models.legend(),f=r.models.distribution(),w=r.models.distribution(),q={top:30,right:20,bottom:50,left:75},G=null,D=null,A=r.utils.defaultColor(),H=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):b.xScale(),F=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):b.yScale(),L=0,Q=0,N=!1,C=!1,P=!0,J=!0,M=!0,T=!1,O=!!d3.fisheye,s=0,B=!1,K=!0,x=function(a,b,f){return"<strong>"+b+"</strong>"},S=function(a,b,f){return"<strong>"+
f+"</strong>"},R=null,V={},n=null,$=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),W="No Data Available.",k=250;b.xScale(H).yScale(F);t.orient("bottom").tickPadding(10);z.orient(T?"right":"left").tickPadding(10);f.axis("x");w.axis("y");l.updateState(!1);var E=[{key:"Magnify",disabled:!0}];b.dispatch.on("elementMouseout.tooltip",function(a){$.tooltipHide(a);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",0);d3.select(".nv-chart-"+
b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",w.size())});$.on("tooltipHide",function(){K&&r.tooltip.cleanup()});a.dispatch=$;a.scatter=b;a.legend=u;a.controls=l;a.xAxis=t;a.yAxis=z;a.distX=f;a.distY=w;d3.rebind(a,b,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi");a.options=r.utils.optionsFunc.bind(a);a.margin=
function(b){if(!arguments.length)return q;q.top="undefined"!=typeof b.top?b.top:q.top;q.right="undefined"!=typeof b.right?b.right:q.right;q.bottom="undefined"!=typeof b.bottom?b.bottom:q.bottom;q.left="undefined"!=typeof b.left?b.left:q.left;return a};a.width=function(b){if(!arguments.length)return G;G=b;return a};a.height=function(b){if(!arguments.length)return D;D=b;return a};a.color=function(b){if(!arguments.length)return A;A=r.utils.getColor(b);u.color(A);f.color(A);w.color(A);return a};a.showDistX=
function(b){if(!arguments.length)return N;N=b;return a};a.showDistY=function(b){if(!arguments.length)return C;C=b;return a};a.showControls=function(b){if(!arguments.length)return O;O=b;return a};a.showLegend=function(b){if(!arguments.length)return P;P=b;return a};a.showXAxis=function(b){if(!arguments.length)return J;J=b;return a};a.showYAxis=function(b){if(!arguments.length)return M;M=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return T;T=b;z.orient(b?"right":"left");return a};
a.fisheye=function(b){if(!arguments.length)return s;s=b;return a};a.xPadding=function(b){if(!arguments.length)return L;L=b;return a};a.yPadding=function(b){if(!arguments.length)return Q;Q=b;return a};a.tooltips=function(b){if(!arguments.length)return K;K=b;return a};a.tooltipContent=function(b){if(!arguments.length)return R;R=b;return a};a.tooltipXContent=function(b){if(!arguments.length)return x;x=b;return a};a.tooltipYContent=function(b){if(!arguments.length)return S;S=b;return a};a.state=function(b){if(!arguments.length)return V;
V=b;return a};a.defaultState=function(b){if(!arguments.length)return n;n=b;return a};a.noData=function(b){if(!arguments.length)return W;W=b;return a};a.transitionDuration=function(b){if(!arguments.length)return k;k=b;return a};return a};r.models.scatterPlusLineChart=function(){function a(k){k.each(function(k){function X(){if(O)return da.select(".nv-point-paths").style("pointer-events","all"),!1;da.select(".nv-point-paths").style("pointer-events","none");var a=d3.mouse(this);H.distortion(T).focus(a[0]);
F.distortion(T).focus(a[1]);da.select(".nv-scatterWrap").datum(k.filter(function(a){return!a.disabled})).call(b);C&&da.select(".nv-x.nv-axis").call(t);P&&da.select(".nv-y.nv-axis").call(z);da.select(".nv-distributionX").datum(k.filter(function(a){return!a.disabled})).call(f);da.select(".nv-distributionY").datum(k.filter(function(a){return!a.disabled})).call(w)}var ia=d3.select(this),ja=this,Y=(G||parseInt(ia.style("width"))||960)-q.left-q.right,ea=(D||parseInt(ia.style("height"))||400)-q.top-q.bottom;
a.update=function(){ia.transition().duration($).call(a)};a.container=this;S.disabled=k.map(function(a){return!!a.disabled});if(!R){var ka;R={};for(ka in S)R[ka]=S[ka]instanceof Array?S[ka].slice(0):S[ka]}if(k&&k.length&&k.filter(function(a){return a.values.length}).length)ia.selectAll(".nv-noData").remove();else return ka=ia.selectAll(".nv-noData").data([n]),ka.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),ka.attr("x",q.left+Y/2).attr("y",q.top+
ea/2).text(function(a){return a}),a;H=b.xScale();F=b.yScale();var ba=ia.selectAll("g.nv-wrap.nv-scatterChart").data([k]);ka=ba.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+b.id()).append("g");var da=ba.select("g");ka.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none");ka.append("g").attr("class","nv-x nv-axis");ka.append("g").attr("class","nv-y nv-axis");ka.append("g").attr("class","nv-scatterWrap");ka.append("g").attr("class","nv-regressionLinesWrap");
ka.append("g").attr("class","nv-distWrap");ka.append("g").attr("class","nv-legendWrap");ka.append("g").attr("class","nv-controlsWrap");ba.attr("transform","translate("+q.left+","+q.top+")");J&&da.select(".nv-y.nv-axis").attr("transform","translate("+Y+",0)");N&&(u.width(Y/2),ba.select(".nv-legendWrap").datum(k).call(u),q.top!=u.height()&&(q.top=u.height(),ea=(D||parseInt(ia.style("height"))||400)-q.top-q.bottom),ba.select(".nv-legendWrap").attr("transform","translate("+Y/2+","+-q.top+")"));M&&(l.width(180).color(["#444"]),
da.select(".nv-controlsWrap").datum(W).attr("transform","translate(0,"+-q.top+")").call(l));b.width(Y).height(ea).color(k.map(function(a,b){return a.color||A(a,b)}).filter(function(a,b){return!k[b].disabled}));ba.select(".nv-scatterWrap").datum(k.filter(function(a){return!a.disabled})).call(b);ba.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+b.id()+")");ba=ba.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(a){return a});ba.enter().append("g").attr("class",
"nv-regLines");ba=ba.selectAll(".nv-regLine").data(function(a){return[a]});ba.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0);ba.transition().attr("x1",H.range()[0]).attr("x2",H.range()[1]).attr("y1",function(a,b){return F(H.domain()[0]*a.slope+a.intercept)}).attr("y2",function(a,b){return F(H.domain()[1]*a.slope+a.intercept)}).style("stroke",function(a,b,f){return A(a,f)}).style("stroke-opacity",function(a,b){return a.disabled||"undefined"===typeof a.slope||"undefined"===
typeof a.intercept?0:1});C&&(t.scale(H).ticks(t.ticks()?t.ticks():Y/100).tickSize(-ea,0),da.select(".nv-x.nv-axis").attr("transform","translate(0,"+F.range()[0]+")").call(t));P&&(z.scale(F).ticks(z.ticks()?z.ticks():ea/36).tickSize(-Y,0),da.select(".nv-y.nv-axis").call(z));L&&(f.getData(b.x()).scale(H).width(Y).color(k.map(function(a,b){return a.color||A(a,b)}).filter(function(a,b){return!k[b].disabled})),ka.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),da.select(".nv-distributionX").attr("transform",
"translate(0,"+F.range()[0]+")").datum(k.filter(function(a){return!a.disabled})).call(f));Q&&(w.getData(b.y()).scale(F).width(ea).color(k.map(function(a,b){return a.color||A(a,b)}).filter(function(a,b){return!k[b].disabled})),ka.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),da.select(".nv-distributionY").attr("transform","translate("+(J?Y:-w.size())+",0)").datum(k.filter(function(a){return!a.disabled})).call(w));d3.fisheye&&(da.select(".nv-background").attr("width",Y).attr("height",
ea),da.select(".nv-background").on("mousemove",X),da.select(".nv-background").on("click",function(){O=!O}),b.dispatch.on("elementClick.freezeFisheye",function(){O=!O}));l.dispatch.on("legendClick",function(f,k){f.disabled=!f.disabled;T=f.disabled?0:2.5;da.select(".nv-background").style("pointer-events",f.disabled?"none":"all");da.select(".nv-point-paths").style("pointer-events",f.disabled?"all":"none");f.disabled?(H.distortion(T).focus(0),F.distortion(T).focus(0),da.select(".nv-scatterWrap").call(b),
da.select(".nv-x.nv-axis").call(t),da.select(".nv-y.nv-axis").call(z)):O=!1;a.update()});u.dispatch.on("stateChange",function(b){S=b;V.stateChange(S);a.update()});b.dispatch.on("elementMouseover.tooltip",function(a){d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.pos[1]-ea);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.pos[0]+f.size());a.pos=[a.pos[0]+q.left,a.pos[1]+q.top];V.tooltipShow(a)});V.on("tooltipShow",
function(f){if(s){var k=ja.parentNode,l=f.pos[0]+(k.offsetLeft||0),n=f.pos[1]+(k.offsetTop||0),u=f.pos[0]+(k.offsetLeft||0),w=F.range()[0]+q.top+(k.offsetTop||0),A=H.range()[0]+q.left+(k.offsetLeft||0),C=f.pos[1]+(k.offsetTop||0),E=t.tickFormat()(b.x()(f.point,f.pointIndex)),D=z.tickFormat()(b.y()(f.point,f.pointIndex));null!=B&&r.tooltip.show([u,w],B(f.series.key,E,D,f,a),"n",1,k,"x-nvtooltip");null!=K&&r.tooltip.show([A,C],K(f.series.key,E,D,f,a),"e",1,k,"y-nvtooltip");null!=x&&r.tooltip.show([l,
n],x(f.series.key,E,D,f.point.tooltip,f,a),0>f.value?"n":"s",null,k)}});V.on("changeState",function(b){"undefined"!==typeof b.disabled&&(k.forEach(function(a,f){a.disabled=b.disabled[f]}),S.disabled=b.disabled);a.update()});H.copy();F.copy()});return a}var b=r.models.scatter(),t=r.models.axis(),z=r.models.axis(),u=r.models.legend(),l=r.models.legend(),f=r.models.distribution(),w=r.models.distribution(),q={top:30,right:20,bottom:50,left:75},G=null,D=null,A=r.utils.defaultColor(),H=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):
b.xScale(),F=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):b.yScale(),L=!1,Q=!1,N=!0,C=!0,P=!0,J=!1,M=!!d3.fisheye,T=0,O=!1,s=!0,B=function(a,b,f){return"<strong>"+b+"</strong>"},K=function(a,b,f){return"<strong>"+f+"</strong>"},x=function(a,b,f,l){return"<h3>"+a+"</h3><p>"+l+"</p>"},S={},R=null,V=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),n="No Data Available.",$=250;b.xScale(H).yScale(F);t.orient("bottom").tickPadding(10);z.orient(J?"right":"left").tickPadding(10);
f.axis("x");w.axis("y");l.updateState(!1);var W=[{key:"Magnify",disabled:!0}];b.dispatch.on("elementMouseout.tooltip",function(a){V.tooltipHide(a);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",0);d3.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",w.size())});V.on("tooltipHide",function(){s&&r.tooltip.cleanup()});a.dispatch=V;a.scatter=b;a.legend=u;a.controls=l;a.xAxis=t;a.yAxis=z;a.distX=f;a.distY=w;d3.rebind(a,
b,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi");a.options=r.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return q;q.top="undefined"!=typeof b.top?b.top:q.top;q.right="undefined"!=typeof b.right?b.right:q.right;q.bottom="undefined"!=typeof b.bottom?b.bottom:q.bottom;q.left="undefined"!=typeof b.left?b.left:
q.left;return a};a.width=function(b){if(!arguments.length)return G;G=b;return a};a.height=function(b){if(!arguments.length)return D;D=b;return a};a.color=function(b){if(!arguments.length)return A;A=r.utils.getColor(b);u.color(A);f.color(A);w.color(A);return a};a.showDistX=function(b){if(!arguments.length)return L;L=b;return a};a.showDistY=function(b){if(!arguments.length)return Q;Q=b;return a};a.showControls=function(b){if(!arguments.length)return M;M=b;return a};a.showLegend=function(b){if(!arguments.length)return N;
N=b;return a};a.showXAxis=function(b){if(!arguments.length)return C;C=b;return a};a.showYAxis=function(b){if(!arguments.length)return P;P=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return J;J=b;z.orient(b?"right":"left");return a};a.fisheye=function(b){if(!arguments.length)return T;T=b;return a};a.tooltips=function(b){if(!arguments.length)return s;s=b;return a};a.tooltipContent=function(b){if(!arguments.length)return x;x=b;return a};a.tooltipXContent=function(b){if(!arguments.length)return B;
B=b;return a};a.tooltipYContent=function(b){if(!arguments.length)return K;K=b;return a};a.state=function(b){if(!arguments.length)return S;S=b;return a};a.defaultState=function(b){if(!arguments.length)return R;R=b;return a};a.noData=function(b){if(!arguments.length)return n;n=b;return a};a.transitionDuration=function(b){if(!arguments.length)return $;$=b;return a};return a};r.models.sparkline=function(){function a(r){r.each(function(a){var r=t-b.left-b.right,u=z-b.top-b.bottom,L=d3.select(this);l.domain(D||
d3.extent(a,w)).range(H||[0,r]);f.domain(A||d3.extent(a,q)).range(F||[u,0]);a=L.selectAll("g.nv-wrap.nv-sparkline").data([a]);a.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g");a.select("g");a.attr("transform","translate("+b.left+","+b.top+")");r=a.selectAll("path").data(function(a){return[a]});r.enter().append("path");r.exit().remove();r.style("stroke",function(a,b){return a.color||G(a,b)}).attr("d",d3.svg.line().x(function(a,b){return l(w(a,b))}).y(function(a,b){return f(q(a,
b))}));a=a.selectAll("circle.nv-point").data(function(a){function b(f){if(-1!=f){var l=a[f];l.pointIndex=f;return l}return null}var l=a.map(function(a,b){return q(a,b)}),r=b(l.lastIndexOf(f.domain()[1])),t=b(l.indexOf(f.domain()[0])),l=b(l.length-1);return[t,r,l].filter(function(a){return null!=a})});a.enter().append("circle");a.exit().remove();a.attr("cx",function(a,b){return l(w(a,a.pointIndex))}).attr("cy",function(a,b){return f(q(a,a.pointIndex))}).attr("r",2).attr("class",function(a,b){return w(a,
a.pointIndex)==l.domain()[1]?"nv-point nv-currentValue":q(a,a.pointIndex)==f.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})});return a}var b={top:2,right:0,bottom:2,left:0},t=400,z=32,u=!0,l=d3.scale.linear(),f=d3.scale.linear(),w=function(a){return a.x},q=function(a){return a.y},G=r.utils.getColor(["#000"]),D,A,H,F;a.options=r.utils.optionsFunc.bind(a);a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?f.top:b.top;b.right="undefined"!=typeof f.right?f.right:
b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return t;t=b;return a};a.height=function(b){if(!arguments.length)return z;z=b;return a};a.x=function(b){if(!arguments.length)return w;w=d3.functor(b);return a};a.y=function(b){if(!arguments.length)return q;q=d3.functor(b);return a};a.xScale=function(b){if(!arguments.length)return l;l=b;return a};a.yScale=function(b){if(!arguments.length)return f;
f=b;return a};a.xDomain=function(b){if(!arguments.length)return D;D=b;return a};a.yDomain=function(b){if(!arguments.length)return A;A=b;return a};a.xRange=function(b){if(!arguments.length)return H;H=b;return a};a.yRange=function(b){if(!arguments.length)return F;F=b;return a};a.animate=function(b){if(!arguments.length)return u;u=b;return a};a.color=function(b){if(!arguments.length)return G;G=r.utils.getColor(b);return a};return a};r.models.sparklinePlus=function(){function a(r){r.each(function(A){function C(){if(!q){var a=
s.selectAll(".nv-hoverValue").data(w),f=a.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);a.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove();a.attr("transform",function(a){return"translate("+l(b.x()(A[a],a))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1);w.length&&(f.append("line").attr("x1",0).attr("y1",-t.top).attr("x2",0).attr("y2",M),f.append("text").attr("class",
"nv-xValue").attr("x",-6).attr("y",-t.top).attr("text-anchor","end").attr("dy",".9em"),s.select(".nv-hoverValue .nv-xValue").text(G(b.x()(A[w[0]],w[0]))),f.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-t.top).attr("text-anchor","start").attr("dy",".9em"),s.select(".nv-hoverValue .nv-yValue").text(D(b.y()(A[w[0]],w[0]))))}}var P=d3.select(this),J=(z||parseInt(P.style("width"))||960)-t.left-t.right,M=(u||parseInt(P.style("height"))||400)-t.top-t.bottom;a.update=function(){a(r)};a.container=
this;if(A&&A.length)P.selectAll(".nv-noData").remove();else{var T=P.selectAll(".nv-noData").data([L]);T.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");T.attr("x",t.left+J/2).attr("y",t.top+M/2).text(function(a){return a});return a}T=b.y()(A[A.length-1],A.length-1);l=b.xScale();f=b.yScale();var O=P.selectAll("g.nv-wrap.nv-sparklineplus").data([A]),P=O.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),s=O.select("g");
P.append("g").attr("class","nv-sparklineWrap");P.append("g").attr("class","nv-valueWrap");P.append("g").attr("class","nv-hoverArea");O.attr("transform","translate("+t.left+","+t.top+")");O=s.select(".nv-sparklineWrap");b.width(J).height(M);O.call(b);O=s.select(".nv-valueWrap").selectAll(".nv-currentValue").data([T]);O.enter().append("text").attr("class","nv-currentValue").attr("dx",F?-8:8).attr("dy",".9em").style("text-anchor",F?"end":"start");O.attr("x",J+(F?t.right:0)).attr("y",H?function(a){return f(a)}:
0).style("fill",b.color()(A[A.length-1],A.length-1)).text(D(T));P.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!q){for(var a=d3.mouse(this)[0]-t.left,a=Math.round(l.invert(a)),f=Math.abs(b.x()(A[0],0)-a),r=0,s=0;s<A.length;s++)Math.abs(b.x()(A[s],s)-a)<f&&(f=Math.abs(b.x()(A[s],s)-a),r=s);w=[r];C()}}).on("click",function(){q=!q}).on("mouseout",function(){w=[];C()});s.select(".nv-hoverArea rect").attr("transform",function(a){return"translate("+-t.left+","+-t.top+")"}).attr("width",
J+t.left+t.right).attr("height",M+t.top)});return a}var b=r.models.sparkline(),t={top:15,right:100,bottom:10,left:50},z=null,u=null,l,f,w=[],q=!1,G=d3.format(",r"),D=d3.format(",.2f"),A=!0,H=!0,F=!1,L="No Data Available.";a.sparkline=b;d3.rebind(a,b,"x","y","xScale","yScale","color");a.options=r.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return t;t.top="undefined"!=typeof b.top?b.top:t.top;t.right="undefined"!=typeof b.right?b.right:t.right;t.bottom="undefined"!=typeof b.bottom?
b.bottom:t.bottom;t.left="undefined"!=typeof b.left?b.left:t.left;return a};a.width=function(b){if(!arguments.length)return z;z=b;return a};a.height=function(b){if(!arguments.length)return u;u=b;return a};a.xTickFormat=function(b){if(!arguments.length)return G;G=b;return a};a.yTickFormat=function(b){if(!arguments.length)return D;D=b;return a};a.showValue=function(b){if(!arguments.length)return A;A=b;return a};a.alignValue=function(b){if(!arguments.length)return H;H=b;return a};a.rightAlignValue=function(b){if(!arguments.length)return F;
F=b;return a};a.noData=function(b){if(!arguments.length)return L;L=b;return a};return a};r.models.stackedArea=function(){function a(q){q.each(function(q){var r=t-b.left-b.right,C=z-b.top-b.bottom,T=d3.select(this);F=Q.xScale();L=Q.yScale();var O=q;q.forEach(function(a,b){a.seriesIndex=b;a.values=a.values.map(function(a,f){a.index=f;a.seriesIndex=b;return a})});q=q.filter(function(a){return!a.disabled});q=d3.layout.stack().order(D).offset(G).values(function(a){return a.values}).x(f).y(w).out(function(a,
b,f){f=0===w(a)?0:f;a.display={y:f,y0:b}})(q);var T=T.selectAll("g.nv-wrap.nv-stackedarea").data([q]),s=T.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),B=s.append("defs"),s=s.append("g"),K=T.select("g");s.append("g").attr("class","nv-areaWrap");s.append("g").attr("class","nv-scatterWrap");T.attr("transform","translate("+b.left+","+b.top+")");Q.width(r).height(C).x(f).y(function(a){return a.display.y+a.display.y0}).forceY([0]).color(q.map(function(a,b){return a.color||u(a,a.seriesIndex)}));
K.select(".nv-scatterWrap").datum(q).call(Q);B.append("clipPath").attr("id","nv-edge-clip-"+l).append("rect");T.select("#nv-edge-clip-"+l+" rect").attr("width",r).attr("height",C);K.attr("clip-path",H?"url(#nv-edge-clip-"+l+")":"");var x=d3.svg.area().x(function(a,b){return F(f(a,b))}).y0(function(a){return L(a.display.y0)}).y1(function(a){return L(a.display.y+a.display.y0)}).interpolate(A),S=d3.svg.area().x(function(a,b){return F(f(a,b))}).y0(function(a){return L(a.display.y0)}).y1(function(a){return L(a.display.y0)}),
r=K.select(".nv-areaWrap").selectAll("path.nv-area").data(function(a){return a});r.enter().append("path").attr("class",function(a,b){return"nv-area nv-area-"+b}).attr("d",function(a,b){return S(a.values,a.seriesIndex)}).on("mouseover",function(a,b){d3.select(this).classed("hover",!0);N.areaMouseover({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1);N.areaMouseout({point:a,series:a.key,pos:[d3.event.pageX,
d3.event.pageY],seriesIndex:a.seriesIndex})}).on("click",function(a,b){d3.select(this).classed("hover",!1);N.areaClick({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})});r.exit().remove();r.style("fill",function(a,b){return a.color||u(a,a.seriesIndex)}).style("stroke",function(a,b){return a.color||u(a,a.seriesIndex)});r.transition().attr("d",function(a,b){return x(a.values,b)});Q.dispatch.on("elementMouseover.area",function(a){K.select(".nv-chart-"+l+" .nv-area-"+
a.seriesIndex).classed("hover",!0)});Q.dispatch.on("elementMouseout.area",function(a){K.select(".nv-chart-"+l+" .nv-area-"+a.seriesIndex).classed("hover",!1)});a.d3_stackedOffset_stackPercent=function(a){var b=a.length,f=a[0].length,l=1/b,q,k,r,t=[];for(k=0;k<f;++k){for(r=q=0;q<O.length;q++)r+=w(O[q].values[k]);if(r)for(q=0;q<b;q++)a[q][k][1]/=r;else for(q=0;q<b;q++)a[q][k][1]=l}for(k=0;k<f;++k)t[k]=0;return t}});return a}var b={top:0,right:0,bottom:0,left:0},t=960,z=500,u=r.utils.defaultColor(),
l=Math.floor(1E5*Math.random()),f=function(a){return a.x},w=function(a){return a.y},q="stack",G="zero",D="default",A="linear",H=!1,F,L,Q=r.models.scatter(),N=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout");Q.size(2.2).sizeDomain([2.2,2.2]);Q.dispatch.on("elementClick.area",function(a){N.areaClick(a)});Q.dispatch.on("elementMouseover.tooltip",function(a){a.pos=[a.pos[0]+b.left,a.pos[1]+b.top];N.tooltipShow(a)});Q.dispatch.on("elementMouseout.tooltip",function(a){N.tooltipHide(a)});
a.dispatch=N;a.scatter=Q;d3.rebind(a,Q,"interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","highlightPoint","clearHighlights");a.options=r.utils.optionsFunc.bind(a);a.x=function(b){if(!arguments.length)return f;f=d3.functor(b);return a};a.y=function(b){if(!arguments.length)return w;w=d3.functor(b);return a};a.margin=function(f){if(!arguments.length)return b;b.top="undefined"!=typeof f.top?
f.top:b.top;b.right="undefined"!=typeof f.right?f.right:b.right;b.bottom="undefined"!=typeof f.bottom?f.bottom:b.bottom;b.left="undefined"!=typeof f.left?f.left:b.left;return a};a.width=function(b){if(!arguments.length)return t;t=b;return a};a.height=function(b){if(!arguments.length)return z;z=b;return a};a.clipEdge=function(b){if(!arguments.length)return H;H=b;return a};a.color=function(b){if(!arguments.length)return u;u=r.utils.getColor(b);return a};a.offset=function(b){if(!arguments.length)return G;
G=b;return a};a.order=function(b){if(!arguments.length)return D;D=b;return a};a.style=function(b){if(!arguments.length)return q;q=b;switch(q){case "stack":a.offset("zero");a.order("default");break;case "stream":a.offset("wiggle");a.order("inside-out");break;case "stream-center":a.offset("silhouette");a.order("inside-out");break;case "expand":a.offset("expand");a.order("default");break;case "stack_percent":a.offset(a.d3_stackedOffset_stackPercent),a.order("default")}return a};a.interpolate=function(b){if(!arguments.length)return A;
A=b;return a};return a};r.models.stackedAreaChart=function(){function a(n){n.each(function(n){var W=d3.select(this),k=this,E=(q||parseInt(W.style("width"))||960)-w.left-w.right,X=(G||parseInt(W.style("height"))||400)-w.top-w.bottom;a.update=function(){W.transition().duration(V).call(a)};a.container=this;O.disabled=n.map(function(a){return!!a.disabled});if(!s){var ia;s={};for(ia in O)s[ia]=O[ia]instanceof Array?O[ia].slice(0):O[ia]}if(n&&n.length&&n.filter(function(a){return a.values.length}).length)W.selectAll(".nv-noData").remove();
else return ia=W.selectAll(".nv-noData").data([B]),ia.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),ia.attr("x",w.left+E/2).attr("y",w.top+X/2).text(function(a){return a}),a;J=b.xScale();M=b.yScale();ia=W.selectAll("g.nv-wrap.nv-stackedAreaChart").data([n]);var ja=ia.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),Y=ia.select("g");ja.append("rect").style("opacity",0);ja.append("g").attr("class","nv-x nv-axis");
ja.append("g").attr("class","nv-y nv-axis");ja.append("g").attr("class","nv-stackedWrap");ja.append("g").attr("class","nv-legendWrap");ja.append("g").attr("class","nv-controlsWrap");ja.append("g").attr("class","nv-interactive");Y.select("rect").attr("width",E).attr("height",X);H&&(ja=A?E-x:E,u.width(ja),Y.select(".nv-legendWrap").datum(n).call(u),w.top!=u.height()&&(w.top=u.height(),X=(G||parseInt(W.style("height"))||400)-w.top-w.bottom),Y.select(".nv-legendWrap").attr("transform","translate("+(E-
ja)+","+-w.top+")"));if(A){var ea=[{key:R.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=b.style(),style:"stack"},{key:R.stream||"Stream",metaKey:"Stream",disabled:"stream"!=b.style(),style:"stream"},{key:R.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=b.style(),style:"expand"},{key:R.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=b.style(),style:"stack_percent"}];x=S.length/3*260;ea=ea.filter(function(a){return-1!==S.indexOf(a.metaKey)});l.width(x).color(["#444",
"#444","#444"]);Y.select(".nv-controlsWrap").datum(ea).call(l);w.top!=Math.max(l.height(),u.height())&&(w.top=Math.max(l.height(),u.height()),X=(G||parseInt(W.style("height"))||400)-w.top-w.bottom);Y.select(".nv-controlsWrap").attr("transform","translate(0,"+-w.top+")")}ia.attr("transform","translate("+w.left+","+w.top+")");Q&&Y.select(".nv-y.nv-axis").attr("transform","translate("+E+",0)");N&&(f.width(E).height(X).margin({left:w.left,top:w.top}).svgContainer(W).xScale(J),ia.select(".nv-interactive").call(f));
b.width(E).height(X);Y.select(".nv-stackedWrap").datum(n).transition().call(b);F&&(t.scale(J).ticks(E/100).tickSize(-X,0),Y.select(".nv-x.nv-axis").attr("transform","translate(0,"+X+")"),Y.select(".nv-x.nv-axis").transition().duration(0).call(t));L&&(z.scale(M).ticks("wiggle"==b.offset()?0:X/36).tickSize(-E,0).setTickFormat("expand"==b.style()||"stack_percent"==b.style()?d3.format("%"):T),Y.select(".nv-y.nv-axis").transition().duration(0).call(z));b.dispatch.on("areaClick.toggle",function(b){1===
n.filter(function(a){return!a.disabled}).length?n.forEach(function(a){a.disabled=!1}):n.forEach(function(a,f){a.disabled=f!=b.seriesIndex});O.disabled=n.map(function(a){return!!a.disabled});K.stateChange(O);a.update()});u.dispatch.on("stateChange",function(b){O.disabled=b.disabled;K.stateChange(O);a.update()});l.dispatch.on("legendClick",function(f,k){f.disabled&&(ea=ea.map(function(a){a.disabled=!0;return a}),f.disabled=!1,b.style(f.style),O.style=b.style(),K.stateChange(O),a.update())});f.dispatch.on("elementMousemove",
function(l){b.clearHighlights();var q,s,u,x=[];n.filter(function(a,b){a.seriesIndex=b;return!a.disabled}).forEach(function(f,k){s=r.interactiveBisect(f.values,l.pointXValue,a.x());b.highlightPoint(k,s,!0);var n=f.values[s];if("undefined"!==typeof n){"undefined"===typeof q&&(q=n);"undefined"===typeof u&&(u=a.xScale()(a.x()(n,s)));var t="expand"==b.style()?n.display.y:a.y()(n,s);x.push({key:f.key,value:t,color:D(f,f.seriesIndex),stackedValue:n.display})}});x.reverse();if(2<x.length){var A=a.yScale().invert(l.mouseY),
B=null;x.forEach(function(a,b){A=Math.abs(A);var f=Math.abs(a.stackedValue.y0),k=Math.abs(a.stackedValue.y);A>=f&&A<=k+f&&(B=b)});null!=B&&(x[B].highlight=!0)}var E=t.tickFormat()(a.x()(q,s)),F="expand"==b.style()?function(a,b){return d3.format(".1%")(a)}:function(a,b){return z.tickFormat()(a)};f.tooltip.position({left:u+w.left,top:l.mouseY+w.top}).chartContainer(k.parentNode).enabled(C).valueFormatter(F).data({value:E,series:x})();f.renderGuideLine(u)});f.dispatch.on("elementMouseout",function(a){K.tooltipHide();
b.clearHighlights()});K.on("tooltipShow",function(f){if(C){var l=k.parentNode,n=f.pos[0]+(l.offsetLeft||0),q=f.pos[1]+(l.offsetTop||0),s=t.tickFormat()(b.x()(f.point,f.pointIndex)),u=z.tickFormat()(b.y()(f.point,f.pointIndex)),s=P(f.series.key,s,u,f,a);r.tooltip.show([n,q],s,0>f.value?"n":"s",null,l)}});K.on("changeState",function(f){"undefined"!==typeof f.disabled&&n.length===f.disabled.length&&(n.forEach(function(a,b){a.disabled=f.disabled[b]}),O.disabled=f.disabled);"undefined"!==typeof f.style&&
b.style(f.style);a.update()})});return a}var b=r.models.stackedArea(),t=r.models.axis(),z=r.models.axis(),u=r.models.legend(),l=r.models.legend(),f=r.interactiveGuideline(),w={top:30,right:25,bottom:50,left:60},q=null,G=null,D=r.utils.defaultColor(),A=!0,H=!0,F=!0,L=!0,Q=!1,N=!1,C=!0,P=function(a,b,f,k,l){return"<h3>"+a+"</h3><p>"+f+" on "+b+"</p>"},J,M,T=d3.format(",.2f"),O={style:b.style()},s=null,B="No Data Available.",K=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),x=250,
S=["Stacked","Stream","Expanded"],R={},V=250;t.orient("bottom").tickPadding(7);z.orient(Q?"right":"left");l.updateState(!1);b.dispatch.on("tooltipShow",function(a){a.pos=[a.pos[0]+w.left,a.pos[1]+w.top];K.tooltipShow(a)});b.dispatch.on("tooltipHide",function(a){K.tooltipHide(a)});K.on("tooltipHide",function(){C&&r.tooltip.cleanup()});a.dispatch=K;a.stacked=b;a.legend=u;a.controls=l;a.xAxis=t;a.yAxis=z;a.interactiveLayer=f;d3.rebind(a,b,"x","y","size","xScale","yScale","xDomain","yDomain","xRange",
"yRange","sizeDomain","interactive","useVoronoi","offset","order","style","clipEdge","forceX","forceY","forceSize","interpolate");a.options=r.utils.optionsFunc.bind(a);a.margin=function(b){if(!arguments.length)return w;w.top="undefined"!=typeof b.top?b.top:w.top;w.right="undefined"!=typeof b.right?b.right:w.right;w.bottom="undefined"!=typeof b.bottom?b.bottom:w.bottom;w.left="undefined"!=typeof b.left?b.left:w.left;return a};a.width=function(b){if(!arguments.length)return q;q=b;return a};a.height=
function(b){if(!arguments.length)return G;G=b;return a};a.color=function(f){if(!arguments.length)return D;D=r.utils.getColor(f);u.color(D);b.color(D);return a};a.showControls=function(b){if(!arguments.length)return A;A=b;return a};a.showLegend=function(b){if(!arguments.length)return H;H=b;return a};a.showXAxis=function(b){if(!arguments.length)return F;F=b;return a};a.showYAxis=function(b){if(!arguments.length)return L;L=b;return a};a.rightAlignYAxis=function(b){if(!arguments.length)return Q;Q=b;z.orient(b?
"right":"left");return a};a.useInteractiveGuideline=function(b){if(!arguments.length)return N;N=b;!0===b&&(a.interactive(!1),a.useVoronoi(!1));return a};a.tooltip=function(b){if(!arguments.length)return P;P=b;return a};a.tooltips=function(b){if(!arguments.length)return C;C=b;return a};a.tooltipContent=function(b){if(!arguments.length)return P;P=b;return a};a.state=function(b){if(!arguments.length)return O;O=b;return a};a.defaultState=function(b){if(!arguments.length)return s;s=b;return a};a.noData=
function(b){if(!arguments.length)return B;B=b;return a};a.transitionDuration=function(b){if(!arguments.length)return V;V=b;return a};a.controlsData=function(b){if(!arguments.length)return S;S=b;return a};a.controlLabels=function(b){if(!arguments.length||"object"!==typeof b)return R;R=b;return a};z.setTickFormat=z.tickFormat;z.tickFormat=function(a){if(!arguments.length)return T;T=a;return z};return a}})();
(function(ma,r){var a=0;ma.widget("s3.timeplot",{options:{ajaxURL:null,autoSubmit:1E3,burnDown:!1,emptyMessage:"No data available"},_create:function(){this.id=a;a+=1},_init:function(){this.widget_id=ma(this.element).attr("id");this.input=ma(this.element).find('input[type="hidden"][name="tp-data"]').first();this.svg=this.data=null;this.refresh()},_destroy:function(){var a=this.element;this._unbindEvents();this.svg&&(this.svg.remove(),this.svg=null,a.find(".tp-chart").empty());this.data=null;ma.Widget.prototype.destroy.call(this)},
refresh:function(){var a=this.element;this._unbindEvents();this._renderChart();this.options.autoSubmit?a.find(".tp-submit").hide():a.find(".tp-submit").show();this._bindEvents();a.find(".tp-throbber").hide()},_renderChart:function(){var a=this.element,r=this.data;null===r&&(r=JSON.parse(this.input.val()));r||(r={empty:!0});this.data=r;this.svg&&(this.svg.remove(),this.svg=null,a.find(".tp-chart").empty());var z=a.width(),u=z/16*5;if(r.empty)a.find(".tp-empty").show();else{a.find(".tp-empty").hide();
var a=this._computeValues(r),r=this.options.burnDown?6*a.maxValue.toString().length+18:10,l=this.options.burnDown?10:6*a.maxValue.toString().length+18,z=z-l-r,u=u-40-70;this.svg=d3.select("#timeplot .tp-chart").append("svg").attr("width",z+l+r).attr("height",u+40+70).append("g").attr("transform","translate("+l+",40)");this._renderBarChart(a,z,u)}},_computeValues:function(a){var r,z=this.options.burnDown;r=a.z?a.z[2]:0;var u=[],l,f;if(a.e)u=[],l=d3.min([r,0]),f=d3.max([r,0]);else{l=a.p;var w;f=0;for(var q=
l.length;f<q;f++){w=l[f];var G=w.t[0],D=w.t[1];w=w.v;w=z&&(r||0===r)?r-w:w;u.push([G,D,w])}l=d3.min(u,function(a){return z?a[2]:Math.min(a[2],r)});f=d3.max(u,function(a){return z?a[2]:Math.max(a[2],r)})}return{baseline:r,items:u,empty:a.e,minValue:l,maxValue:f}},_renderBarChart:function(a,r,z){var u=this.svg,l=this.options.burnDown,f=d3.scale.ordinal().rangeRoundBands([0,r],.05),w=d3.svg.axis().scale(f).orient("bottom").tickFormat(d3.time.format("%Y-%m-%d")),q=d3.scale.linear().range([z,0]),G=d3.svg.axis().scale(q).orient(l?
"right":"left"),D=this;f.domain(a.items.map(function(a){return D._parseDate(a[0])}));q.domain([Math.min(0,a.minValue),a.maxValue]);u.append("g").attr("class","x axis").attr("transform","translate(0,"+z+")").call(w).selectAll("text").style("text-anchor","end").style("font","10px sans-serif").attr("dx","-.8em").attr("dy","-.55em").attr("transform","rotate(-90)");z=l?r:0;u.append("g").attr("class","y axis").attr("transform","translate("+z+",0)").call(G);a.empty?u.selectAll("message").data([this.options.emptyMessage]).enter().append("text").attr("class",
"empty").attr("x",20).attr("y",30).text(function(a){return a}):(u.append("g").attr("class","grid").call(G.tickSize(l?r:-r).tickFormat("")),(G=a.baseline)&&!l&&(u.selectAll("basearea").data([G]).enter().append("rect").attr("class",0<G?"basearea positive":"basearea negative").attr("x",0).attr("width",r).attr("y",function(a){return 0>a?q(0):q(a)}).attr("height",function(a){return Math.abs(q(a)-q(0))}),u.selectAll("baseline").data([G]).enter().append("line").attr("class",0<G?"baseline positive":"baseline negative").attr("x1",
0).attr("x2",r).attr("y1",function(a){return q(a)}).attr("y2",function(a){return q(a)})),u.selectAll("bar").data(a.items).enter().append("rect").attr("class",function(a,b){return 0>a[2]?"bar negative":"bar positive"}).attr("x",function(a){return f(D._parseDate(a[0]))}).attr("width",f.rangeBand()).attr("y",function(a){return 0>a[2]?q(0):q(a[2])}).attr("height",function(a){return Math.abs(q(a[2])-q(0))}))},reload:function(a,r,z){z="undefined"!=typeof z?z:!0;"undefined"==typeof r&&(r=this._getFilters());
var u=this,l=!1;ma(this.element).find(".tp-throbber").show();if(a||r)l=this._updateAjaxURL(a,r);l||z?ma.ajax({url:this.options.ajaxURL,dataType:"json"}).done(function(a){u.input.val(JSON.stringify(a));u.data=a;u.refresh()}).fail(function(a,b,l){msg="UNAUTHORIZED"==l?i18n.gis_requires_login:a.responseText;console.log(msg)}):u.refresh()},_getOptions:function(){var a="#"+ma(this.element).attr("id"),a=ma(a+"-time").val(),r=null,z=null,u=null,l=null;"custom"!=a&&(r=a.split("|"),3==r.length&&(z=r[0],u=
r[1],l=r[2]));return{start:z,end:u,slots:l}},_getFilters:function(){var a=ma("#"+this.widget_id+"-filters");try{return a.length?S3.search.getCurrentFilters(a.first()):null}catch(r){return null}},_updateAjaxURL:function(a,r){var z=this.options.ajaxURL;if(!z)return!1;var u,l=z.split("?"),f;1<l.length?(u=l[1],f=u.split("&")):f=[];var w=[],z=!1;if(a)for(var q in a)u=a[q],u=q+"="+u,z||-1!=ma.inArray(u,f)||(z=!0),w.push(u);q={};u={};var G,D,A,H;if(r)for(G=0,D=r.length;G<D;G++)H=r[G],A=H[0],H=H[1],null===
H?q[A]||(u[A]=!0):(u[A]&&(u[A]=!1),q[A]?q[A].push(A+"="+H):q[A]=[A+"="+H]);G=0;for(D=f.length;G<D;G++)H=f[G].split("="),1<H.length&&(A=decodeURIComponent(H[0]),H=decodeURIComponent(H[1]),u[A]?z=!0:q[A]?z||-1!=ma.inArray(A+"="+H,q[A])||(z=!0):a&&a.hasOwnProperty(A)||w.push(f[G]));for(A in q)for(G=0,D=q[A].length;G<D;G++)z||-1!=ma.inArray(q[A][G],f)||(z=!0),w.push(q[A][G]);A=w.join("&");l=l[0];A&&(l=l+"?"+A);this.options.ajaxURL=l;return z},_parseDate:function(a){return d3.time.format("%Y-%m-%dT%H:%M:%S+00:00").parse(a)},
_bindEvents:function(){var a=this,r=this.widget_id;ma(window).on("resize.timeplot",function(){a.refresh()});ma("#"+r+"-options legend").click(function(){ma(this).siblings().toggle();ma(this).children().toggle()});ma("#"+r+"-filters legend").click(function(){ma(this).siblings().toggle();ma(this).children().toggle()});ma("#"+r+"-time").on("change.autosubmit",function(){ma("#"+r+"-tp-form").trigger("optionChanged")});if(this.options.autoSubmit){var z=this.options.autoSubmit;ma("#"+this.widget_id+"-tp-form").on("optionChanged",
function(){var r=ma(this);if(!r.data("noAutoSubmit")){var l=r.data("autoSubmitTimeout");l&&clearTimeout(l);l=setTimeout(function(){var f=a._getOptions(),l=a._getFilters();a.reload(f,l,!1)},z);r.data("autoSubmitTimeout",l)}})}else ma("#"+this.widget_id+"-tp-form input.tp-submit").on("click.timeplot",function(){var r=a._getOptions(),l=a._getFilters();a.reload(r,l,!1)})},_unbindEvents:function(){var a=this.widget_id;ma(window).off("resize.timeplot");ma("#"+a+"-tp-form").off("optionChanged");ma("#"+a+
"-tp-form input.tp-submit").off("click.timeplot");ma("#"+a+"-time").unbind("change.autosubmit");ma("#"+a+"-options legend").unbind("click");ma("#"+a+"-filters legend").unbind("click")}})})(jQuery);
